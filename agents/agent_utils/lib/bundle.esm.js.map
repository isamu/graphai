{"version":3,"file":"bundle.esm.js","sources":["../src/index.ts"],"sourcesContent":["import { AgentFunctionInfoSample, GraphData, NodeData, DefaultInputData, assert } from \"graphai\";\nexport * from \"./type\";\n\nexport const sample2GraphData = (sample: AgentFunctionInfoSample, agentName: string) => {\n  const nodes: Record<string, NodeData> = {};\n  const inputs = (() => {\n    if (Array.isArray(sample.inputs)) {\n      Array.from(sample.inputs.keys()).forEach((key) => {\n        nodes[\"sampleInput\" + key] = {\n          value: sample.inputs[key],\n        };\n      });\n      return Object.keys(nodes).map((k) => \":\" + k);\n    }\n    nodes[\"sampleInput\"] = {\n      value: sample.inputs,\n    };\n    return Object.keys(sample.inputs).reduce((tmp: Record<string, string>, key: string) => {\n      tmp[key] = `:sampleInput.` + key;\n      return tmp;\n    }, {});\n  })();\n\n  nodes[\"node\"] = {\n    isResult: true,\n    agent: agentName,\n    params: sample.params,\n    inputs: inputs,\n    graph: sample.graph,\n  };\n  const graphData: GraphData = {\n    version: 0.5,\n    nodes,\n  };\n  return graphData;\n};\n\nexport const isNamedInputs = <NamedInput = DefaultInputData>(namedInputs: NamedInput) => {\n  return Object.keys(namedInputs || {}).length > 0;\n};\n\nexport const arrayValidate = (agentName: string, namedInputs: { array: Array<unknown> }, extra_message: string = \"\") => {\n  assert(isNamedInputs(namedInputs), `${agentName}: namedInputs is UNDEFINED!` + extra_message);\n  assert(!!namedInputs.array, `${agentName}: namedInputs.array is UNDEFINED!` + extra_message);\n  assert(Array.isArray(namedInputs.array), `${agentName}: namedInputs.array is not Array.` + extra_message);\n};\n\nexport const isNull = (data: unknown) => {\n  return data === null || data === undefined;\n};\n"],"names":[],"mappings":";;MAGa,gBAAgB,GAAG,CAAC,MAA+B,EAAE,SAAiB,KAAI;IACrF,MAAM,KAAK,GAA6B,EAAE;AAC1C,IAAA,MAAM,MAAM,GAAG,CAAC,MAAK;QACnB,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE;AAChC,YAAA,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,KAAI;AAC/C,gBAAA,KAAK,CAAC,aAAa,GAAG,GAAG,CAAC,GAAG;AAC3B,oBAAA,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC;iBAC1B;AACH,YAAA,CAAC,CAAC;AACF,YAAA,OAAO,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;QAC/C;QACA,KAAK,CAAC,aAAa,CAAC,GAAG;YACrB,KAAK,EAAE,MAAM,CAAC,MAAM;SACrB;AACD,QAAA,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,GAA2B,EAAE,GAAW,KAAI;AACpF,YAAA,GAAG,CAAC,GAAG,CAAC,GAAG,CAAA,aAAA,CAAe,GAAG,GAAG;AAChC,YAAA,OAAO,GAAG;QACZ,CAAC,EAAE,EAAE,CAAC;IACR,CAAC,GAAG;IAEJ,KAAK,CAAC,MAAM,CAAC,GAAG;AACd,QAAA,QAAQ,EAAE,IAAI;AACd,QAAA,KAAK,EAAE,SAAS;QAChB,MAAM,EAAE,MAAM,CAAC,MAAM;AACrB,QAAA,MAAM,EAAE,MAAM;QACd,KAAK,EAAE,MAAM,CAAC,KAAK;KACpB;AACD,IAAA,MAAM,SAAS,GAAc;AAC3B,QAAA,OAAO,EAAE,GAAG;QACZ,KAAK;KACN;AACD,IAAA,OAAO,SAAS;AAClB;AAEO,MAAM,aAAa,GAAG,CAAgC,WAAuB,KAAI;AACtF,IAAA,OAAO,MAAM,CAAC,IAAI,CAAC,WAAW,IAAI,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC;AAClD;AAEO,MAAM,aAAa,GAAG,CAAC,SAAiB,EAAE,WAAsC,EAAE,aAAA,GAAwB,EAAE,KAAI;AACrH,IAAA,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,EAAE,CAAA,EAAG,SAAS,CAAA,2BAAA,CAA6B,GAAG,aAAa,CAAC;AAC7F,IAAA,MAAM,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,EAAE,CAAA,EAAG,SAAS,CAAA,iCAAA,CAAmC,GAAG,aAAa,CAAC;AAC5F,IAAA,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,GAAG,SAAS,CAAA,iCAAA,CAAmC,GAAG,aAAa,CAAC;AAC3G;AAEO,MAAM,MAAM,GAAG,CAAC,IAAa,KAAI;AACtC,IAAA,OAAO,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,SAAS;AAC5C;;;;"}