{"version":3,"file":"bundle.esm.min.js","sources":["../src/string_agents/string_splitter_agent.ts","../src/string_agents/string_template_agent.ts","../src/string_agents/json_parser_agent.ts","../src/string_agents/string_case_variants_agent.ts","../src/graph_agents/nested_agent.ts","../src/string_agents/string_update_text_agent.ts","../src/string_agents/console_agent.ts","../src/array_agents/push_agent.ts","../src/array_agents/pop_agent.ts","../src/array_agents/shift_agent.ts","../src/array_agents/array_flat_agent.ts","../src/array_agents/array_join_agent.ts","../src/array_agents/array_to_object.ts","../src/matrix_agents/dot_product_agent.ts","../src/matrix_agents/sort_by_values_agent.ts","../src/test_agents/echo_agent.ts","../src/test_agents/counting_agent.ts","../src/test_agents/copy_message_agent.ts","../src/test_agents/copy2array_agent.ts","../src/test_agents/merge_node_id_agent.ts","../src/test_agents/stream_mock_agent.ts","../src/graph_agents/map_agent.ts","../src/data_agents/total_agent.ts","../src/data_agents/data_sum_template_agent.ts","../src/data_agents/property_filter_agent.ts","../src/data_agents/copy_agent.ts","../src/data_agents/lookup_dictionary_agent.ts","../src/data_agents/merge_objects_agent.ts","../src/service_agents/vanilla_fetch_agent.ts","../src/sleeper_agents/sleeper_agent.ts","../src/compare_agents/compare_agent.ts","../src/images_agents/image_to_message_agent.ts","../src/embedding_agent.ts"],"sourcesContent":["import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { GraphAIText } from \"@graphai/agent_utils\";\n\n// This agent strip one long string into chunks using following parameters\n//\n//  chunkSize: number; // default is 2048\n//  overlap: number;   // default is 1/8th of chunkSize.\n//\n// see example\n//  tests/agents/test_string_agent.ts\n//\nconst defaultChunkSize = 2048;\n\nexport const stringSplitterAgent: AgentFunction<\n  {\n    chunkSize?: number;\n    overlap?: number;\n  },\n  {\n    contents: Array<string>;\n    count: number;\n    chunkSize: number;\n    overlap: number;\n  },\n  GraphAIText\n> = async ({ params, namedInputs }) => {\n  assert(!!namedInputs, \"stringSplitterAgent: namedInputs is UNDEFINED!\");\n  const source = namedInputs.text;\n  const chunkSize = params.chunkSize ?? defaultChunkSize;\n  const overlap = params.overlap ?? Math.floor(chunkSize / 8);\n  const count = Math.floor(source.length / (chunkSize - overlap)) + 1;\n  const contents = new Array(count).fill(undefined).map((_, i) => {\n    const startIndex = i * (chunkSize - overlap);\n    return source.substring(startIndex, startIndex + chunkSize);\n  });\n\n  return { contents, count, chunkSize, overlap };\n};\n\n// for test and document\nconst sampleInput = {\n  text: \"Here's to the crazy ones, the misfits, the rebels, the troublemakers, the round pegs in the square holes ... the ones who see things differently -- they're not fond of rules, and they have no respect for the status quo. ... You can quote them, disagree with them, glorify or vilify them, but the only thing you can't do is ignore them because they change things. ... They push the human race forward, and while some may see them as the crazy ones, we see genius, because the people who are crazy enough to think that they can change the world, are the ones who do.\",\n};\n\nconst sampleParams = { chunkSize: 64 };\nconst sampleResult = {\n  contents: [\n    \"Here's to the crazy ones, the misfits, the rebels, the troublema\",\n    \"roublemakers, the round pegs in the square holes ... the ones wh\",\n    \" ones who see things differently -- they're not fond of rules, a\",\n    \"rules, and they have no respect for the status quo. ... You can \",\n    \"You can quote them, disagree with them, glorify or vilify them, \",\n    \"y them, but the only thing you can't do is ignore them because t\",\n    \"ecause they change things. ... They push the human race forward,\",\n    \"forward, and while some may see them as the crazy ones, we see g\",\n    \"we see genius, because the people who are crazy enough to think \",\n    \"o think that they can change the world, are the ones who do.\",\n    \" do.\",\n  ],\n  count: 11,\n  chunkSize: 64,\n  overlap: 8,\n};\n\nconst stringSplitterAgentInfo: AgentFunctionInfo = {\n  name: \"stringSplitterAgent\",\n  agent: stringSplitterAgent,\n  mock: stringSplitterAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      text: {\n        type: \"string\",\n        description: \"text to be chuncked\",\n      },\n    },\n    required: [\"text\"],\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      contents: {\n        type: \"array\",\n        description: \"the array of text chunks\",\n      },\n      count: {\n        type: \"number\",\n        description: \"the number of chunks\",\n      },\n      chunkSize: {\n        type: \"number\",\n        description: \"the chunk size\",\n      },\n      overlap: {\n        type: \"number\",\n        description: \"the overlap size\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: sampleInput,\n      params: sampleParams,\n      result: sampleResult,\n    },\n  ],\n  description: \"This agent strip one long string into chunks using following parameters\",\n  category: [\"string\"],\n  author: \"Satoshi Nakajima\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/string_agents/string_splitter_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default stringSplitterAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, isObject } from \"graphai\";\n\ntype StringTemplate = string | Record<string, string>;\ntype StringTemplateObject = StringTemplate | StringTemplate[] | Record<string, StringTemplate>;\n\nconst processTemplate: any = (template: StringTemplateObject, match: string, input: string) => {\n  if (typeof template === \"string\") {\n    if (template === match) {\n      return input;\n    }\n    return template.replace(match, input);\n  } else if (Array.isArray(template)) {\n    return template.map((item: StringTemplate) => processTemplate(item, match, input));\n  }\n\n  if (isObject(template)) {\n    return Object.keys(template).reduce((tmp: any, key: string) => {\n      tmp[key] = processTemplate(template[key], match, input);\n      return tmp;\n    }, {});\n  }\n  return template;\n};\n\nexport const stringTemplateAgent: AgentFunction<\n  {\n    template: StringTemplateObject;\n  },\n  StringTemplateObject,\n  Record<string, string>\n> = async ({ params, namedInputs }) => {\n  if (params.template === undefined) {\n    if (namedInputs.text) {\n      return namedInputs.text;\n    }\n    console.warn(\"warning: stringTemplateAgent no template\");\n  }\n  return Object.keys(namedInputs).reduce((template, key) => {\n    return processTemplate(template, \"${\" + key + \"}\", namedInputs[key]);\n  }, params.template);\n};\n\nconst sampleNamedInput = { message1: \"hello\", message2: \"test\" };\n\n// for test and document\nconst stringTemplateAgentInfo: AgentFunctionInfo = {\n  name: \"stringTemplateAgent\",\n  agent: stringTemplateAgent,\n  mock: stringTemplateAgent,\n  inputs: {\n    type: \"object\",\n    description: \"Key-value pairs where each key corresponds to a variable used in the template (e.g., ${key}).\",\n    additionalProperties: {\n      type: [\"string\", \"number\", \"boolean\", \"object\", \"array\", \"null\"],\n      description: \"Any value to be substituted into the template. Objects and arrays are injected directly if the entire field is a placeholder.\",\n    },\n  },\n  params: {\n    type: \"object\",\n    description: \"The template to apply substitutions to. Supports strings, arrays, and deeply nested object structures with placeholder strings.\",\n    properties: {\n      template: {\n        description: \"The template structure where placeholders like ${key} will be replaced with values from 'inputs'.\",\n        anyOf: [\n          { type: \"string\" },\n          {\n            type: \"array\",\n            items: {\n              anyOf: [\n                { type: \"string\" },\n                {\n                  type: \"object\",\n                  additionalProperties: {\n                    anyOf: [{ type: \"string\" }, { type: \"array\", items: { type: \"string\" } }],\n                  },\n                },\n              ],\n            },\n          },\n          {\n            type: \"object\",\n            additionalProperties: {\n              anyOf: [\n                { type: \"string\" },\n                {\n                  type: \"array\",\n                  items: { type: \"string\" },\n                },\n                {\n                  type: \"object\",\n                  additionalProperties: true,\n                },\n              ],\n            },\n          },\n        ],\n      },\n    },\n    required: [\"template\"],\n    additionalProperties: false,\n  },\n  output: {\n    description: \"The result after placeholder substitution, matching the structure and type of the original template.\",\n    anyOf: [\n      { type: \"string\" },\n      {\n        type: \"array\",\n        items: {\n          anyOf: [\n            { type: \"string\" },\n            {\n              type: \"object\",\n              additionalProperties: true,\n            },\n          ],\n        },\n      },\n      {\n        type: \"object\",\n        additionalProperties: true,\n      },\n    ],\n  },\n  samples: [\n    // named\n    {\n      inputs: sampleNamedInput,\n      params: { template: \"${message1}: ${message2}\" },\n      result: \"hello: test\",\n    },\n    {\n      inputs: sampleNamedInput,\n      params: { template: [\"${message1}: ${message2}\", \"${message2}: ${message1}\"] },\n      result: [\"hello: test\", \"test: hello\"],\n    },\n    {\n      inputs: sampleNamedInput,\n      params: { template: { apple: \"${message1}\", lemon: \"${message2}\" } },\n      result: { apple: \"hello\", lemon: \"test\" },\n    },\n    {\n      inputs: sampleNamedInput,\n      params: { template: [{ apple: \"${message1}\", lemon: \"${message2}\" }] },\n      result: [{ apple: \"hello\", lemon: \"test\" }],\n    },\n    {\n      inputs: sampleNamedInput,\n      params: { template: { apple: \"${message1}\", lemon: [\"${message2}\"] } },\n      result: { apple: \"hello\", lemon: [\"test\"] },\n    },\n    // graphData\n    {\n      inputs: { agent: \"openAiAgent\", row: \"hello world\", params: { text: \"message\" } },\n      params: {\n        template: {\n          version: 0.5,\n          nodes: {\n            ai: {\n              agent: \"${agent}\",\n              isResult: true,\n              params: \"${params}\",\n              inputs: { prompt: \"${row}\" },\n            },\n          },\n        },\n      },\n      result: {\n        nodes: {\n          ai: {\n            agent: \"openAiAgent\",\n            inputs: {\n              prompt: \"hello world\",\n            },\n            isResult: true,\n            params: { text: \"message\" },\n          },\n        },\n        version: 0.5,\n      },\n    },\n  ],\n  description: \"Template agent\",\n  category: [\"string\"],\n  author: \"Satoshi Nakajima\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/string_agents/string_template_agent.ts\",\n  package: \"@graphai/vanilla\",\n  cacheType: \"pureAgent\",\n  license: \"MIT\",\n};\nexport default stringTemplateAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport type { GraphAIWithOptionalTextAndData } from \"@graphai/agent_utils\";\n\nexport const jsonParserAgent: AgentFunction<null, unknown, GraphAIWithOptionalTextAndData> = async ({ namedInputs }) => {\n  const { text, data } = namedInputs;\n\n  if (data) {\n    return {\n      text: JSON.stringify(data, null, 2),\n    };\n  }\n  const match = (\"\\n\" + text).match(/\\n```[a-zA-Z]*([\\s\\S]*?)\\n```/);\n  if (match) {\n    return {\n      data: JSON.parse(match[1]),\n    };\n  }\n  return {\n    data: JSON.parse(text ?? \"\"),\n  };\n};\n\nconst sample_object = { apple: \"red\", lemon: \"yellow\" };\n\nconst json_str = JSON.stringify(sample_object);\nconst md_json1 = [\"```\", json_str, \"```\"].join(\"\\n\");\n\nconst md_json2 = [\"```json\", json_str, \"```\"].join(\"\\n\");\n\nconst md_json3 = [\"```JSON\", json_str, \"```\"].join(\"\\n\");\n\nconst jsonParserAgentInfo: AgentFunctionInfo = {\n  name: \"jsonParserAgent\",\n  agent: jsonParserAgent,\n  mock: jsonParserAgent,\n  inputs: {\n    type: \"object\",\n    description: \"The input object containing either a JSON string in 'text' or a raw JavaScript object in 'data'. One of them is required.\",\n    properties: {\n      text: {\n        type: \"string\",\n        description: \"A JSON string, possibly embedded in a Markdown code block. If provided, it will be parsed into a data object.\",\n      },\n      data: {\n        anyOf: [{ type: \"object\" }, { type: \"array\" }, { type: \"string\" }, { type: \"number\" }],\n        description: \"Raw data to be converted into a formatted JSON string in the 'text' output.\",\n      },\n    },\n    required: [],\n    additionalProperties: false,\n  },\n  params: {\n    type: \"object\",\n    description: \"No parameters are required for this agent.\",\n    properties: {},\n    additionalProperties: false,\n  },\n  output: {\n    type: \"object\",\n    description: \"Returns either a parsed data object (from 'text') or a formatted JSON string (from 'data').\",\n    properties: {\n      text: {\n        type: \"string\",\n        description: \"A pretty-printed JSON string generated from the 'data' input, if provided.\",\n      },\n      data: {\n        anyOf: [{ type: \"object\" }, { type: \"array\" }, { type: \"string\" }, { type: \"number\" }],\n        description: \"Parsed data object from the 'text' input, or the original 'data' if no parsing was required.\",\n      },\n    },\n    required: [],\n    additionalProperties: false,\n  },\n  samples: [\n    {\n      inputs: { data: sample_object },\n      params: {},\n      result: { text: JSON.stringify(sample_object, null, 2) },\n    },\n    {\n      inputs: { text: JSON.stringify(sample_object, null, 2) },\n      params: {},\n      result: { data: sample_object },\n    },\n    {\n      inputs: { text: md_json1 },\n      params: {},\n      result: { data: sample_object },\n    },\n    {\n      inputs: { text: md_json2 },\n      params: {},\n      result: { data: sample_object },\n    },\n    {\n      inputs: { text: md_json3 },\n      params: {},\n      result: { data: sample_object },\n    },\n  ],\n  description: \"Template agent\",\n  category: [\"string\"],\n  author: \"Satoshi Nakajima\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/string_agents/json_parser_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default jsonParserAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport type { GraphAIText } from \"@graphai/agent_utils\";\n\nexport const stringCaseVariantsAgent: AgentFunction<\n  { suffix?: string },\n  { lowerCamelCase: string; snakeCase: string; kebabCase: string; normalized: string },\n  GraphAIText\n> = async ({ namedInputs, params }) => {\n  const { suffix } = params;\n  const normalizedArray = namedInputs.text\n    .trim()\n    .replace(/[\\s-_]+/g, \" \")\n    .toLowerCase()\n    .split(\" \");\n  if (suffix && normalizedArray[normalizedArray.length - 1] !== suffix) {\n    normalizedArray.push(suffix);\n  }\n  const normalized = normalizedArray.join(\" \");\n\n  const lowerCamelCase = normalizedArray\n    .map((word, index) => {\n      if (index === 0) return word;\n      return word.charAt(0).toUpperCase() + word.slice(1);\n    })\n    .join(\"\");\n\n  const snakeCase = normalized.replace(/\\s+/g, \"_\");\n  const kebabCase = normalized.replace(/\\s+/g, \"-\");\n\n  return { lowerCamelCase, snakeCase, kebabCase, normalized };\n};\n\nconst stringCaseVariantsAgentInfo: AgentFunctionInfo = {\n  name: \"stringCaseVariantsAgent\",\n  agent: stringCaseVariantsAgent,\n  mock: stringCaseVariantsAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      text: {\n        type: \"string\",\n        description: \"The input string to be transformed into various casing styles.\",\n      },\n    },\n    required: [\"text\"],\n    additionalProperties: false,\n  },\n  params: {\n    type: \"object\",\n    properties: {\n      suffix: {\n        type: \"string\",\n        description: \"An optional suffix to append to the input string before transforming cases.\",\n      },\n    },\n    additionalProperties: false,\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      kebabCase: {\n        type: \"string\",\n        description: \"The input string converted to kebab-case (e.g., 'this-is-a-pen').\",\n      },\n      snakeCase: {\n        type: \"string\",\n        description: \"The input string converted to snake_case (e.g., 'this_is_a_pen').\",\n      },\n      lowerCamelCase: {\n        type: \"string\",\n        description: \"The input string converted to lowerCamelCase (e.g., 'thisIsAPen').\",\n      },\n      normalized: {\n        type: \"string\",\n        description: \"The original string, optionally appended with the suffix, in lowercase with normalized spacing.\",\n      },\n    },\n    required: [\"kebabCase\", \"snakeCase\", \"lowerCamelCase\", \"normalized\"],\n    additionalProperties: false,\n  },\n  samples: [\n    {\n      inputs: { text: \"this is a pen\" },\n      params: {},\n      result: {\n        kebabCase: \"this-is-a-pen\",\n        lowerCamelCase: \"thisIsAPen\",\n        normalized: \"this is a pen\",\n        snakeCase: \"this_is_a_pen\",\n      },\n    },\n    {\n      inputs: { text: \"string case variants\" },\n      params: { suffix: \"agent\" },\n      result: {\n        kebabCase: \"string-case-variants-agent\",\n        lowerCamelCase: \"stringCaseVariantsAgent\",\n        normalized: \"string case variants agent\",\n        snakeCase: \"string_case_variants_agent\",\n      },\n    },\n  ],\n  description: \"Format String Cases agent\",\n  category: [\"string\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/string_agents/string_case_variants_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default stringCaseVariantsAgentInfo;\n","import type { AgentFunction, AgentFunctionInfo, AgentFunctionContext, StaticNodeData, NodeData, GraphData, ResultData, DefaultResultData } from \"graphai\";\nimport { GraphAI, assert, graphDataLatestVersion } from \"graphai\";\n\nimport type { GraphAISupressError, GraphAIOnError } from \"@graphai/agent_utils\";\n\ntype NestedAgentGeneratorOption = {\n  resultNodeId: string;\n};\nexport const nestedAgentGenerator: (\n  graphData: GraphData,\n  options?: NestedAgentGeneratorOption,\n) => (context: AgentFunctionContext) => Promise<ResultData<DefaultResultData> | GraphAIOnError> = (\n  graphData: GraphData,\n  options?: NestedAgentGeneratorOption,\n) => {\n  return async (context: AgentFunctionContext) => {\n    const { namedInputs, log, debugInfo, params, forNestedGraph } = context;\n    assert(!!forNestedGraph, \"Please update graphai to 0.5.19 or higher\");\n\n    const { agents, graphOptions, onLogCallback, callbacks } = forNestedGraph;\n    const { taskManager } = graphOptions;\n    const supressError = params.supressError ?? false;\n    if (taskManager) {\n      const status = taskManager.getStatus(false);\n      assert(status.concurrency > status.running, `nestedAgent: Concurrency is too low: ${status.concurrency}`);\n    }\n    assert(!!graphData, \"nestedAgent: graph is required\");\n\n    const { nodes } = graphData;\n    const newNodes = Object.keys(nodes).reduce((tmp: Record<string, NodeData>, key: string) => {\n      const node = nodes[key];\n      if (\"agent\" in node) {\n        tmp[key] = node;\n      } else {\n        const { value, update, isResult, console } = node;\n        tmp[key] = { value, update, isResult, console };\n      }\n      return tmp;\n    }, {});\n    const nestedGraphData = { ...graphData, nodes: newNodes, version: graphDataLatestVersion }; // deep enough copy\n\n    const nodeIds = Object.keys(namedInputs);\n    if (nodeIds.length > 0) {\n      nodeIds.forEach((nodeId) => {\n        if (nestedGraphData.nodes[nodeId] === undefined) {\n          // If the input node does not exist, automatically create a static node\n          nestedGraphData.nodes[nodeId] = { value: namedInputs[nodeId] };\n        } else {\n          // Otherwise, inject the proper data here (instead of calling injectTo method later)\n          if (namedInputs[nodeId] !== undefined) {\n            (nestedGraphData.nodes[nodeId] as StaticNodeData)[\"value\"] = namedInputs[nodeId];\n          }\n        }\n      });\n    }\n\n    try {\n      if (nestedGraphData.version === undefined && debugInfo.version) {\n        nestedGraphData.version = debugInfo.version;\n      }\n      const graphAI = new GraphAI(nestedGraphData, agents || {}, graphOptions);\n      // for backward compatibility. Remove 'if' later\n      if (onLogCallback) {\n        graphAI.onLogCallback = onLogCallback;\n      }\n      if (callbacks) {\n        graphAI.callbacks = callbacks;\n      }\n      debugInfo.subGraphs.set(graphAI.graphId, graphAI);\n      const results = await graphAI.run(false);\n      debugInfo.subGraphs.delete(graphAI.graphId);\n\n      log?.push(...graphAI.transactionLogs());\n\n      if (options && options.resultNodeId) {\n        return results[options.resultNodeId];\n      }\n      return results;\n    } catch (error) {\n      if (error instanceof Error && supressError) {\n        return {\n          onError: {\n            message: error.message,\n            error,\n          },\n        };\n      }\n      throw error;\n    }\n  };\n};\n\nexport const nestedAgent: AgentFunction<Partial<GraphAISupressError> & NestedAgentGeneratorOption> = async (context) => {\n  const { forNestedGraph, params } = context;\n  const { graphData } = forNestedGraph ?? { graphData: { nodes: {} } };\n  assert(!!graphData, \"No GraphData\");\n\n  return await nestedAgentGenerator(graphData, params)(context);\n};\n\nconst nestedAgentInfo: AgentFunctionInfo = {\n  name: \"nestedAgent\",\n  agent: nestedAgent,\n  mock: nestedAgent,\n  samples: [\n    {\n      inputs: {\n        message: \"hello\",\n      },\n      params: {},\n      result: {\n        test: [\"hello\"],\n      },\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"messages\" },\n            inputs: { messages: [\":message\"] },\n            isResult: true,\n          },\n        },\n      },\n    },\n    {\n      inputs: {\n        message: \"hello\",\n      },\n      params: {\n        resultNodeId: \"test\",\n      },\n      result: [\"hello\"],\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"messages\" },\n            inputs: { messages: [\":message\"] },\n            isResult: true,\n          },\n        },\n      },\n    },\n  ],\n  description: \"nested Agent\",\n  category: [\"graph\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/graph_agents/nested_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default nestedAgentInfo;\n","import { nestedAgentGenerator } from \"@/generator\";\nimport { graphDataLatestVersion, AgentFunctionInfo } from \"graphai\";\n\nconst stringUpdateTextGraph = {\n  version: graphDataLatestVersion,\n  nodes: {\n    newText: {\n      value: \"\",\n    },\n    oldText: {\n      value: \"\",\n    },\n    isNewText: {\n      if: \":newText\",\n      agent: \"copyAgent\",\n      inputs: {\n        text: \":newText\",\n      },\n    },\n    isOldText: {\n      unless: \":newText\",\n      agent: \"copyAgent\",\n      inputs: {\n        text: \":oldText\",\n      },\n    },\n    updatedText: {\n      agent: \"copyAgent\",\n      anyInput: true,\n      inputs: {\n        text: [\":isNewText.text\", \":isOldText.text\"],\n      },\n    },\n    resultText: {\n      isResult: true,\n      agent: \"copyAgent\",\n      anyInput: true,\n      inputs: {\n        text: \":updatedText.text.$0\",\n      },\n    },\n  },\n};\n\nconst stringUpdateTextAgent = nestedAgentGenerator(stringUpdateTextGraph, { resultNodeId: \"resultText\" });\n\nconst stringUpdateTextAgentInfo: AgentFunctionInfo = {\n  name: \"stringUpdateTextAgent\",\n  agent: stringUpdateTextAgent,\n  mock: stringUpdateTextAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      newText: {\n        type: \"string\",\n        description: \"The new text to use if provided and not empty.\",\n      },\n      oldText: {\n        type: \"string\",\n        description: \"The fallback text used if 'newText' is empty or not provided.\",\n      },\n    },\n    additionalProperties: false,\n  },\n  params: {\n    type: \"object\",\n    description: \"No parameters are used in this agent.\",\n    properties: {},\n    additionalProperties: false,\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      text: {\n        type: \"string\",\n        description: \"The resulting text. It is either the value of 'newText' if non-empty, otherwise 'oldText', or an empty string if both are missing.\",\n      },\n    },\n    required: [\"text\"],\n    additionalProperties: false,\n  },\n  samples: [\n    {\n      inputs: { newText: \"new\", oldText: \"old\" },\n      params: {},\n      result: { text: \"new\" },\n    },\n    {\n      inputs: { newText: \"\", oldText: \"old\" },\n      params: {},\n      result: { text: \"old\" },\n    },\n    {\n      inputs: {},\n      params: {},\n      result: { text: \"\" },\n    },\n    {\n      inputs: { oldText: \"old\" },\n      params: {},\n      result: { text: \"old\" },\n    },\n  ],\n  description: \"\",\n  category: [],\n  author: \"\",\n  repository: \"\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/string_agents/string_update_text_agent.ts\",\n  package: \"@graphai/vanilla\",\n  tools: [],\n  license: \"\",\n  hasGraphData: true,\n};\n\nexport default stringUpdateTextAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport type { GraphAINullableText } from \"@graphai/agent_utils\";\n\nexport const consoleAgent: AgentFunction<null, unknown, GraphAINullableText> = async ({ namedInputs }) => {\n  const { text } = namedInputs;\n  console.info(text);\n  return {\n    text,\n  };\n};\n\nconst consoleAgentInfo: AgentFunctionInfo = {\n  name: \"consoleAgent\",\n  agent: consoleAgent,\n  mock: consoleAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      text: {\n        type: \"string\",\n        description: \"text\",\n      },\n    },\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      text: {\n        type: \"string\",\n        description: \"text\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: { text: \"hello\" },\n      params: {},\n      result: { text: \"hello\" },\n    },\n  ],\n  description: \"Just text to console.info\",\n  category: [\"string\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/string_agents/console_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default consoleAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { arrayValidate } from \"@graphai/agent_utils\";\nimport type { GraphAIArray, GraphAIArrayWithOptionalItemAndItems } from \"@graphai/agent_utils\";\n\nexport const pushAgent: AgentFunction<null, GraphAIArray, GraphAIArrayWithOptionalItemAndItems> = async ({ namedInputs }) => {\n  const extra_message = \" Set inputs: { array: :arrayNodeId, item: :itemNodeId }\";\n  arrayValidate(\"pushAgent\", namedInputs, extra_message);\n  const { item, items } = namedInputs;\n  assert(item !== undefined || items !== undefined, \"pushAgent: namedInputs.item and namedInputs.items are UNDEFINED!\" + extra_message);\n  assert(items === undefined || Array.isArray(items), \"pushAgent: namedInputs.items is not array!\");\n\n  const array = namedInputs.array.map((item: any) => item); // shallow copy\n  if (item !== undefined) {\n    array.push(item);\n  }\n  if (items) {\n    items.forEach((item) => {\n      array.push(item);\n    });\n  }\n  return {\n    array,\n  };\n};\n\nconst pushAgentInfo: AgentFunctionInfo = {\n  name: \"pushAgent\",\n  agent: pushAgent,\n  mock: pushAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"the array to push an item to\",\n      },\n      item: {\n        anyOf: [{ type: \"string\" }, { type: \"integer\" }, { type: \"object\" }, { type: \"array\" }, { type: \"boolean\" }],\n        description: \"the item push into the array\",\n      },\n      items: {\n        type: \"array\",\n        description: \"items push into the array\",\n      },\n    },\n    required: [\"array\"],\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: { array: [1, 2], item: 3 },\n      params: {},\n      result: { array: [1, 2, 3] },\n    },\n    {\n      inputs: { array: [true, false], item: false },\n      params: {},\n      result: { array: [true, false, false] },\n    },\n    {\n      inputs: { array: [{ apple: 1 }], item: { lemon: 2 } },\n      params: {},\n      result: { array: [{ apple: 1 }, { lemon: 2 }] },\n    },\n    {\n      inputs: { array: [{ apple: 1 }], items: [{ lemon: 2 }, { banana: 3 }] },\n      params: {},\n      result: { array: [{ apple: 1 }, { lemon: 2 }, { banana: 3 }] },\n    },\n  ],\n  description: \"push Agent\",\n  category: [\"array\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/array_agents/push_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default pushAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport { arrayValidate } from \"@graphai/agent_utils\";\nimport type { GraphAIArray, GraphAIArrayWithItem } from \"@graphai/agent_utils\";\n\nexport const popAgent: AgentFunction<null, GraphAIArrayWithItem, GraphAIArray> = async ({ namedInputs }) => {\n  arrayValidate(\"popAgent\", namedInputs);\n\n  const array = [...namedInputs.array]; // shallow copy\n  const item = array.pop();\n  return { array, item };\n};\n\nconst popAgentInfo: AgentFunctionInfo = {\n  name: \"popAgent\",\n  agent: popAgent,\n  mock: popAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"the array to pop an item from\",\n      },\n    },\n    required: [\"array\"],\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      item: {\n        anyOf: [{ type: \"string\" }, { type: \"integer\" }, { type: \"object\" }, { type: \"array\" }],\n        description: \"the item popped from the array\",\n      },\n      array: {\n        type: \"array\",\n        description: \"the remaining array\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: { array: [1, 2, 3] },\n      params: {},\n      result: {\n        array: [1, 2],\n        item: 3,\n      },\n    },\n    {\n      inputs: { array: [\"a\", \"b\", \"c\"] },\n      params: {},\n      result: {\n        array: [\"a\", \"b\"],\n        item: \"c\",\n      },\n    },\n    {\n      inputs: {\n        array: [1, 2, 3],\n        array2: [\"a\", \"b\", \"c\"],\n      },\n      params: {},\n      result: {\n        array: [1, 2],\n        item: 3,\n      },\n    },\n  ],\n  description: \"Pop Agent\",\n  category: [\"array\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/array_agents/pop_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default popAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport { arrayValidate } from \"@graphai/agent_utils\";\nimport type { GraphAIArrayWithItem, GraphAIArray } from \"@graphai/agent_utils\";\n\nexport const shiftAgent: AgentFunction<Record<string, any>, GraphAIArrayWithItem, GraphAIArray> = async ({ namedInputs }) => {\n  arrayValidate(\"shiftAgent\", namedInputs);\n\n  const array = namedInputs.array.map((item: any) => item); // shallow copy\n  const item = array.shift();\n  return { array, item };\n};\n\nconst shiftAgentInfo: AgentFunctionInfo = {\n  name: \"shiftAgent\",\n  agent: shiftAgent,\n  mock: shiftAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"the array to shift an item from\",\n      },\n    },\n    required: [\"array\"],\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      item: {\n        anyOf: [{ type: \"string\" }, { type: \"integer\" }, { type: \"object\" }, { type: \"array\" }],\n        description: \"the item shifted from the array\",\n      },\n      array: {\n        type: \"array\",\n        description: \"the remaining array\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: { array: [1, 2, 3] },\n      params: {},\n      result: {\n        array: [2, 3],\n        item: 1,\n      },\n    },\n    {\n      inputs: { array: [\"a\", \"b\", \"c\"] },\n      params: {},\n      result: {\n        array: [\"b\", \"c\"],\n        item: \"a\",\n      },\n    },\n  ],\n  description: \"shift Agent\",\n  category: [\"array\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/array_agents/shift_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default shiftAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport { arrayValidate } from \"@graphai/agent_utils\";\nimport type { GraphAIArray } from \"@graphai/agent_utils\";\n\nexport const arrayFlatAgent: AgentFunction<{ depth?: number }, GraphAIArray, GraphAIArray> = async ({ namedInputs, params }) => {\n  arrayValidate(\"arrayFlatAgent\", namedInputs);\n  const depth = params.depth ?? 1;\n\n  const array = namedInputs.array.map((item: any) => item); // shallow copy\n  return { array: array.flat(depth) };\n};\n\nconst arrayFlatAgentInfo: AgentFunctionInfo = {\n  name: \"arrayFlatAgent\",\n  agent: arrayFlatAgent,\n  mock: arrayFlatAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"The array to be flattened\",\n      },\n    },\n    required: [\"array\"],\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"flattened array\",\n      },\n    },\n  },\n  params: {\n    type: \"object\",\n    properties: {\n      depth: {\n        type: \"number\",\n        description: \"flattening depth\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: { array: [[1], [2], [3]] },\n      params: {},\n      result: {\n        array: [1, 2, 3],\n      },\n    },\n    {\n      inputs: { array: [[1], [2], [[3]]] },\n      params: {},\n      result: {\n        array: [1, 2, [3]],\n      },\n    },\n    {\n      inputs: { array: [[1], [2], [[3]]] },\n      params: { depth: 2 },\n      result: {\n        array: [1, 2, 3],\n      },\n    },\n    {\n      inputs: { array: [[\"a\"], [\"b\"], [\"c\"]] },\n      params: {},\n      result: {\n        array: [\"a\", \"b\", \"c\"],\n      },\n    },\n  ],\n  description: \"Array Flat Agent\",\n  category: [\"array\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/array_agents/array_flat_agent.ts\",\n  package: \"@graphai/vanilla\",\n  cacheType: \"pureAgent\",\n  license: \"MIT\",\n};\nexport default arrayFlatAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport { arrayValidate } from \"@graphai/agent_utils\";\nimport type { GraphAIArray, GraphAIText } from \"@graphai/agent_utils\";\n\nexport const arrayJoinAgent: AgentFunction<{ separator?: string; flat?: number }, GraphAIText, GraphAIArray> = async ({ namedInputs, params }) => {\n  arrayValidate(\"arrayJoinAgent\", namedInputs);\n  const separator = params.separator ?? \"\";\n  const { flat } = params;\n\n  const text = flat ? namedInputs.array.flat(flat).join(separator) : namedInputs.array.join(separator);\n  return { text };\n};\n\nconst arrayJoinAgentInfo: AgentFunctionInfo = {\n  name: \"arrayJoinAgent\",\n  agent: arrayJoinAgent,\n  mock: arrayJoinAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"array join\",\n      },\n    },\n    required: [\"array\"],\n  },\n  params: {\n    type: \"object\",\n    properties: {\n      separator: {\n        type: \"string\",\n        description: \"array join separator\",\n      },\n      flat: {\n        type: \"number\",\n        description: \"array flat depth\",\n      },\n    },\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      text: {\n        type: \"string\",\n        description: \"joined text\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: { array: [[1], [2], [3]] },\n      params: {},\n      result: {\n        text: \"123\",\n      },\n    },\n    {\n      inputs: { array: [[1], [2], [[3]]] },\n      params: {},\n      result: {\n        text: \"123\",\n      },\n    },\n    {\n      inputs: { array: [[\"a\"], [\"b\"], [\"c\"]] },\n      params: {},\n      result: {\n        text: \"abc\",\n      },\n    },\n    //\n    {\n      inputs: { array: [[1], [2], [3]] },\n      params: { separator: \"|\" },\n      result: {\n        text: \"1|2|3\",\n      },\n    },\n    {\n      inputs: { array: [[[1]], [[2], [3]]] },\n      params: { separator: \"|\" },\n      result: {\n        text: \"1|2,3\",\n      },\n    },\n    {\n      inputs: { array: [[[1]], [[2], [3]]] },\n      params: { separator: \"|\", flat: 1 },\n      result: {\n        text: \"1|2|3\",\n      },\n    },\n    {\n      inputs: { array: [[[[1]], [[2], [3]]]] },\n      params: { separator: \"|\", flat: 1 },\n      result: {\n        text: \"1|2,3\",\n      },\n    },\n    {\n      inputs: { array: [[[[1]], [[2], [3]]]] },\n      params: { separator: \"|\", flat: 2 },\n      result: {\n        text: \"1|2|3\",\n      },\n    },\n  ],\n  description: \"Array Join Agent\",\n  category: [\"array\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/array_agents/array_join_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default arrayJoinAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { isNamedInputs } from \"@graphai/agent_utils\";\nimport type { GraphAIItems } from \"@graphai/agent_utils\";\n\nexport const arrayToObjectAgent: AgentFunction<{ key: string }, GraphAIItems, Record<string, any>> = async ({ params, namedInputs }) => {\n  assert(isNamedInputs(namedInputs), \"arrayToObjectAgent: namedInputs is UNDEFINED!\");\n  const { items } = namedInputs;\n  const { key } = params;\n\n  assert(items !== undefined && Array.isArray(items), \"arrayToObjectAgent: namedInputs.items is not array!\");\n  assert(key !== undefined && key !== null, \"arrayToObjectAgent: params.key is UNDEFINED!\");\n\n  return namedInputs.items.reduce((tmp: Record<string, any>, current: Record<string, any>) => {\n    tmp[current[key]] = current;\n    return tmp;\n  }, {});\n};\n\nconst arrayToObjectAgentInfo: AgentFunctionInfo = {\n  name: \"arrayToObjectAgent\",\n  agent: arrayToObjectAgent,\n  mock: arrayToObjectAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      items: {\n        type: \"array\",\n        description: \"the array to pop an item from\",\n      },\n    },\n    required: [\"items\"],\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      anyOf: [{ type: \"string\" }, { type: \"integer\" }, { type: \"object\" }, { type: \"array\" }],\n      description: \"the item popped from the array\",\n    },\n  },\n  samples: [\n    {\n      inputs: {\n        items: [\n          { id: 1, data: \"a\" },\n          { id: 2, data: \"b\" },\n        ],\n      },\n      params: { key: \"id\" },\n      result: {\n        \"1\": { id: 1, data: \"a\" },\n        \"2\": { id: 2, data: \"b\" },\n      },\n    },\n  ],\n  description: \"Array To Object Agent\",\n  category: [\"array\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/array_agents/array_to_object.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default arrayToObjectAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\n\n// This agent calculates the dot product of an array of vectors (A[]) and a vector (B),\n// typically used to calculate cosine similarity of embedding vectors.\n// Inputs:\n//  matrix: Two dimentional array of numbers.\n//  vector: One dimentional array of numbers.\n// Outputs:\n//  { contents: Array<number> } // array of docProduct of each vector (A[]) and vector B\nexport const dotProductAgent: AgentFunction<Record<never, never>, Array<number>, { matrix: Array<Array<number>>; vector: Array<number> }> = async ({\n  namedInputs,\n}) => {\n  assert(!!namedInputs, \"dotProductAgent: namedInputs is UNDEFINED!\");\n  const matrix = namedInputs.matrix as Array<Array<number>>;\n  const vector = namedInputs.vector as Array<number>;\n  if (matrix[0].length != vector.length) {\n    throw new Error(`dotProduct: Length of vectors do not match. ${matrix[0].length}, ${vector.length}`);\n  }\n  const contents = matrix.map((vector0) => {\n    return vector0.reduce((dotProduct: number, value, index) => {\n      return dotProduct + value * vector[index];\n    }, 0);\n  });\n  return contents;\n};\n\nconst dotProductAgentInfo: AgentFunctionInfo = {\n  name: \"dotProductAgent\",\n  agent: dotProductAgent,\n  mock: dotProductAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      matrix: {\n        type: \"array\",\n        description: \"A two-dimensional array of numbers. Each inner array represents a vector to be compared.\",\n        items: {\n          type: \"array\",\n          items: {\n            type: \"number\",\n            description: \"A numeric value within a vector.\",\n          },\n          description: \"A vector of numbers (row in the matrix).\",\n        },\n      },\n      vector: {\n        type: \"array\",\n        description: \"A single vector of numbers to compute dot products with each vector in the matrix.\",\n        items: {\n          type: \"number\",\n          description: \"A numeric component of the target vector.\",\n        },\n      },\n    },\n    required: [\"matrix\", \"vector\"],\n    additionalProperties: false,\n  },\n  params: {\n    type: \"object\",\n    description: \"No parameters are used in this agent.\",\n    properties: {},\n    additionalProperties: false,\n  },\n  output: {\n    type: \"array\",\n    description: \"An array of numbers representing the dot products between each vector in 'matrix' and the input 'vector'.\",\n    items: {\n      type: \"number\",\n      description: \"The result of a dot product between a matrix row and the input vector.\",\n    },\n  },\n  samples: [\n    {\n      inputs: {\n        matrix: [\n          [1, 2],\n          [3, 4],\n          [5, 6],\n        ],\n        vector: [3, 2],\n      },\n      params: {},\n      result: [7, 17, 27],\n    },\n    {\n      inputs: {\n        matrix: [\n          [1, 2],\n          [2, 3],\n        ],\n        vector: [1, 2],\n      },\n      params: {},\n      result: [5, 8],\n    },\n  ],\n  description: \"dotProduct Agent\",\n  category: [\"matrix\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/matrix_agents/dot_product_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default dotProductAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\n\n// This agent returned a sorted array of one array (A) based on another array (B).\n// The default sorting order is \"decendant\".\n//\n// Parameters:\n//  acendant: Specifies if the sorting order should be acendant. The default is \"false\" (decendant).\n// Inputs:\n//  array: Array<any>; // array to be sorted\n//  values: Array<number>; // array of numbers for sorting\n//\nexport const sortByValuesAgent: AgentFunction<\n  {\n    assendant?: boolean;\n  },\n  Array<unknown>,\n  {\n    array: Array<unknown>;\n    values: Array<unknown>;\n  }\n> = async ({ params, namedInputs }) => {\n  assert(!!namedInputs, \"sortByValue: namedInputs is UNDEFINED!\");\n  assert(!!namedInputs.array, \"sortByValue: namedInputs.array is UNDEFINED!\");\n  assert(!!namedInputs.values, \"sortByValue: namedInputs.values is UNDEFINED!\");\n\n  const direction = (params?.assendant ?? false) ? -1 : 1;\n  const array: Array<any> = namedInputs.array;\n  const values: Array<any> = namedInputs.values;\n  const joined = array.map((item, index) => {\n    return { item, value: values[index] };\n  });\n  const contents = joined\n    .sort((a, b) => {\n      return (b.value - a.value) * direction;\n    })\n    .map((a) => {\n      return a.item;\n    });\n  return contents;\n};\n\nconst sortByValuesAgentInfo: AgentFunctionInfo = {\n  name: \"sortByValuesAgent\",\n  agent: sortByValuesAgent,\n  mock: sortByValuesAgent,\n\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"The array of items to be sorted. Each item will be paired with a corresponding numeric value from the 'values' array.\",\n      },\n      values: {\n        type: \"array\",\n        description: \"An array of numeric values used to determine the sort order of the 'array' items. Must be the same length as 'array'.\",\n        items: {\n          type: \"number\",\n        },\n      },\n    },\n    required: [\"array\", \"values\"],\n    additionalProperties: false,\n  },\n  params: {\n    type: \"object\",\n    properties: {\n      assendant: {\n        type: \"boolean\",\n        description: \"If true, sorts in ascending order; otherwise, in descending order (default).\",\n      },\n    },\n    additionalProperties: false,\n  },\n  output: {\n    type: \"array\",\n    description: \"A new array where items from 'array' are sorted based on their corresponding values in 'values'.\",\n    items: {\n      type: \"any\",\n    },\n  },\n  samples: [\n    {\n      inputs: {\n        array: [\"banana\", \"orange\", \"lemon\", \"apple\"],\n        values: [2, 5, 6, 4],\n      },\n      params: {},\n      result: [\"lemon\", \"orange\", \"apple\", \"banana\"],\n    },\n    {\n      inputs: {\n        array: [\"banana\", \"orange\", \"lemon\", \"apple\"],\n        values: [2, 5, 6, 4],\n      },\n      params: {\n        assendant: true,\n      },\n      result: [\"banana\", \"apple\", \"orange\", \"lemon\"],\n    },\n  ],\n  description: \"sortByValues Agent\",\n  category: [\"matrix\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/matrix_agents/sort_by_values_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default sortByValuesAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\n\nexport const echoAgent: AgentFunction = async ({ params, filterParams }) => {\n  if (params.filterParams) {\n    return filterParams;\n  }\n  return params;\n};\n\n// for test and document\nconst echoAgentInfo: AgentFunctionInfo = {\n  name: \"echoAgent\",\n  agent: echoAgent,\n  mock: echoAgent,\n  inputs: {\n    type: \"object\",\n    description: \"This agent does not use inputs. Leave empty.\",\n    properties: {},\n    additionalProperties: false,\n  },\n  params: {\n    type: \"object\",\n    description: \"Any parameters you want to echo back. If 'filterParams' is true, only filtered parameters will be returned.\",\n    properties: {\n      filterParams: {\n        type: \"boolean\",\n        description: \"If true, returns 'filterParams' instead of the full 'params'.\",\n      },\n    },\n    additionalProperties: true,\n  },\n  output: {\n    type: \"object\",\n    description: \"Returns the full 'params' object or the 'filterParams' object if 'filterParams' is set to true.\",\n    additionalProperties: true,\n  },\n\n  samples: [\n    {\n      inputs: {},\n      params: { text: \"this is test\" },\n      result: { text: \"this is test\" },\n    },\n    {\n      inputs: {},\n      params: {\n        text: \"If you add filterParams option, it will respond to filterParams\",\n        filterParams: true,\n      },\n      result: {},\n    },\n  ],\n  description: \"Echo agent\",\n  category: [\"test\"],\n  cacheType: \"pureAgent\",\n  author: \"Satoshi Nakajima\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/test_agents/echo_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\n\nexport default echoAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\n\nexport const countingAgent: AgentFunction<{ count: number }, { list: number[] }> = async ({ params }) => {\n  return {\n    list: new Array(params.count).fill(undefined).map((_, i) => {\n      return i;\n    }),\n  };\n};\n\n// for test and document\nconst countingAgentInfo: AgentFunctionInfo = {\n  name: \"countingAgent\",\n  agent: countingAgent,\n  mock: countingAgent,\n  inputs: {\n    type: \"object\",\n    description: \"This agent does not require any inputs. Leave empty.\",\n    properties: {},\n    additionalProperties: false,\n  },\n  params: {\n    type: \"object\",\n    description: \"Parameter that defines how many numbers to generate, starting from 0.\",\n    properties: {\n      count: {\n        type: \"integer\",\n        minimum: 0,\n        description: \"The number of integers to generate, starting from 0 up to count - 1.\",\n      },\n    },\n    required: [\"count\"],\n    additionalProperties: false,\n  },\n  output: {\n    type: \"object\",\n    description: \"An object containing a list of sequential integers.\",\n    properties: {\n      list: {\n        type: \"array\",\n        description: \"An array of integers from 0 to count - 1.\",\n        items: {\n          type: \"integer\",\n        },\n      },\n    },\n    required: [\"list\"],\n    additionalProperties: false,\n  },\n  samples: [\n    {\n      inputs: {},\n      params: { count: 4 },\n      result: { list: [0, 1, 2, 3] },\n    },\n  ],\n  description: \"Counting agent\",\n  category: [\"test\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/test_agents/counting_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\n\nexport default countingAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\n\nexport const copyMessageAgent: AgentFunction<{ count: number; message: string }, { messages: string[] }> = async ({ params }) => {\n  return {\n    messages: new Array(params.count).fill(undefined).map(() => {\n      return params.message;\n    }),\n  };\n};\n\n// for test and document\nconst copyMessageAgentInfo: AgentFunctionInfo = {\n  name: \"copyMessageAgent\",\n  agent: copyMessageAgent,\n  mock: copyMessageAgent,\n  inputs: {\n    type: \"object\",\n    description: \"This agent does not use any inputs. Leave empty.\",\n    properties: {},\n    additionalProperties: false,\n  },\n  params: {\n    type: \"object\",\n    description: \"Parameters to define the message and how many times to repeat it.\",\n    properties: {\n      count: {\n        type: \"integer\",\n        minimum: 1,\n        description: \"The number of times the message should be duplicated in the array.\",\n      },\n      message: {\n        type: \"string\",\n        description: \"The message string to be repeated.\",\n      },\n    },\n    required: [\"count\", \"message\"],\n    additionalProperties: false,\n  },\n  output: {\n    type: \"object\",\n    description: \"An object containing the repeated messages.\",\n    properties: {\n      messages: {\n        type: \"array\",\n        description: \"An array of repeated message strings.\",\n        items: {\n          type: \"string\",\n        },\n      },\n    },\n    required: [\"messages\"],\n    additionalProperties: false,\n  },\n  samples: [\n    {\n      inputs: {},\n      params: { count: 4, message: \"hello\" },\n      result: { messages: [\"hello\", \"hello\", \"hello\", \"hello\"] },\n    },\n  ],\n  description: \"CopyMessage agent\",\n  category: [\"test\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/test_agents/copy_message_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\n\nexport default copyMessageAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { isNamedInputs } from \"@graphai/agent_utils\";\n\nexport const copy2ArrayAgent: AgentFunction<{ count: number }> = async ({ namedInputs, params }) => {\n  assert(isNamedInputs(namedInputs), \"copy2ArrayAgent: namedInputs is UNDEFINED!\");\n  const input = namedInputs.item ? namedInputs.item : namedInputs;\n  return new Array(params.count).fill(undefined).map(() => {\n    return input;\n  });\n};\n\n// for test and document\nconst copy2ArrayAgentInfo: AgentFunctionInfo = {\n  name: \"copy2ArrayAgent\",\n  agent: copy2ArrayAgent,\n  mock: copy2ArrayAgent,\n  inputs: {\n    type: \"object\",\n    description: \"The input item to be duplicated. Can be provided as 'item' or as a free-form object.\",\n    properties: {\n      item: {\n        description: \"The item to be copied into each element of the resulting array.\",\n        anyOf: [{ type: \"object\" }, { type: \"string\" }, { type: \"number\" }, { type: \"array\" }, { type: \"boolean\" }],\n      },\n    },\n    additionalProperties: true,\n  },\n  params: {\n    type: \"object\",\n    description: \"Parameters controlling the number of copies to return.\",\n    properties: {\n      count: {\n        type: \"integer\",\n        description: \"The number of times to copy the input item into the output array.\",\n        minimum: 1,\n      },\n    },\n    required: [\"count\"],\n    additionalProperties: false,\n  },\n  output: {\n    type: \"array\",\n    description: \"An array of 'count' copies of the input item.\",\n    items: {\n      description: \"A duplicated copy of the input item.\",\n      anyOf: [{ type: \"object\" }, { type: \"string\" }, { type: \"number\" }, { type: \"array\" }, { type: \"boolean\" }],\n    },\n  },\n  samples: [\n    {\n      inputs: { item: { message: \"hello\" } },\n      params: { count: 10 },\n      result: [\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n      ],\n    },\n    {\n      inputs: { message: \"hello\" },\n      params: { count: 10 },\n      result: [\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n      ],\n    },\n    {\n      inputs: { item: \"hello\" },\n      params: { count: 10 },\n      result: [\"hello\", \"hello\", \"hello\", \"hello\", \"hello\", \"hello\", \"hello\", \"hello\", \"hello\", \"hello\"],\n    },\n  ],\n  description: \"Copy2Array agent\",\n  category: [\"test\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/test_agents/copy2array_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\n\nexport default copy2ArrayAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport { arrayValidate } from \"@graphai/agent_utils\";\nimport type { GraphAIArray } from \"@graphai/agent_utils\";\n\nexport const mergeNodeIdAgent: AgentFunction<null, Record<string, unknown>, GraphAIArray<Record<string, unknown>>> = async ({\n  debugInfo: { nodeId },\n  namedInputs,\n}) => {\n  arrayValidate(\"mergeNodeIdAgent\", namedInputs);\n\n  const dataSet = namedInputs.array;\n\n  return dataSet.reduce(\n    (tmp, input) => {\n      return { ...tmp, ...input };\n    },\n    { [nodeId]: \"hello\" },\n  );\n};\n\n// for test and document\nconst mergeNodeIdAgentInfo: AgentFunctionInfo = {\n  name: \"mergeNodeIdAgent\",\n  agent: mergeNodeIdAgent,\n  mock: mergeNodeIdAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"An array of objects to be merged together into a single object. Each object represents a partial result or state.\",\n        items: {\n          type: \"object\",\n          description: \"A single object containing key-value pairs to merge.\",\n        },\n      },\n    },\n    required: [\"array\"],\n    additionalProperties: false,\n  },\n  params: {\n    type: \"object\",\n    description: \"This agent does not take any parameters. The object must be empty.\",\n    properties: {},\n    additionalProperties: false,\n  },\n  samples: [\n    {\n      inputs: { array: [{ message: \"hello\" }] },\n      params: {},\n      result: {\n        message: \"hello\",\n        test: \"hello\",\n      },\n    },\n  ],\n  description: \"merge node id agent\",\n  category: [\"test\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/test_agents/merge_node_id_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\n\nexport default mergeNodeIdAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, sleep } from \"graphai\";\n\nexport const streamMockAgent: AgentFunction<{ sleep?: number; message?: string }, { message: string }, { message: string }> = async ({\n  params,\n  filterParams,\n  namedInputs,\n}) => {\n  const message = params.message ?? namedInputs.message ?? \"\";\n\n  for await (const token of message.split(\"\")) {\n    if (filterParams.streamTokenCallback) {\n      filterParams.streamTokenCallback(token);\n    }\n    await sleep(params.sleep || 100);\n  }\n\n  return { message };\n};\n\n// for test and document\nconst streamMockAgentInfo: AgentFunctionInfo = {\n  name: \"streamMockAgent\",\n  agent: streamMockAgent,\n  mock: streamMockAgent,\n  inputs: {\n    anyOf: [\n      {\n        type: \"object\",\n        properties: {\n          message: {\n            type: \"string\",\n            description: \"streaming message\",\n          },\n        },\n      },\n      {\n        type: \"array\",\n      },\n    ],\n  },\n  samples: [\n    {\n      inputs: {},\n      params: { message: \"this is params test\" },\n      result: { message: \"this is params test\" },\n    },\n    {\n      inputs: { message: \"this is named inputs test\" },\n      params: {},\n      result: { message: \"this is named inputs test\" },\n    },\n  ],\n  description: \"Stream mock agent\",\n  category: [\"test\"],\n  author: \"Isamu Arimoto\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/test_agents/stream_mock_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n  stream: true,\n};\n\nexport default streamMockAgentInfo;\n","import { GraphAI, AgentFunction, AgentFunctionInfo, assert, graphDataLatestVersion } from \"graphai\";\nimport type { GraphAISupressError } from \"@graphai/agent_utils\";\n\nexport const mapAgent: AgentFunction<\n  Partial<\n    GraphAISupressError & {\n      limit: number;\n      resultAll: boolean;\n      compositeResult: boolean;\n      compositeResultKey: string;\n      rowKey: string;\n      expandKeys: string[];\n    }\n  >,\n  Record<string, any>\n> = async ({ params, namedInputs, log, debugInfo, forNestedGraph }) => {\n  assert(!!forNestedGraph, \"Please update graphai to 0.5.19 or higher\");\n\n  const { limit, resultAll, compositeResult, compositeResultKey, supressError, rowKey, expandKeys } = params;\n  const { agents, graphData, graphOptions, onLogCallback, callbacks } = forNestedGraph;\n  const { taskManager } = graphOptions;\n\n  if (taskManager) {\n    const status = taskManager.getStatus();\n    assert(status.concurrency > status.running, `mapAgent: Concurrency is too low: ${status.concurrency}`);\n  }\n\n  assert(!!namedInputs.rows, \"mapAgent: rows property is required in namedInput\");\n  assert(!!graphData, \"mapAgent: graph is required\");\n\n  const rows = namedInputs.rows.map((item: any) => item);\n  if (limit && limit < rows.length) {\n    rows.length = limit; // trim\n  }\n  const rowInputKey = rowKey ?? \"row\";\n  const { nodes } = graphData;\n  const nestedGraphData = { ...graphData, nodes: { ...nodes }, version: graphDataLatestVersion }; // deep enough copy\n\n  const nodeIds = Object.keys(namedInputs);\n  nestedGraphData.nodes[\"__mapIndex\"] = {};\n  nodeIds.forEach((nodeId) => {\n    const mappedNodeId = nodeId === \"rows\" ? rowInputKey : nodeId;\n    if (nestedGraphData.nodes[mappedNodeId] === undefined) {\n      // If the input node does not exist, automatically create a static node\n      nestedGraphData.nodes[mappedNodeId] = { value: namedInputs[nodeId] };\n    } else if (!(\"agent\" in nestedGraphData.nodes[mappedNodeId])) {\n      // Otherwise, inject the proper data here (instead of calling injectTo method later)\n      nestedGraphData.nodes[mappedNodeId][\"value\"] = namedInputs[nodeId];\n    }\n  });\n\n  try {\n    if (nestedGraphData.version === undefined && debugInfo.version) {\n      nestedGraphData.version = debugInfo.version;\n    }\n    const graphs: Array<GraphAI> = rows.map((row: any, index: number) => {\n      const graphAI = new GraphAI(nestedGraphData, agents || {}, graphOptions);\n      debugInfo.subGraphs.set(graphAI.graphId, graphAI);\n      graphAI.injectValue(rowInputKey, row, \"__mapAgent_inputs__\");\n      graphAI.injectValue(\"__mapIndex\", index, \"__mapAgent_inputs__\");\n      if (expandKeys && expandKeys.length > 0) {\n        expandKeys.map((expandKey) => {\n          graphAI.injectValue(expandKey, namedInputs[expandKey]?.[index]);\n        });\n      }\n      // for backward compatibility. Remove 'if' later\n      if (onLogCallback) {\n        graphAI.onLogCallback = onLogCallback;\n      }\n      if (callbacks) {\n        graphAI.callbacks = callbacks;\n      }\n      return graphAI;\n    });\n\n    const runs = graphs.map((graph) => {\n      return graph.run(resultAll);\n    });\n    const results = await Promise.all(runs);\n    const nodeIds = Object.keys(results[0]);\n    // assert(nodeIds.length > 0, \"mapAgent: no return values (missing isResult)\");\n    graphs.map((graph) => {\n      debugInfo.subGraphs.delete(graph.graphId);\n    });\n\n    if (log) {\n      const logs = graphs.map((graph, index) => {\n        return graph.transactionLogs().map((log) => {\n          log.mapIndex = index;\n          return log;\n        });\n      });\n      log.push(...logs.flat());\n    }\n\n    if (compositeResult || compositeResultKey) {\n      const _compositeResult = nodeIds.reduce((tmp: Record<string, Array<any>>, nodeId) => {\n        tmp[nodeId] = results.map((result) => {\n          return result[nodeId];\n        });\n        return tmp;\n      }, {});\n      if (compositeResultKey) {\n        return _compositeResult[compositeResultKey];\n      }\n      return _compositeResult;\n    }\n    return results;\n  } catch (error) {\n    if (error instanceof Error && supressError) {\n      return {\n        onError: {\n          message: error.message,\n          error,\n        },\n      };\n    }\n    throw error;\n  }\n};\n\nconst mapAgentInfo: AgentFunctionInfo = {\n  name: \"mapAgent\",\n  agent: mapAgent,\n  mock: mapAgent,\n  samples: [\n    {\n      inputs: {\n        rows: [\"apple\", \"orange\", \"banana\", \"lemon\"],\n        color: [\"red\", \"orange\", \"yellow\", \"yellow\"],\n      },\n      params: {\n        compositeResult: true,\n        expandKeys: [\"color\"],\n      },\n      graph: {\n        version: 0.5,\n        nodes: {\n          node2: {\n            agent: \"copyAgent\",\n            inputs: { a: \":row\", b: \":color\" },\n            isResult: true,\n          },\n        },\n      },\n      result: {\n        node2: [\n          {\n            a: \"apple\",\n            b: \"red\",\n          },\n          {\n            a: \"orange\",\n            b: \"orange\",\n          },\n          {\n            a: \"banana\",\n            b: \"yellow\",\n          },\n          {\n            a: \"lemon\",\n            b: \"yellow\",\n          },\n        ],\n      },\n    },\n    {\n      inputs: {\n        rows: [1, 2],\n      },\n      params: {},\n      result: [{ test: [1] }, { test: [2] }],\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"rows\" },\n            inputs: { rows: [\":row\"] },\n            isResult: true,\n          },\n        },\n      },\n    },\n    {\n      inputs: {\n        rows: [1, 2],\n      },\n      params: { rowKey: \"myKey\" },\n      result: [{ test: [1] }, { test: [2] }],\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"rows\" },\n            inputs: { rows: [\":myKey\"] },\n            isResult: true,\n          },\n        },\n      },\n    },\n    {\n      inputs: {\n        rows: [\"apple\", \"orange\", \"banana\", \"lemon\", \"melon\", \"pineapple\", \"tomato\"],\n      },\n      params: {},\n      graph: {\n        nodes: {\n          node2: {\n            agent: \"stringTemplateAgent\",\n            params: {\n              template: \"I love ${word}.\",\n            },\n            inputs: { word: \":row\" },\n            isResult: true,\n          },\n        },\n      },\n      result: [\n        { node2: \"I love apple.\" },\n        { node2: \"I love orange.\" },\n        { node2: \"I love banana.\" },\n        { node2: \"I love lemon.\" },\n        { node2: \"I love melon.\" },\n        { node2: \"I love pineapple.\" },\n        { node2: \"I love tomato.\" },\n      ],\n    },\n    {\n      inputs: {\n        rows: [{ fruit: \"apple\" }, { fruit: \"orange\" }],\n      },\n      params: {},\n      graph: {\n        nodes: {\n          node2: {\n            agent: \"stringTemplateAgent\",\n            params: {\n              template: \"I love ${item}.\",\n            },\n            inputs: { item: \":row.fruit\" },\n            isResult: true,\n          },\n        },\n      },\n      result: [{ node2: \"I love apple.\" }, { node2: \"I love orange.\" }],\n    },\n    {\n      inputs: {\n        rows: [{ fruit: \"apple\" }, { fruit: \"orange\" }],\n        name: \"You\",\n        verb: \"like\",\n      },\n      params: {},\n      graph: {\n        nodes: {\n          node2: {\n            agent: \"stringTemplateAgent\",\n            params: {\n              template: \"${name} ${verb} ${fruit}.\",\n            },\n            inputs: { fruit: \":row.fruit\", name: \":name\", verb: \":verb\" },\n            isResult: true,\n          },\n        },\n      },\n      result: [{ node2: \"You like apple.\" }, { node2: \"You like orange.\" }],\n    },\n    {\n      inputs: {\n        rows: [1, 2],\n      },\n      params: {\n        resultAll: true,\n      },\n      result: [\n        {\n          __mapIndex: 0,\n          test: [1],\n          row: 1,\n        },\n        {\n          __mapIndex: 1,\n          test: [2],\n          row: 2,\n        },\n      ],\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"rows\" },\n            inputs: { rows: [\":row\"] },\n          },\n        },\n      },\n    },\n    {\n      inputs: {\n        rows: [1, 2],\n      },\n      params: {\n        resultAll: true,\n      },\n      result: [\n        {\n          __mapIndex: 0,\n          map: [\n            {\n              test: 1,\n            },\n            {\n              test: 1,\n            },\n          ],\n          row: 1,\n          test: 1,\n        },\n        {\n          __mapIndex: 1,\n          map: [\n            {\n              test: 2,\n            },\n            {\n              test: 2,\n            },\n          ],\n          test: 2,\n          row: 2,\n        },\n      ],\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"row\" },\n            inputs: { row: \":row\" },\n          },\n          map: {\n            agent: \"mapAgent\",\n            inputs: { rows: [\":test\", \":test\"] },\n            graph: {\n              nodes: {\n                test: {\n                  isResult: true,\n                  agent: \"copyAgent\",\n                  params: { namedKey: \"row\" },\n                  inputs: { row: \":row\" },\n                },\n              },\n            },\n          },\n        },\n      },\n    },\n\n    // old response\n    {\n      inputs: {\n        rows: [1, 2],\n      },\n      params: {\n        compositeResult: true,\n      },\n      result: {\n        test: [[1], [2]],\n      },\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"rows\" },\n            inputs: { rows: [\":row\"] },\n            isResult: true,\n          },\n        },\n      },\n    },\n    {\n      inputs: {\n        rows: [\"apple\", \"orange\", \"banana\", \"lemon\", \"melon\", \"pineapple\", \"tomato\"],\n      },\n      params: {\n        compositeResult: true,\n      },\n      graph: {\n        nodes: {\n          node2: {\n            agent: \"stringTemplateAgent\",\n            params: {\n              template: \"I love ${row}.\",\n            },\n            inputs: { row: \":row\" },\n            isResult: true,\n          },\n        },\n      },\n      result: {\n        node2: [\"I love apple.\", \"I love orange.\", \"I love banana.\", \"I love lemon.\", \"I love melon.\", \"I love pineapple.\", \"I love tomato.\"],\n      },\n    },\n    {\n      inputs: {\n        rows: [\"apple\", \"orange\", \"banana\", \"lemon\", \"melon\", \"pineapple\", \"tomato\"],\n      },\n      params: {\n        compositeResult: true,\n        compositeResultKey: \"node2\",\n      },\n      graph: {\n        nodes: {\n          node2: {\n            agent: \"stringTemplateAgent\",\n            params: {\n              template: \"I love ${row}.\",\n            },\n            inputs: { row: \":row\" },\n            isResult: true,\n          },\n        },\n      },\n      result: [\"I love apple.\", \"I love orange.\", \"I love banana.\", \"I love lemon.\", \"I love melon.\", \"I love pineapple.\", \"I love tomato.\"],\n    },\n    {\n      inputs: {\n        rows: [1, 2],\n      },\n      params: {\n        resultAll: true,\n        compositeResult: true,\n      },\n      result: {\n        test: [[1], [2]],\n        __mapIndex: [0, 1],\n        row: [1, 2],\n      },\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"rows\" },\n            inputs: { rows: [\":row\"] },\n          },\n        },\n      },\n    },\n    {\n      inputs: {\n        rows: [1, 2],\n      },\n      params: {\n        resultAll: true,\n        compositeResult: true,\n      },\n      result: {\n        __mapIndex: [0, 1],\n        test: [[1], [2]],\n        map: [\n          {\n            test: [[[1]], [[1]]],\n          },\n          {\n            test: [[[2]], [[2]]],\n          },\n        ],\n        row: [1, 2],\n      },\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"rows\" },\n            inputs: { rows: [\":row\"] },\n          },\n          map: {\n            agent: \"mapAgent\",\n            inputs: { rows: [\":test\", \":test\"] },\n            params: {\n              compositeResult: true,\n            },\n            graph: {\n              nodes: {\n                test: {\n                  isResult: true,\n                  agent: \"copyAgent\",\n                  params: { namedKey: \"rows\" },\n                  inputs: { rows: [\":row\"] },\n                },\n              },\n            },\n          },\n        },\n      },\n    },\n  ],\n  description: \"Map Agent\",\n  category: [\"graph\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/graph_agents/map_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default mapAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { isNamedInputs } from \"@graphai/agent_utils\";\nimport type { GraphAIArray, GraphAIFlatResponse, GraphAIData } from \"@graphai/agent_utils\";\n\ntype ResponseData = Record<string, number>;\n\nexport const totalAgent: AgentFunction<Partial<GraphAIFlatResponse>, ResponseData | GraphAIData<ResponseData>, GraphAIArray<Record<string, number>>> = async ({\n  namedInputs,\n  params,\n}) => {\n  const { flatResponse } = params;\n\n  assert(isNamedInputs(namedInputs), \"totalAgent: namedInputs is UNDEFINED! Set inputs: { array: :arrayNodeId }\");\n  assert(!!namedInputs?.array, \"totalAgent: namedInputs.array is UNDEFINED! Set inputs: { array: :arrayNodeId }\");\n\n  const response = namedInputs.array.reduce((result, input) => {\n    const inputArray = Array.isArray(input) ? input : [input];\n    inputArray.forEach((innerInput) => {\n      Object.keys(innerInput).forEach((key) => {\n        const value = innerInput[key];\n        if (result[key]) {\n          result[key] += value;\n        } else {\n          result[key] = value;\n        }\n      });\n    });\n    return result;\n  }, {});\n  if (flatResponse) {\n    return response;\n  }\n  return { data: response };\n};\n\n//\nconst totalAgentInfo: AgentFunctionInfo = {\n  name: \"totalAgent\",\n  agent: totalAgent,\n  mock: totalAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"An array of objects or arrays of objects. Each inner object must have numeric values which will be aggregated by key.\",\n        items: {\n          anyOf: [\n            {\n              type: \"object\",\n              description: \"A flat object containing numeric values to be summed.\",\n            },\n            {\n              type: \"array\",\n              items: {\n                type: \"object\",\n                description: \"Nested array of objects, each containing numeric values to be summed.\",\n              },\n            },\n          ],\n        },\n      },\n    },\n    required: [\"array\"],\n    additionalProperties: false,\n  },\n  params: {\n    type: \"object\",\n    properties: {\n      flatResponse: {\n        type: \"boolean\",\n        description: \"If true, the result will be returned as a plain object (e.g., { a: 6 }); otherwise, wrapped in { data: {...} }.\",\n      },\n    },\n    additionalProperties: false,\n  },\n  output: {\n    type: \"object\",\n  },\n  samples: [\n    {\n      inputs: { array: [{ a: 1 }, { a: 2 }, { a: 3 }] },\n      params: {},\n      result: { data: { a: 6 } },\n    },\n    {\n      inputs: { array: [[{ a: 1, b: -1 }, { c: 10 }], [{ a: 2, b: -1 }], [{ a: 3, b: -2 }, { d: -10 }]] },\n      params: {},\n      result: { data: { a: 6, b: -4, c: 10, d: -10 } },\n    },\n    {\n      inputs: { array: [{ a: 1 }] },\n      params: {},\n      result: { data: { a: 1 } },\n    },\n    {\n      inputs: { array: [{ a: 1 }, { a: 2 }] },\n      params: {},\n      result: { data: { a: 3 } },\n    },\n    {\n      inputs: { array: [{ a: 1 }, { a: 2 }, { a: 3 }] },\n      params: {},\n      result: { data: { a: 6 } },\n    },\n    {\n      inputs: {\n        array: [\n          { a: 1, b: 1 },\n          { a: 2, b: 2 },\n          { a: 3, b: 0 },\n        ],\n      },\n      params: {},\n      result: { data: { a: 6, b: 3 } },\n    },\n    {\n      inputs: { array: [{ a: 1 }, { a: 2, b: 2 }, { a: 3, b: 0 }] },\n      params: {},\n      result: { data: { a: 6, b: 2 } },\n    },\n\n    {\n      inputs: { array: [{ a: 1 }, { a: 2 }, { a: 3 }] },\n      params: { flatResponse: true },\n      result: { a: 6 },\n    },\n    {\n      inputs: { array: [[{ a: 1, b: -1 }, { c: 10 }], [{ a: 2, b: -1 }], [{ a: 3, b: -2 }, { d: -10 }]] },\n      params: { flatResponse: true },\n      result: { a: 6, b: -4, c: 10, d: -10 },\n    },\n    {\n      inputs: { array: [{ a: 1 }] },\n      params: { flatResponse: true },\n      result: { a: 1 },\n    },\n    {\n      inputs: { array: [{ a: 1 }, { a: 2 }] },\n      params: { flatResponse: true },\n      result: { a: 3 },\n    },\n    {\n      inputs: { array: [{ a: 1 }, { a: 2 }, { a: 3 }] },\n      params: { flatResponse: true },\n      result: { a: 6 },\n    },\n    {\n      inputs: {\n        array: [\n          { a: 1, b: 1 },\n          { a: 2, b: 2 },\n          { a: 3, b: 0 },\n        ],\n      },\n      params: { flatResponse: true },\n      result: { a: 6, b: 3 },\n    },\n    {\n      inputs: { array: [{ a: 1 }, { a: 2, b: 2 }, { a: 3, b: 0 }] },\n      params: { flatResponse: true },\n      result: { a: 6, b: 2 },\n    },\n  ],\n  description: \"Returns the sum of input values\",\n  category: [\"data\"],\n  author: \"Satoshi Nakajima\",\n  repository: \"https://github.com/snakajima/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/data_agents/total_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default totalAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { isNamedInputs } from \"@graphai/agent_utils\";\nimport type { GraphAIArray, GraphAIResult, GraphAIFlatResponse } from \"@graphai/agent_utils\";\n\nexport const dataSumTemplateAgent: AgentFunction<Partial<GraphAIFlatResponse>, number | GraphAIResult<number>, GraphAIArray<number>> = async ({\n  namedInputs,\n  params,\n}) => {\n  const { flatResponse } = params;\n\n  assert(isNamedInputs(namedInputs), \"dataSumTemplateAgent: namedInputs is UNDEFINED! Set inputs: { array: :arrayNodeId }\");\n  assert(!!namedInputs?.array, \"dataSumTemplateAgent: namedInputs.array is UNDEFINED! Set inputs: { array: :arrayNodeId }\");\n\n  const sum = namedInputs.array.reduce((tmp, input) => {\n    return tmp + input;\n  }, 0);\n  if (flatResponse) {\n    return sum;\n  }\n  return { result: sum };\n};\n\nconst dataSumTemplateAgentInfo: AgentFunctionInfo = {\n  name: \"dataSumTemplateAgent\",\n  agent: dataSumTemplateAgent,\n  mock: dataSumTemplateAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"the array of numbers to calculate the sum of\",\n        items: {\n          type: \"integer\",\n        },\n      },\n    },\n    required: [\"array\"],\n  },\n  output: {\n    type: \"number\",\n  },\n  samples: [\n    {\n      inputs: { array: [1] },\n      params: {},\n      result: { result: 1 },\n    },\n    {\n      inputs: { array: [1, 2] },\n      params: {},\n      result: { result: 3 },\n    },\n    {\n      inputs: { array: [1, 2, 3] },\n      params: {},\n      result: { result: 6 },\n    },\n\n    {\n      inputs: { array: [1] },\n      params: { flatResponse: true },\n      result: 1,\n    },\n    {\n      inputs: { array: [1, 2] },\n      params: { flatResponse: true },\n      result: 3,\n    },\n    {\n      inputs: { array: [1, 2, 3] },\n      params: { flatResponse: true },\n      result: 6,\n    },\n  ],\n  description: \"Returns the sum of input values\",\n  category: [\"data\"],\n  author: \"Satoshi Nakajima\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/data_agents/data_sum_template_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default dataSumTemplateAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport type { GraphAIWithOptionalArrayAndItem } from \"@graphai/agent_utils\";\n\nconst applyFilter = (\n  object: any,\n  index: number,\n  arrayInputs: any,\n  include: Array<string> | undefined,\n  exclude: Array<string> | undefined,\n  alter: Record<string, Record<string, string>> | undefined,\n  inject: Array<Record<string, any>> | undefined,\n  swap: Record<string, string> | undefined,\n  inspect: Array<Record<string, any>> | undefined,\n) => {\n  const propIds = include ? include : Object.keys(object);\n  const excludeSet = new Set(exclude ?? []);\n  const result = propIds.reduce((tmp: Record<string, any>, propId) => {\n    if (!excludeSet.has(propId)) {\n      const mapping = alter && alter[propId];\n      if (mapping && mapping[object[propId]]) {\n        tmp[propId] = mapping[object[propId]];\n      } else {\n        tmp[propId] = object[propId];\n      }\n    }\n    return tmp;\n  }, {});\n\n  if (inject) {\n    inject.forEach((item) => {\n      if (item.index === undefined || item.index === index) {\n        result[item.propId] = arrayInputs[item.from];\n      }\n    });\n  }\n  if (inspect) {\n    inspect.forEach((item) => {\n      const value = arrayInputs[item.from ?? 1]; // default is arrayInputs[1]\n      if (item.equal) {\n        result[item.propId] = item.equal === value;\n      } else if (item.notEqual) {\n        result[item.propId] = item.notEqual !== value;\n      }\n    });\n  }\n  if (swap) {\n    Object.keys(swap).forEach((key) => {\n      const tmp = result[key];\n      result[key] = result[swap[key]];\n      result[swap[key]] = tmp;\n    });\n  }\n  return result;\n};\n\nexport const propertyFilterAgent: AgentFunction<\n  {\n    include?: Array<string>;\n    exclude?: Array<string>;\n    alter?: Record<string, Record<string, string>>;\n    inject?: Array<Record<string, any>>;\n    inspect?: Array<Record<string, any>>;\n    swap?: Record<string, string>;\n  },\n  unknown,\n  GraphAIWithOptionalArrayAndItem\n> = async ({ namedInputs, params }) => {\n  const { include, exclude, alter, inject, swap, inspect } = params;\n  const { array, item } = namedInputs;\n  if (array) {\n    // This is advanced usage, including \"inject\" and \"inspect\", which uses\n    // array[1], array[2], ...\n    const [target] = array; // Extract the first one\n    if (Array.isArray(target)) {\n      return target.map((item, index) => applyFilter(item, index, array, include, exclude, alter, inject, swap, inspect));\n    }\n    return applyFilter(target, 0, array, include, exclude, alter, inject, swap, inspect);\n  } else if (item) {\n    return applyFilter(item, 0, [], include, exclude, alter, inject, swap, inspect);\n  }\n  return false;\n};\n\nconst testInputs = {\n  array: [\n    [\n      { color: \"red\", model: \"Model 3\", type: \"EV\", maker: \"Tesla\", range: 300 },\n      { color: \"blue\", model: \"Model Y\", type: \"EV\", maker: \"Tesla\", range: 400 },\n    ],\n    \"Tesla Motors\",\n  ],\n};\n\nconst propertyFilterAgentInfo: AgentFunctionInfo = {\n  name: \"propertyFilterAgent\",\n  agent: propertyFilterAgent,\n  mock: propertyFilterAgent,\n  inputs: {\n    type: \"object\",\n  },\n  output: {\n    type: \"any\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"the array to apply filter\",\n      },\n      item: {\n        type: \"object\",\n        description: \"the object to apply filter\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: { array: [testInputs.array[0][0]] },\n      params: { include: [\"color\", \"model\"] },\n      result: { color: \"red\", model: \"Model 3\" },\n    },\n    {\n      inputs: { item: testInputs.array[0][0] },\n      params: { include: [\"color\", \"model\"] },\n      result: { color: \"red\", model: \"Model 3\" },\n    },\n    {\n      inputs: testInputs,\n      params: { include: [\"color\", \"model\"] },\n      result: [\n        { color: \"red\", model: \"Model 3\" },\n        { color: \"blue\", model: \"Model Y\" },\n      ],\n    },\n    {\n      inputs: testInputs,\n      params: { exclude: [\"color\", \"model\"] },\n      result: [\n        { type: \"EV\", maker: \"Tesla\", range: 300 },\n        { type: \"EV\", maker: \"Tesla\", range: 400 },\n      ],\n    },\n    {\n      inputs: { item: testInputs.array[0][0] },\n      params: { exclude: [\"color\", \"model\"] },\n      result: { type: \"EV\", maker: \"Tesla\", range: 300 },\n    },\n    {\n      inputs: testInputs,\n      params: { alter: { color: { red: \"blue\", blue: \"red\" } } },\n      result: [\n        {\n          color: \"blue\",\n          model: \"Model 3\",\n          type: \"EV\",\n          maker: \"Tesla\",\n          range: 300,\n        },\n        {\n          color: \"red\",\n          model: \"Model Y\",\n          type: \"EV\",\n          maker: \"Tesla\",\n          range: 400,\n        },\n      ],\n    },\n    {\n      inputs: { item: testInputs.array[0][0] },\n      params: { alter: { color: { red: \"blue\", blue: \"red\" } } },\n      result: {\n        color: \"blue\",\n        model: \"Model 3\",\n        type: \"EV\",\n        maker: \"Tesla\",\n        range: 300,\n      },\n    },\n    {\n      inputs: testInputs,\n      params: { swap: { maker: \"model\" } },\n      result: [\n        {\n          color: \"red\",\n          model: \"Tesla\",\n          type: \"EV\",\n          maker: \"Model 3\",\n          range: 300,\n        },\n        {\n          color: \"blue\",\n          model: \"Tesla\",\n          type: \"EV\",\n          maker: \"Model Y\",\n          range: 400,\n        },\n      ],\n    },\n    {\n      inputs: { item: testInputs.array[0][0] },\n      params: { swap: { maker: \"model\" } },\n      result: {\n        color: \"red\",\n        model: \"Tesla\",\n        type: \"EV\",\n        maker: \"Model 3\",\n        range: 300,\n      },\n    },\n    {\n      inputs: testInputs,\n      params: { inject: [{ propId: \"maker\", from: 1 }] },\n      result: [\n        {\n          color: \"red\",\n          model: \"Model 3\",\n          type: \"EV\",\n          maker: \"Tesla Motors\",\n          range: 300,\n        },\n        {\n          color: \"blue\",\n          model: \"Model Y\",\n          type: \"EV\",\n          maker: \"Tesla Motors\",\n          range: 400,\n        },\n      ],\n    },\n    {\n      inputs: testInputs,\n      params: { inject: [{ propId: \"maker\", from: 1, index: 0 }] },\n      result: [\n        {\n          color: \"red\",\n          model: \"Model 3\",\n          type: \"EV\",\n          maker: \"Tesla Motors\",\n          range: 300,\n        },\n        {\n          color: \"blue\",\n          model: \"Model Y\",\n          type: \"EV\",\n          maker: \"Tesla\",\n          range: 400,\n        },\n      ],\n    },\n    {\n      inputs: testInputs,\n      params: {\n        inspect: [\n          { propId: \"isTesla\", equal: \"Tesla Motors\" }, // from: 1 is implied\n          { propId: \"isGM\", notEqual: \"Tesla Motors\", from: 1 },\n        ],\n      },\n      result: [\n        {\n          color: \"red\",\n          model: \"Model 3\",\n          type: \"EV\",\n          maker: \"Tesla\",\n          range: 300,\n          isTesla: true,\n          isGM: false,\n        },\n        {\n          color: \"blue\",\n          model: \"Model Y\",\n          type: \"EV\",\n          maker: \"Tesla\",\n          range: 400,\n          isTesla: true,\n          isGM: false,\n        },\n      ],\n    },\n  ],\n  description: \"Filter properties based on property name either with 'include', 'exclude', 'alter', 'swap', 'inject', 'inspect'\",\n  category: [\"data\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/data_agents/property_filter_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default propertyFilterAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { isNamedInputs } from \"@graphai/agent_utils\";\n\nexport const copyAgent: AgentFunction<{\n  namedKey?: string;\n}> = async ({ namedInputs, params }) => {\n  const { namedKey } = params;\n  assert(isNamedInputs(namedInputs), \"copyAgent: namedInputs is UNDEFINED!\");\n  if (namedKey) {\n    return namedInputs[namedKey];\n  }\n  return namedInputs;\n};\n\nconst copyAgentInfo: AgentFunctionInfo = {\n  name: \"copyAgent\",\n  agent: copyAgent,\n  mock: copyAgent,\n  inputs: {\n    type: \"object\",\n    description: \"A dynamic object containing any number of named input fields. The agent either returns the whole object or a single value by key.\",\n    additionalProperties: {\n      type: [\"string\", \"number\", \"boolean\", \"object\", \"array\", \"null\"],\n      description: \"A value associated with a named input key. Can be any JSON-compatible type.\",\n    },\n  },\n  params: {\n    type: \"object\",\n    properties: {\n      namedKey: {\n        type: \"string\",\n        description: \"If specified, the agent will return only the value associated with this key from namedInputs.\",\n      },\n    },\n    additionalProperties: false,\n  },\n  output: {\n    anyOf: [{ type: \"string\" }, { type: \"integer\" }, { type: \"object\" }, { type: \"array\" }],\n  },\n  samples: [\n    {\n      inputs: { color: \"red\", model: \"Model 3\" },\n      params: {},\n      result: { color: \"red\", model: \"Model 3\" },\n    },\n    {\n      inputs: { array: [\"Hello World\", \"Discarded\"] },\n      params: {},\n      result: { array: [\"Hello World\", \"Discarded\"] },\n    },\n    {\n      inputs: { color: \"red\", model: \"Model 3\" },\n      params: { namedKey: \"color\" },\n      result: \"red\",\n    },\n  ],\n  description: \"Returns namedInputs\",\n  category: [\"data\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/data_agents/copy_agent.ts\",\n\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default copyAgentInfo;\n","import type { AgentFunction, AgentFunctionInfo, DefaultResultData } from \"graphai\";\nimport { assert } from \"graphai\";\nimport { isNamedInputs } from \"@graphai/agent_utils\";\nimport type { GraphAISupressError } from \"@graphai/agent_utils\";\n\nexport const lookupDictionaryAgent: AgentFunction<\n  Record<string, DefaultResultData> & GraphAISupressError,\n  DefaultResultData,\n  {\n    namedKey: string;\n  }\n> = async ({ namedInputs, params }) => {\n  const { namedKey } = namedInputs;\n  assert(isNamedInputs(namedInputs), \"lookupDictionaryAgent: namedInputs is UNDEFINED!\");\n  const result = params[namedKey];\n  if (!params.supressError && result === undefined) {\n    throw new Error(`lookupDictionaryAgent error: ${namedKey} is missing`);\n  }\n  return result;\n};\n\nconst exampleParams = {\n  openai: {\n    model: \"gpt4-o\",\n    temperature: 0.7,\n  },\n  groq: {\n    model: \"llama3-8b-8192\",\n    temperature: 0.6,\n  },\n  gemini: {\n    model: \"gemini-2.0-pro-exp-02-05\",\n    temperature: 0.7,\n  },\n};\n\nconst lookupDictionaryAgentInfo: AgentFunctionInfo = {\n  name: \"lookupDictionaryAgent\",\n  agent: lookupDictionaryAgent,\n  mock: lookupDictionaryAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      namedKey: {\n        type: \"string\",\n        description: \"The key to look up in the dictionary provided by 'params'.\",\n      },\n      supressError: {\n        type: \"boolean\",\n        description: \"If true, prevents the agent from throwing an error when the key is missing in 'params'. Optional.\",\n      },\n    },\n    required: [\"namedKey\"],\n    additionalProperties: false,\n  },\n  params: {\n    type: \"object\",\n    description: \"A dictionary of values from which one is selected using the 'namedKey'.\",\n    additionalProperties: {\n      type: [\"string\", \"number\", \"boolean\", \"object\", \"array\", \"null\"],\n      description: \"Any JSON-compatible value associated with a key in the dictionary.\",\n    },\n  },\n  output: {\n    anyOf: [{ type: \"string\" }, { type: \"integer\" }, { type: \"object\" }, { type: \"array\" }],\n  },\n  samples: [\n    {\n      inputs: { namedKey: \"openai\" },\n      params: exampleParams,\n      result: {\n        model: \"gpt4-o\",\n        temperature: 0.7,\n      },\n    },\n    {\n      inputs: { namedKey: \"gemini\" },\n      params: exampleParams,\n      result: {\n        model: \"gemini-2.0-pro-exp-02-05\",\n        temperature: 0.7,\n      },\n    },\n  ],\n  description: \"Select elements with params\",\n  category: [\"data\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/data_agents/lookup_dictionary_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default lookupDictionaryAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { isNamedInputs } from \"@graphai/agent_utils\";\n\nexport const mergeObjectAgent: AgentFunction<null, Record<string, any>, { items: Record<string, any> }> = async ({ namedInputs }) => {\n  assert(isNamedInputs(namedInputs), \"mergeObjectAgent: namedInputs is UNDEFINED!\");\n  const { items } = namedInputs;\n  assert(items !== undefined && Array.isArray(items), \"mergeObjectAgent: namedInputs.items is not array!\");\n\n  return Object.assign({}, ...items);\n};\n\nconst mergeObjectAgentInfo: AgentFunctionInfo = {\n  name: \"mergeObjectAgent\",\n  agent: mergeObjectAgent,\n  mock: mergeObjectAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      items: {\n        type: \"array\",\n        description: \"An array of objects whose key-value pairs will be merged into a single object. Later objects override earlier ones on key conflict.\",\n        items: {\n          type: \"object\",\n          description: \"An individual object contributing to the merged result.\",\n        },\n      },\n    },\n    required: [\"items\"],\n    additionalProperties: false,\n  },\n  params: {\n    type: \"object\",\n    description: \"This agent does not take any parameters. The object must be empty.\",\n    properties: {},\n    additionalProperties: false,\n  },\n  output: {\n    anyOf: { type: \"object\" },\n  },\n  samples: [\n    {\n      inputs: { items: [{ color: \"red\" }, { model: \"Model 3\" }] },\n      params: {},\n      result: { color: \"red\", model: \"Model 3\" },\n    },\n  ],\n  description: \"Returns namedInputs\",\n  category: [\"data\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/data_agents/merge_objects_agent.ts\",\n\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default mergeObjectAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport type { GraphAIDebug, GraphAISupressError, GraphAIFlatResponse } from \"@graphai/agent_utils\";\n\ntype FetchParam = {\n  url: string;\n  method?: string;\n  queryParams: any;\n  headers: Record<string, any>;\n  body: unknown;\n};\nconst allowedMethods = [\"GET\", \"HEAD\", \"POST\", \"OPTIONS\", \"PUT\", \"DELETE\", \"PATCH\" /* \"TRACE\" */];\nconst methodsRequiringBody = [\"POST\", \"PUT\", \"PATCH\"];\n\n/*\n  For compatibility, we are adding GraphAIFlatResponse to the parameters.\n By default, it is usually set to false, but it will be set to true for use in tutorials and similar cases.\n In the future, flat responses (non-object results) will be deprecated.\n Until then, we will set flatResponse to false using vanillaFetch and transition to object-based responses.\n Eventually, this option will be removed, and it will be ignored at runtime, always returning an object.\n */\n\nexport const vanillaFetchAgent: AgentFunction<\n  Partial<FetchParam & GraphAIDebug & GraphAISupressError & GraphAIFlatResponse & { type: string }>,\n  unknown,\n  FetchParam\n> = async ({ namedInputs, params, config }) => {\n  const { url, method, queryParams, body } = {\n    ...params,\n    ...namedInputs,\n  };\n  assert(!!url, \"fetchAgent: no url\");\n\n  const supressError = params.supressError ?? false;\n\n  const url0 = new URL(url);\n  const headers0 = {\n    ...(params.headers ? params.headers : {}),\n    ...(namedInputs.headers ? namedInputs.headers : {}),\n  };\n  if (config && config.authorization) {\n    headers0[\"Authorization\"] = config.authorization;\n  }\n\n  if (queryParams) {\n    const _params = new URLSearchParams(queryParams);\n    url0.search = _params.toString();\n  }\n\n  if (body) {\n    headers0[\"Content-Type\"] = \"application/json\";\n  }\n\n  //\n  const fetchOptions: RequestInit = {\n    method: method ? method.toUpperCase() : body ? \"POST\" : \"GET\",\n    headers: new Headers(headers0),\n    body: body ? JSON.stringify(body) : undefined,\n  };\n  assert(allowedMethods.includes(fetchOptions.method ?? \"\"), \"fetchAgent: invalid method: \" + fetchOptions.method);\n  assert(\n    !methodsRequiringBody.includes(fetchOptions.method ?? \"\") || !!body,\n    \"fetchAgent: The request body is required for this method: \" + fetchOptions.method,\n  );\n\n  if (params?.debug) {\n    return {\n      url: url0.toString(),\n      method: fetchOptions.method,\n      headers: headers0,\n      body: fetchOptions.body,\n    };\n  }\n\n  const response = await fetch(url0.toString(), fetchOptions);\n\n  if (!response.ok) {\n    const status = response.status;\n    const type = params?.type ?? \"json\";\n    const error = type === \"json\" ? await response.json() : await response.text();\n    if (supressError) {\n      return {\n        onError: {\n          message: `HTTP error: ${status}`,\n          status,\n          error,\n        },\n      };\n    }\n    throw new Error(`HTTP error: ${status}`);\n  }\n\n  const data = await (async () => {\n    const type = params?.type ?? \"json\";\n    if (type === \"json\") {\n      return await response.json();\n    } else if (type === \"text\") {\n      return response.text();\n    }\n    throw new Error(`Unknown Type! ${type}`);\n  })();\n\n  if (params.flatResponse === false) {\n    return { data };\n  }\n  return data;\n};\n\nconst vanillaFetchAgentInfo: AgentFunctionInfo = {\n  name: \"vanillaFetchAgent\",\n  agent: vanillaFetchAgent,\n  mock: vanillaFetchAgent,\n\n  inputs: {\n    type: \"object\",\n    properties: {\n      url: {\n        type: \"string\",\n        description: \"The request URL. Can be provided in either 'inputs' or 'params'.\",\n      },\n      method: {\n        type: \"string\",\n        description: \"The HTTP method to use (GET, POST, PUT, etc.). Defaults to GET if not specified and no body is provided; otherwise POST.\",\n      },\n      headers: {\n        type: \"object\",\n        description: \"Optional HTTP headers to include in the request. Values from both inputs and params are merged.\",\n      },\n      queryParams: {\n        type: \"object\",\n        description: \"Optional query parameters to append to the URL.\",\n      },\n      body: {\n        description: \"Optional request body to send with POST, PUT, or PATCH methods.\",\n        anyOf: [{ type: \"string\" }, { type: \"object\" }],\n      },\n    },\n    required: [],\n    additionalProperties: false,\n  },\n  params: {\n    type: \"object\",\n    properties: {\n      url: {\n        type: \"string\",\n        description: \"The request URL (overridden if also specified in inputs).\",\n      },\n      method: {\n        type: \"string\",\n        description: \"The HTTP method (overridden if also specified in inputs).\",\n      },\n      headers: {\n        type: \"object\",\n        description: \"Additional headers. Merged with inputs.headers.\",\n      },\n      queryParams: {\n        type: \"object\",\n        description: \"Query parameters to append to the URL.\",\n      },\n      body: {\n        description: \"Request body to be sent, used with POST/PUT/PATCH.\",\n        anyOf: [{ type: \"string\" }, { type: \"object\" }],\n      },\n      debug: {\n        type: \"boolean\",\n        description: \"If true, returns the prepared request details instead of performing the actual fetch.\",\n      },\n      supressError: {\n        type: \"boolean\",\n        description: \"If true, suppresses thrown errors and returns the error response instead.\",\n      },\n      flatResponse: {\n        type: \"boolean\",\n        description: \"If true, returns the raw response. If false, wraps the response in an object with a 'data' key. Default is false.\",\n      },\n      type: {\n        type: \"string\",\n        enum: [\"json\", \"text\"],\n        description: \"Response type to parse. Either 'json' or 'text'. Defaults to 'json'.\",\n      },\n    },\n    required: [],\n    additionalProperties: false,\n  },\n  output: {\n    description:\n      \"Returns either the HTTP response body or a debug object. If an error occurs and 'supressError' is true, returns an object with an 'onError' key.\",\n    anyOf: [\n      {\n        type: \"object\",\n        properties: {\n          onError: {\n            type: \"object\",\n            properties: {\n              message: { type: \"string\" },\n              status: { type: \"integer\" },\n              error: {},\n            },\n            required: [\"message\", \"status\", \"error\"],\n          },\n        },\n        required: [\"onError\"],\n        additionalProperties: true,\n      },\n      {\n        type: \"object\",\n        description: \"Debug information returned when 'debug' is true.\",\n        properties: {\n          method: { type: \"string\" },\n          url: { type: \"string\" },\n          headers: { type: \"object\" },\n          body: {},\n        },\n        required: [\"method\", \"url\", \"headers\"],\n      },\n      {},\n      {\n        type: \"object\",\n        description: \"When 'flatResponse' is false, the response is wrapped as { data: ... }.\",\n        properties: {\n          data: {},\n        },\n        required: [\"data\"],\n        additionalProperties: true,\n      },\n    ],\n  },\n  samples: [\n    {\n      inputs: { url: \"https://example.com\", queryParams: { foo: \"bar\" }, headers: { \"x-myHeader\": \"secret\" } },\n      params: {\n        debug: true,\n      },\n      result: {\n        method: \"GET\",\n        url: \"https://example.com/?foo=bar\",\n        headers: {\n          \"x-myHeader\": \"secret\",\n        },\n        body: undefined,\n      },\n    },\n    {\n      inputs: { url: \"https://example.com\", body: { foo: \"bar\" } },\n      params: {\n        debug: true,\n      },\n      result: {\n        method: \"POST\",\n        url: \"https://example.com/\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ foo: \"bar\" }),\n      },\n    },\n    {\n      inputs: { url: \"https://example.com\", body: { foo: \"bar\" }, method: \"PUT\" },\n      params: {\n        debug: true,\n      },\n      result: {\n        method: \"PUT\",\n        url: \"https://example.com/\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ foo: \"bar\" }),\n      },\n    },\n    {\n      inputs: { url: \"https://example.com\", method: \"options\" },\n      params: {\n        debug: true,\n      },\n      result: {\n        method: \"OPTIONS\",\n        url: \"https://example.com/\",\n        headers: {},\n        body: undefined,\n      },\n    },\n    {\n      inputs: {},\n      params: {\n        url: \"https://example.com\",\n        body: { foo: \"bar\" },\n        method: \"PUT\",\n        debug: true,\n      },\n      result: {\n        method: \"PUT\",\n        url: \"https://example.com/\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ foo: \"bar\" }),\n      },\n    },\n    {\n      inputs: {\n        method: \"DELETE\",\n        headers: {\n          authentication: \"bearer XXX\",\n        },\n      },\n      params: {\n        url: \"https://example.com\",\n        body: { foo: \"bar\" },\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        debug: true,\n      },\n      result: {\n        method: \"DELETE\",\n        url: \"https://example.com/\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authentication: \"bearer XXX\",\n        },\n        body: JSON.stringify({ foo: \"bar\" }),\n      },\n    },\n  ],\n  description: \"Retrieves JSON data from the specified URL\",\n  category: [\"service\"],\n  author: \"Receptron\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/service_agents/vanilla_fetch_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default vanillaFetchAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, sleep } from \"graphai\";\n\nexport const sleeperAgent: AgentFunction<{ duration?: number }> = async ({ params, namedInputs }) => {\n  await sleep(params?.duration ?? 10);\n  return namedInputs;\n};\n\nconst sleeperAgentInfo: AgentFunctionInfo = {\n  name: \"sleeperAgent\",\n  agent: sleeperAgent,\n  mock: sleeperAgent,\n  inputs: {\n    type: \"object\",\n    description: \"Arbitrary input data. This agent does not modify it and returns it unchanged after a delay.\",\n    additionalProperties: true,\n  },\n  params: {\n    type: \"object\",\n    properties: {\n      duration: {\n        type: \"number\",\n        description: \"Optional duration in milliseconds to pause execution before returning the input. Defaults to 10ms.\",\n      },\n    },\n    additionalProperties: false,\n  },\n  output: {\n    type: \"object\",\n    description: \"Returns the same object passed as 'inputs', unchanged.\",\n    additionalProperties: true,\n  },\n  samples: [\n    {\n      inputs: {},\n      params: { duration: 1 },\n      result: {},\n    },\n    {\n      inputs: { array: [{ a: 1 }, { b: 2 }] },\n      params: { duration: 1 },\n      result: {\n        array: [{ a: 1 }, { b: 2 }],\n      },\n    },\n  ],\n  description: \"sleeper Agent for test and debug\",\n  category: [\"sleeper\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/sleeper_agents/sleeper_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default sleeperAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport type { GraphAIResult, GraphAIArray } from \"@graphai/agent_utils\";\n\ntype CompareDataItem = string | number | boolean | CompareData;\ntype CompareData = CompareDataItem[];\n\nconst compare = (_array: CompareData): boolean => {\n  const array = _array.map((value) => {\n    if (Array.isArray(value)) {\n      return compare(value);\n    }\n    return value;\n  });\n  const [a, operator, b] = array;\n  if (operator === \"==\") {\n    return a === b;\n  }\n  if (operator === \"!=\") {\n    return a !== b;\n  }\n  if (operator === \">\") {\n    return Number(a) > Number(b);\n  }\n  if (operator === \">=\") {\n    return Number(a) >= Number(b);\n  }\n  if (operator === \"<\") {\n    return Number(a) < Number(b);\n  }\n  if (operator === \"<=\") {\n    return Number(a) <= Number(b);\n  }\n  if (operator === \"||\") {\n    return !!a || !!b;\n  }\n  if (operator === \"&&\") {\n    return !!a && !!b;\n  }\n  if (operator === \"XOR\") {\n    return !!a === !b;\n  }\n  throw new Error(`unknown compare operator`);\n};\n\n// TODO: move to agent_utils\nconst isNull = (data: unknown) => {\n  return data === null || data === undefined;\n};\n\nexport const compareAgent: AgentFunction<\n  { operator: string; value: Record<string, unknown> },\n  GraphAIResult,\n  Partial<GraphAIArray<CompareDataItem>> & { leftValue: CompareDataItem; rightValue: CompareDataItem }\n> = async ({ namedInputs, params }) => {\n  const { array: _array, leftValue, rightValue } = namedInputs;\n  const array = _array ?? [];\n  const inputs = (() => {\n    if (array.length === 2 && params.operator) {\n      return [array[0], params.operator, array[1]];\n    }\n    if (array.length === 3) {\n      return array;\n    }\n    if (array.length === 0 && !isNull(leftValue) && !isNull(rightValue) && params.operator) {\n      return [leftValue, params.operator, rightValue];\n    }\n    throw new Error(`compare inputs is wrong.`);\n  })();\n  const ret = compare(inputs);\n  if (params?.value) {\n    return {\n      result: params?.value[ret ? \"true\" : \"false\"] ?? ret,\n    };\n  }\n  return {\n    result: ret,\n  };\n};\n\nconst compareAgentInfo: AgentFunctionInfo = {\n  name: \"compareAgent\",\n  agent: compareAgent,\n  mock: compareAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"A 3-element array in the form [leftOperand, operator, rightOperand]. Used for direct comparison logic.\",\n        items: {\n          type: [\"string\", \"number\", \"boolean\", \"array\"],\n        },\n      },\n      leftValue: {\n        type: [\"string\", \"number\", \"boolean\"],\n        description: \"Left-hand operand used when 'array' is not provided. Used with 'rightValue' and 'params.operator'.\",\n      },\n      rightValue: {\n        type: [\"string\", \"number\", \"boolean\"],\n        description: \"Right-hand operand used when 'array' is not provided. Used with 'leftValue' and 'params.operator'.\",\n      },\n    },\n    additionalProperties: false,\n  },\n  params: {\n    type: \"object\",\n    properties: {\n      operator: {\n        type: \"string\",\n        description:\n          \"The comparison operator to apply, such as '==', '!=', '>', '>=', '<', '<=', '||', '&&', or 'XOR'. Required if 'array' does not include the operator.\",\n      },\n      value: {\n        type: \"object\",\n        description:\n          \"An optional mapping for the comparison result. If provided, it must contain keys 'true' and/or 'false' to return custom values instead of booleans.\",\n        properties: {\n          true: {\n            type: [\"string\", \"number\", \"boolean\"],\n            description: \"Custom result to return when the comparison evaluates to true.\",\n          },\n          false: {\n            type: [\"string\", \"number\", \"boolean\"],\n            description: \"Custom result to return when the comparison evaluates to false.\",\n          },\n        },\n        additionalProperties: false,\n      },\n    },\n    additionalProperties: false,\n  },\n  output: {},\n  samples: [\n    {\n      inputs: { array: [\"abc\", \"==\", \"abc\"] },\n      params: { value: { true: \"a\", false: \"b\" } },\n      result: {\n        result: \"a\",\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"==\", \"abca\"] },\n      params: { value: { true: \"a\", false: \"b\" } },\n      result: {\n        result: \"b\",\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"==\", \"abc\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"==\", \"abcd\"] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"!=\", \"abc\"] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"!=\", \"abcd\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \">\", \"5\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \">\", \"15\"] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [10, \">\", 5] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, \">\", 15] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \">=\", \"5\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \">=\", \"10\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      // 10\n      inputs: { array: [\"10\", \">=\", \"19\"] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [10, \">=\", 5] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, \">=\", 10] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, \">=\", 19] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    //\n\n    {\n      inputs: { array: [\"10\", \"<\", \"5\"] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"<\", \"15\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, \"<\", 5] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [10, \"<\", 15] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"<=\", \"5\"] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"<=\", \"10\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      // 20\n      inputs: { array: [\"10\", \"<=\", \"19\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, \"<=\", 5] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [10, \"<=\", 10] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, \"<=\", 19] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n\n    {\n      inputs: { array: [true, \"||\", false] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [false, \"||\", false] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n\n    {\n      inputs: { array: [true, \"&&\", false] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [true, \"&&\", true] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [true, \"XOR\", false] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [false, \"XOR\", true] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [false, \"XOR\", false] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [true, \"XOR\", true] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    //\n    {\n      inputs: { array: [[\"aaa\", \"==\", \"aaa\"], \"||\", [\"aaa\", \"==\", \"bbb\"]] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [[\"aaa\", \"==\", \"aaa\"], \"&&\", [\"aaa\", \"==\", \"bbb\"]] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [[[\"aaa\", \"==\", \"aaa\"], \"&&\", [\"bbb\", \"==\", \"bbb\"]], \"||\", [\"aaa\", \"&&\", \"bbb\"]] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n\n    /// params.operator\n    {\n      inputs: { array: [\"abc\", \"abc\"] },\n      params: { value: { true: \"a\", false: \"b\" }, operator: \"==\" },\n      result: {\n        result: \"a\",\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"abca\"] },\n      params: { value: { true: \"a\", false: \"b\" }, operator: \"==\" },\n      result: {\n        result: \"b\",\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"abc\"] },\n      params: { operator: \"==\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"abcd\"] },\n      params: { operator: \"==\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"abc\"] },\n      params: { operator: \"!=\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"abcd\"] },\n      params: { operator: \"!=\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"5\"] },\n      params: { operator: \">\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"15\"] },\n      params: { operator: \">\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [10, 5] },\n      params: { operator: \">\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, 15] },\n      params: { operator: \">\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"5\"] },\n      params: { operator: \">=\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"10\"] },\n      params: { operator: \">=\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"19\"] },\n      params: { operator: \">=\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [10, 5] },\n      params: { operator: \">=\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, 10] },\n      params: { operator: \">=\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, 19] },\n      params: { operator: \">=\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"5\"] },\n      params: { operator: \"<\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"15\"] },\n      params: { operator: \"<\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, 5] },\n      params: { operator: \"<\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [10, 15] },\n      params: { operator: \"<\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [true, false] },\n      params: { operator: \"||\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [false, false] },\n      params: { operator: \"||\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [true, false] },\n      params: { operator: \"&&\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [true, true] },\n      params: { operator: \"&&\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [true, false] },\n      params: { operator: \"XOR\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [false, true] },\n      params: { operator: \"XOR\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [false, false] },\n      params: { operator: \"XOR\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [true, true] },\n      params: { operator: \"XOR\" },\n      result: {\n        result: false,\n      },\n    },\n    /// left and right\n    {\n      inputs: { leftValue: \"abc\", rightValue: \"abc\" },\n      params: { value: { true: \"a\", false: \"b\" }, operator: \"==\" },\n      result: {\n        result: \"a\",\n      },\n    },\n    {\n      inputs: { leftValue: \"abc\", rightValue: \"abca\" },\n      params: { value: { true: \"a\", false: \"b\" }, operator: \"==\" },\n      result: {\n        result: \"b\",\n      },\n    },\n  ],\n  description: \"compare\",\n  category: [\"compare\"],\n  author: \"Receptron\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/compare_agents/compare_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default compareAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { arrayValidate } from \"@graphai/agent_utils\";\n\n// https://platform.openai.com/docs/guides/vision\nconst getImageUrl = (data: string, imageType: string, detail?: string) => {\n  if (imageType === \"http\") {\n    return {\n      url: data,\n    };\n  }\n  const dataUrl = `data:image/${imageType};base64,${data}`;\n  return {\n    url: dataUrl,\n    detail: detail ?? \"auto\",\n  };\n};\n\ntype Content = { type: string; image_url: { url: string; detail?: string } } | { type: string; text: string };\n\nexport const images2messageAgent: AgentFunction<\n  {\n    imageType: string;\n    detail?: string;\n  },\n  {\n    message: {\n      role: \"user\";\n      content: Content[];\n    };\n  },\n  {\n    array: string[];\n    prompt?: string;\n  }\n> = async ({ namedInputs, params }) => {\n  const { imageType, detail } = params;\n  const { array, prompt } = namedInputs;\n  arrayValidate(\"images2messageAgent\", namedInputs);\n  assert(!!imageType, \"images2messageAgent: params.imageType is UNDEFINED! Set Type: png, jpg...\");\n\n  const contents: Content[] = array.map((base64ImageData) => {\n    const image_url = getImageUrl(base64ImageData, imageType, detail);\n    return {\n      type: \"image_url\",\n      image_url,\n    };\n  });\n\n  if (prompt) {\n    contents.unshift({ type: \"text\", text: prompt });\n  }\n\n  return {\n    message: {\n      role: \"user\",\n      content: contents,\n    },\n  };\n};\n\nconst images2messageAgentInfo: AgentFunctionInfo = {\n  name: \"images2messageAgent\",\n  agent: images2messageAgent,\n  mock: images2messageAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"An array of base64-encoded image data strings or image URLs. These will be converted into OpenAI Vision-compatible image message format.\",\n        items: {\n          type: \"string\",\n          description: \"Base64 image string or HTTP URL depending on 'imageType'.\",\n        },\n      },\n      prompt: {\n        type: \"string\",\n        description: \"Optional prompt text to include as the first message content before images.\",\n      },\n    },\n    required: [\"array\"],\n    additionalProperties: false,\n  },\n  params: {\n    type: \"object\",\n    properties: {\n      imageType: {\n        type: \"string\",\n        description: \"The type of image input: 'png', 'jpg', etc. for base64, or 'http' for image URLs.\",\n      },\n      detail: {\n        type: \"string\",\n        description: \"The level of image detail requested by the model (e.g., 'auto', 'low', 'high'). Optional.\",\n      },\n    },\n    required: [\"imageType\"],\n    additionalProperties: false,\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      message: {\n        type: \"object\",\n        description: \"OpenAI-compatible chat message including images and optional prompt text.\",\n        properties: {\n          role: {\n            type: \"string\",\n            enum: [\"user\"],\n            description: \"Message role, always 'user' for this agent.\",\n          },\n          content: {\n            type: \"array\",\n            description: \"The array of message content elements, including optional text and one or more images.\",\n            items: {\n              type: \"object\",\n              oneOf: [\n                {\n                  properties: {\n                    type: {\n                      type: \"string\",\n                      const: \"text\",\n                    },\n                    text: {\n                      type: \"string\",\n                      description: \"Prompt message text.\",\n                    },\n                  },\n                  required: [\"type\", \"text\"],\n                  additionalProperties: false,\n                },\n                {\n                  properties: {\n                    type: {\n                      type: \"string\",\n                      const: \"image_url\",\n                    },\n                    image_url: {\n                      type: \"object\",\n                      properties: {\n                        url: {\n                          type: \"string\",\n                          description: \"URL or data URL of the image.\",\n                        },\n                        detail: {\n                          type: \"string\",\n                          description: \"Image detail level (e.g., 'high', 'low', 'auto'). Optional for base64.\",\n                        },\n                      },\n                      required: [\"url\"],\n                      additionalProperties: false,\n                    },\n                  },\n                  required: [\"type\", \"image_url\"],\n                  additionalProperties: false,\n                },\n              ],\n            },\n          },\n        },\n        required: [\"role\", \"content\"],\n        additionalProperties: false,\n      },\n    },\n    required: [\"message\"],\n    additionalProperties: false,\n  },\n  samples: [\n    {\n      inputs: { array: [\"abcabc\", \"122123\"] },\n      params: { imageType: \"png\" },\n      result: {\n        message: {\n          content: [\n            {\n              image_url: {\n                detail: \"auto\",\n                url: \"data:image/png;base64,abcabc\",\n              },\n              type: \"image_url\",\n            },\n            {\n              image_url: {\n                detail: \"auto\",\n                url: \"data:image/png;base64,122123\",\n              },\n              type: \"image_url\",\n            },\n          ],\n          role: \"user\",\n        },\n      },\n    },\n    {\n      inputs: { array: [\"abcabc\", \"122123\"], prompt: \"hello\" },\n      params: { imageType: \"jpg\", detail: \"high\" },\n      result: {\n        message: {\n          content: [\n            {\n              type: \"text\",\n              text: \"hello\",\n            },\n            {\n              image_url: {\n                detail: \"high\",\n                url: \"data:image/jpg;base64,abcabc\",\n              },\n              type: \"image_url\",\n            },\n            {\n              image_url: {\n                detail: \"high\",\n                url: \"data:image/jpg;base64,122123\",\n              },\n              type: \"image_url\",\n            },\n          ],\n          role: \"user\",\n        },\n      },\n    },\n    {\n      inputs: { array: [\"http://example.com/1.jpg\", \"http://example.com/2.jpg\"] },\n      params: { imageType: \"http\" },\n      result: {\n        message: {\n          content: [\n            {\n              image_url: {\n                url: \"http://example.com/1.jpg\",\n              },\n              type: \"image_url\",\n            },\n            {\n              image_url: {\n                url: \"http://example.com/2.jpg\",\n              },\n              type: \"image_url\",\n            },\n          ],\n          role: \"user\",\n        },\n      },\n    },\n  ],\n  description: \"Returns the message data for llm include image\",\n  category: [\"image\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/snakajima/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/images_agents/image_to_message_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default images2messageAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\n\n// Type for OpenAI's Embedding API\ntype OpenAIEmbeddingResponse = {\n  object: string;\n  model: string;\n  usage: {\n    prompt_tokens: number;\n    total_tokens: number;\n  };\n  data: [\n    {\n      object: string;\n      index: number;\n      embedding: number[];\n    },\n  ];\n};\n\ntype OllamaEmbeddingResponse = {\n  model: string;\n  embeddings: number[][];\n  total_duration: number;\n  load_duration: number;\n  prompt_eval_count: number;\n};\n\n// https://ollama.com/blog/embedding-models\ntype EmbeddingAIParams = {\n  baseURL?: string;\n  apiKey?: string;\n  model?: string;\n};\n\nconst defaultEmbeddingModel = \"text-embedding-3-small\";\nconst OpenAI_embedding_API = \"https://api.openai.com/v1/embeddings\";\n\n// This agent retrieves embedding vectors for an array of strings using OpenAI's API\n//\n// Parameters:\n//   model: Specifies the model (default is \"text-embedding-3-small\")\n// NamedInputs:\n//   array: Array<string>\n//   item: string,\n// Result:\n//   contents: Array<Array<number>>\n//\nexport const stringEmbeddingsAgent: AgentFunction<EmbeddingAIParams, number[][], { array: Array<string>; item: string }, EmbeddingAIParams> = async ({\n  params,\n  namedInputs,\n  config,\n}) => {\n  const { array, item } = namedInputs;\n  const { apiKey, model, baseURL } = {\n    ...(config || {}),\n    ...params,\n  };\n\n  const url = baseURL ?? OpenAI_embedding_API;\n  const theModel = model ?? defaultEmbeddingModel;\n\n  const openAIKey = apiKey ?? process.env.OPENAI_API_KEY;\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    Authorization: openAIKey ? `Bearer ${openAIKey}` : \"\",\n  };\n\n  const sources = array ?? [item];\n\n  const response = await fetch(url, {\n    method: \"POST\",\n    headers,\n    body: JSON.stringify({\n      input: sources,\n      model: theModel,\n    }),\n  });\n  const jsonResponse: OpenAIEmbeddingResponse | OllamaEmbeddingResponse = await response.json();\n\n  if (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`);\n  }\n  if (\"data\" in jsonResponse) {\n    // maybe openAI\n    return jsonResponse.data.map((object) => {\n      return object.embedding;\n    });\n  }\n  if (\"embeddings\" in jsonResponse) {\n    // ollama\n    return jsonResponse.embeddings;\n  }\n};\n\nconst stringEmbeddingsAgentInfo: AgentFunctionInfo = {\n  name: \"stringEmbeddingsAgent\",\n  agent: stringEmbeddingsAgent,\n  mock: stringEmbeddingsAgent,\n  samples: [],\n  description: \"Embeddings Agent\",\n  category: [\"embedding\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/embedding_agent.ts\",\n  package: \"@graphai/vanilla\",\n  cacheType: \"pureAgent\",\n  license: \"MIT\",\n};\nexport default stringEmbeddingsAgentInfo;\n"],"names":["stringSplitterAgent","async","params","namedInputs","assert","source","text","chunkSize","overlap","Math","floor","count","length","contents","Array","fill","undefined","map","_","i","startIndex","substring","stringSplitterAgentInfo","name","agent","mock","inputs","type","properties","description","required","output","samples","result","category","author","repository","package","license","processTemplate","template","match","input","replace","isArray","item","isObject","Object","keys","reduce","tmp","key","stringTemplateAgent","console","warn","sampleNamedInput","message1","message2","stringTemplateAgentInfo","additionalProperties","anyOf","items","apple","lemon","row","version","nodes","ai","isResult","prompt","cacheType","jsonParserAgent","data","JSON","stringify","parse","sample_object","json_str","md_json1","join","md_json2","md_json3","jsonParserAgentInfo","stringCaseVariantsAgent","suffix","normalizedArray","trim","toLowerCase","split","push","normalized","lowerCamelCase","word","index","charAt","toUpperCase","slice","snakeCase","kebabCase","stringCaseVariantsAgentInfo","nestedAgentGenerator","graphData","options","context","log","debugInfo","forNestedGraph","agents","graphOptions","onLogCallback","callbacks","taskManager","supressError","status","getStatus","concurrency","running","newNodes","node","value","update","nestedGraphData","graphDataLatestVersion","nodeIds","forEach","nodeId","graphAI","GraphAI","subGraphs","set","graphId","results","run","delete","transactionLogs","resultNodeId","error","Error","onError","message","nestedAgent","nestedAgentInfo","test","graph","namedKey","messages","stringUpdateTextAgent","newText","oldText","isNewText","if","isOldText","unless","updatedText","anyInput","resultText","stringUpdateTextAgentInfo","tools","hasGraphData","consoleAgent","info","consoleAgentInfo","pushAgent","extra_message","arrayValidate","array","pushAgentInfo","banana","popAgent","pop","popAgentInfo","array2","shiftAgent","shift","shiftAgentInfo","arrayFlatAgent","depth","flat","arrayFlatAgentInfo","arrayJoinAgent","separator","arrayJoinAgentInfo","arrayToObjectAgent","isNamedInputs","current","arrayToObjectAgentInfo","id","dotProductAgent","matrix","vector","vector0","dotProduct","dotProductAgentInfo","sortByValuesAgent","values","direction","assendant","sort","a","b","sortByValuesAgentInfo","echoAgent","filterParams","echoAgentInfo","countingAgent","list","countingAgentInfo","minimum","copyMessageAgent","copyMessageAgentInfo","copy2ArrayAgent","copy2ArrayAgentInfo","mergeNodeIdAgent","mergeNodeIdAgentInfo","streamMockAgent","token","streamTokenCallback","sleep","streamMockAgentInfo","stream","mapAgent","limit","resultAll","compositeResult","compositeResultKey","rowKey","expandKeys","rows","rowInputKey","mappedNodeId","graphs","injectValue","expandKey","runs","Promise","all","logs","mapIndex","_compositeResult","mapAgentInfo","color","node2","fruit","verb","__mapIndex","totalAgent","flatResponse","response","innerInput","totalAgentInfo","c","d","dataSumTemplateAgent","sum","dataSumTemplateAgentInfo","applyFilter","object","arrayInputs","include","exclude","alter","inject","swap","inspect","propIds","excludeSet","Set","propId","has","mapping","from","equal","notEqual","propertyFilterAgent","target","testInputs","model","maker","range","propertyFilterAgentInfo","red","blue","isTesla","isGM","copyAgent","copyAgentInfo","lookupDictionaryAgent","exampleParams","openai","temperature","groq","gemini","lookupDictionaryAgentInfo","mergeObjectAgent","assign","mergeObjectAgentInfo","allowedMethods","methodsRequiringBody","vanillaFetchAgent","config","url","method","queryParams","body","url0","URL","headers0","headers","authorization","_params","URLSearchParams","search","toString","fetchOptions","Headers","includes","debug","fetch","ok","json","vanillaFetchAgentInfo","enum","foo","authentication","sleeperAgent","duration","sleeperAgentInfo","compare","_array","operator","Number","isNull","compareAgent","leftValue","rightValue","ret","compareAgentInfo","true","false","images2messageAgent","imageType","detail","base64ImageData","image_url","getImageUrl","unshift","role","content","images2messageAgentInfo","oneOf","const","stringEmbeddingsAgent","apiKey","baseURL","theModel","openAIKey","process","env","OPENAI_API_KEY","Authorization","sources","jsonResponse","embedding","embeddings","stringEmbeddingsAgentInfo"],"mappings":"2KAWA,MAEaA,EAYTC,OAASC,SAAQC,kBACnBC,IAASD,EAAa,kDACtB,MAAME,EAASF,EAAYG,KACrBC,EAAYL,EAAOK,WAjBF,KAkBjBC,EAAUN,EAAOM,SAAWC,KAAKC,MAAMH,EAAY,GACnDI,EAAQF,KAAKC,MAAML,EAAOO,QAAUL,EAAYC,IAAY,EAMlE,MAAO,CAAEK,SALQ,IAAIC,MAAMH,GAAOI,UAAKC,GAAWC,KAAI,CAACC,EAAGC,KACxD,MAAMC,EAAaD,GAAKZ,EAAYC,GACpC,OAAOH,EAAOgB,UAAUD,EAAYA,EAAab,EAAU,IAG1CI,QAAOJ,YAAWC,UAAS,EA4B1Cc,EAA6C,CACjDC,KAAM,sBACNC,MAAOxB,EACPyB,KAAMzB,EACN0B,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVtB,KAAM,CACJqB,KAAM,SACNE,YAAa,wBAGjBC,SAAU,CAAC,SAEbC,OAAQ,CACNJ,KAAM,SACNC,WAAY,CACVf,SAAU,CACRc,KAAM,QACNE,YAAa,4BAEflB,MAAO,CACLgB,KAAM,SACNE,YAAa,wBAEftB,UAAW,CACToB,KAAM,SACNE,YAAa,kBAEfrB,QAAS,CACPmB,KAAM,SACNE,YAAa,sBAInBG,QAAS,CACP,CACEN,OA7Dc,CAClBpB,KAAM,wjBA6DFJ,OA1De,CAAEK,UAAW,IA2D5B0B,OA1De,CACnBpB,SAAU,CACR,mEACA,mEACA,mEACA,mEACA,mEACA,mEACA,mEACA,mEACA,mEACA,+DACA,QAEFF,MAAO,GACPJ,UAAW,GACXC,QAAS,KA6CTqB,YAAa,0EACbK,SAAU,CAAC,UACXC,OAAQ,mBACRC,WAAY,uCACZ/B,OAAQ,kHACRgC,QAAS,mBACTC,QAAS,OC3GLC,EAAuB,CAACC,EAAgCC,EAAeC,IACnD,iBAAbF,EACLA,IAAaC,EACRC,EAEFF,EAASG,QAAQF,EAAOC,GACtB5B,MAAM8B,QAAQJ,GAChBA,EAASvB,KAAK4B,GAAyBN,EAAgBM,EAAMJ,EAAOC,KAGzEI,EAASN,GACJO,OAAOC,KAAKR,GAAUS,QAAO,CAACC,EAAUC,KAC7CD,EAAIC,GAAOZ,EAAgBC,EAASW,GAAMV,EAAOC,GAC1CQ,IACN,IAEEV,EAGIY,EAMTnD,OAASC,SAAQC,kBACnB,QAAwBa,IAApBd,EAAOsC,SAAwB,CACjC,GAAIrC,EAAYG,KACd,OAAOH,EAAYG,KAErB+C,QAAQC,KAAK,4CAEf,OAAOP,OAAOC,KAAK7C,GAAa8C,QAAO,CAACT,EAAUW,IACzCZ,EAAgBC,EAAU,KAAOW,EAAM,IAAKhD,EAAYgD,KAC9DjD,EAAOsC,SAAS,EAGfe,EAAmB,CAAEC,SAAU,QAASC,SAAU,QAGlDC,EAA6C,CACjDnC,KAAM,sBACNC,MAAO4B,EACP3B,KAAM2B,EACN1B,OAAQ,CACNC,KAAM,SACNE,YAAa,gGACb8B,qBAAsB,CACpBhC,KAAM,CAAC,SAAU,SAAU,UAAW,SAAU,QAAS,QACzDE,YAAa,kIAGjB3B,OAAQ,CACNyB,KAAM,SACNE,YAAa,kIACbD,WAAY,CACVY,SAAU,CACRX,YAAa,oGACb+B,MAAO,CACL,CAAEjC,KAAM,UACR,CACEA,KAAM,QACNkC,MAAO,CACLD,MAAO,CACL,CAAEjC,KAAM,UACR,CACEA,KAAM,SACNgC,qBAAsB,CACpBC,MAAO,CAAC,CAAEjC,KAAM,UAAY,CAAEA,KAAM,QAASkC,MAAO,CAAElC,KAAM,iBAMtE,CACEA,KAAM,SACNgC,qBAAsB,CACpBC,MAAO,CACL,CAAEjC,KAAM,UACR,CACEA,KAAM,QACNkC,MAAO,CAAElC,KAAM,WAEjB,CACEA,KAAM,SACNgC,sBAAsB,SAQpC7B,SAAU,CAAC,YACX6B,sBAAsB,GAExB5B,OAAQ,CACNF,YAAa,uGACb+B,MAAO,CACL,CAAEjC,KAAM,UACR,CACEA,KAAM,QACNkC,MAAO,CACLD,MAAO,CACL,CAAEjC,KAAM,UACR,CACEA,KAAM,SACNgC,sBAAsB,MAK9B,CACEhC,KAAM,SACNgC,sBAAsB,KAI5B3B,QAAS,CAEP,CACEN,OAAQ6B,EACRrD,OAAQ,CAAEsC,SAAU,4BACpBP,OAAQ,eAEV,CACEP,OAAQ6B,EACRrD,OAAQ,CAAEsC,SAAU,CAAC,2BAA4B,6BACjDP,OAAQ,CAAC,cAAe,gBAE1B,CACEP,OAAQ6B,EACRrD,OAAQ,CAAEsC,SAAU,CAAEsB,MAAO,cAAeC,MAAO,gBACnD9B,OAAQ,CAAE6B,MAAO,QAASC,MAAO,SAEnC,CACErC,OAAQ6B,EACRrD,OAAQ,CAAEsC,SAAU,CAAC,CAAEsB,MAAO,cAAeC,MAAO,iBACpD9B,OAAQ,CAAC,CAAE6B,MAAO,QAASC,MAAO,UAEpC,CACErC,OAAQ6B,EACRrD,OAAQ,CAAEsC,SAAU,CAAEsB,MAAO,cAAeC,MAAO,CAAC,iBACpD9B,OAAQ,CAAE6B,MAAO,QAASC,MAAO,CAAC,UAGpC,CACErC,OAAQ,CAAEF,MAAO,cAAewC,IAAK,cAAe9D,OAAQ,CAAEI,KAAM,YACpEJ,OAAQ,CACNsC,SAAU,CACRyB,QAAS,GACTC,MAAO,CACLC,GAAI,CACF3C,MAAO,WACP4C,UAAU,EACVlE,OAAQ,YACRwB,OAAQ,CAAE2C,OAAQ,cAK1BpC,OAAQ,CACNiC,MAAO,CACLC,GAAI,CACF3C,MAAO,cACPE,OAAQ,CACN2C,OAAQ,eAEVD,UAAU,EACVlE,OAAQ,CAAEI,KAAM,aAGpB2D,QAAS,MAIfpC,YAAa,iBACbK,SAAU,CAAC,UACXC,OAAQ,mBACRC,WAAY,uCACZ/B,OAAQ,kHACRgC,QAAS,mBACTiC,UAAW,YACXhC,QAAS,OCzLEiC,EAAgFtE,OAASE,kBACpG,MAAMG,KAAEA,EAAIkE,KAAEA,GAASrE,EAEvB,GAAIqE,EACF,MAAO,CACLlE,KAAMmE,KAAKC,UAAUF,EAAM,KAAM,IAGrC,MAAM/B,GAAS,KAAOnC,GAAMmC,MAAM,iCAClC,OAAIA,EACK,CACL+B,KAAMC,KAAKE,MAAMlC,EAAM,KAGpB,CACL+B,KAAMC,KAAKE,MAAMrE,GAAQ,IAC1B,EAGGsE,EAAgB,CAAEd,MAAO,MAAOC,MAAO,UAEvCc,EAAWJ,KAAKC,UAAUE,GAC1BE,EAAW,CAAC,MAAOD,EAAU,OAAOE,KAAK,MAEzCC,EAAW,CAAC,UAAWH,EAAU,OAAOE,KAAK,MAE7CE,EAAW,CAAC,UAAWJ,EAAU,OAAOE,KAAK,MAE7CG,EAAyC,CAC7C3D,KAAM,kBACNC,MAAO+C,EACP9C,KAAM8C,EACN7C,OAAQ,CACNC,KAAM,SACNE,YAAa,4HACbD,WAAY,CACVtB,KAAM,CACJqB,KAAM,SACNE,YAAa,iHAEf2C,KAAM,CACJZ,MAAO,CAAC,CAAEjC,KAAM,UAAY,CAAEA,KAAM,SAAW,CAAEA,KAAM,UAAY,CAAEA,KAAM,WAC3EE,YAAa,gFAGjBC,SAAU,GACV6B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNE,YAAa,6CACbD,WAAY,CAAA,EACZ+B,sBAAsB,GAExB5B,OAAQ,CACNJ,KAAM,SACNE,YAAa,8FACbD,WAAY,CACVtB,KAAM,CACJqB,KAAM,SACNE,YAAa,8EAEf2C,KAAM,CACJZ,MAAO,CAAC,CAAEjC,KAAM,UAAY,CAAEA,KAAM,SAAW,CAAEA,KAAM,UAAY,CAAEA,KAAM,WAC3EE,YAAa,iGAGjBC,SAAU,GACV6B,sBAAsB,GAExB3B,QAAS,CACP,CACEN,OAAQ,CAAE8C,KAAMI,GAChB1E,OAAQ,CAAA,EACR+B,OAAQ,CAAE3B,KAAMmE,KAAKC,UAAUE,EAAe,KAAM,KAEtD,CACElD,OAAQ,CAAEpB,KAAMmE,KAAKC,UAAUE,EAAe,KAAM,IACpD1E,OAAQ,CAAA,EACR+B,OAAQ,CAAEuC,KAAMI,IAElB,CACElD,OAAQ,CAAEpB,KAAMwE,GAChB5E,OAAQ,CAAA,EACR+B,OAAQ,CAAEuC,KAAMI,IAElB,CACElD,OAAQ,CAAEpB,KAAM0E,GAChB9E,OAAQ,CAAA,EACR+B,OAAQ,CAAEuC,KAAMI,IAElB,CACElD,OAAQ,CAAEpB,KAAM2E,GAChB/E,OAAQ,CAAA,EACR+B,OAAQ,CAAEuC,KAAMI,KAGpB/C,YAAa,iBACbK,SAAU,CAAC,UACXC,OAAQ,mBACRC,WAAY,uCACZ/B,OAAQ,8GACRgC,QAAS,mBACTC,QAAS,OCvGE6C,EAITlF,OAASE,cAAaD,aACxB,MAAMkF,OAAEA,GAAWlF,EACbmF,EAAkBlF,EAAYG,KACjCgF,OACA3C,QAAQ,WAAY,KACpB4C,cACAC,MAAM,KACLJ,GAAUC,EAAgBA,EAAgBzE,OAAS,KAAOwE,GAC5DC,EAAgBI,KAAKL,GAEvB,MAAMM,EAAaL,EAAgBN,KAAK,KAYxC,MAAO,CAAEY,eAVcN,EACpBpE,KAAI,CAAC2E,EAAMC,IACI,IAAVA,EAAoBD,EACjBA,EAAKE,OAAO,GAAGC,cAAgBH,EAAKI,MAAM,KAElDjB,KAAK,IAKiBkB,UAHPP,EAAW/C,QAAQ,OAAQ,KAGTuD,UAFlBR,EAAW/C,QAAQ,OAAQ,KAEE+C,aAAY,EAGvDS,EAAiD,CACrD5E,KAAM,0BACNC,MAAO2D,EACP1D,KAAM0D,EACNzD,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVtB,KAAM,CACJqB,KAAM,SACNE,YAAa,mEAGjBC,SAAU,CAAC,QACX6B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNC,WAAY,CACVwD,OAAQ,CACNzD,KAAM,SACNE,YAAa,gFAGjB8B,sBAAsB,GAExB5B,OAAQ,CACNJ,KAAM,SACNC,WAAY,CACVsE,UAAW,CACTvE,KAAM,SACNE,YAAa,qEAEfoE,UAAW,CACTtE,KAAM,SACNE,YAAa,qEAEf8D,eAAgB,CACdhE,KAAM,SACNE,YAAa,sEAEf6D,WAAY,CACV/D,KAAM,SACNE,YAAa,oGAGjBC,SAAU,CAAC,YAAa,YAAa,iBAAkB,cACvD6B,sBAAsB,GAExB3B,QAAS,CACP,CACEN,OAAQ,CAAEpB,KAAM,iBAChBJ,OAAQ,CAAA,EACR+B,OAAQ,CACNiE,UAAW,gBACXP,eAAgB,aAChBD,WAAY,gBACZO,UAAW,kBAGf,CACEvE,OAAQ,CAAEpB,KAAM,wBAChBJ,OAAQ,CAAEkF,OAAQ,SAClBnD,OAAQ,CACNiE,UAAW,6BACXP,eAAgB,0BAChBD,WAAY,6BACZO,UAAW,gCAIjBpE,YAAa,4BACbK,SAAU,CAAC,UACXC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,uHACRgC,QAAS,mBACTC,QAAS,OCpGE8D,EAGqF,CAChGC,EACAC,IAEOrG,MAAOsG,IACZ,MAAMpG,YAAEA,EAAWqG,IAAEA,EAAGC,UAAEA,EAASvG,OAAEA,EAAMwG,eAAEA,GAAmBH,EAChEnG,IAASsG,EAAgB,6CAEzB,MAAMC,OAAEA,EAAMC,aAAEA,EAAYC,cAAEA,EAAaC,UAAEA,GAAcJ,GACrDK,YAAEA,GAAgBH,EAClBI,EAAe9G,EAAO8G,eAAgB,EAC5C,GAAID,EAAa,CACf,MAAME,EAASF,EAAYG,WAAU,GACrC9G,EAAO6G,EAAOE,YAAcF,EAAOG,QAAS,wCAAwCH,EAAOE,eAE7F/G,IAASiG,EAAW,kCAEpB,MAAMnC,MAAEA,GAAUmC,EACZgB,EAAWtE,OAAOC,KAAKkB,GAAOjB,QAAO,CAACC,EAA+BC,KACzE,MAAMmE,EAAOpD,EAAMf,GACnB,GAAI,UAAWmE,EACbpE,EAAIC,GAAOmE,MACN,CACL,MAAMC,MAAEA,EAAKC,OAAEA,EAAMpD,SAAEA,EAAQf,QAAEA,GAAYiE,EAC7CpE,EAAIC,GAAO,CAAEoE,QAAOC,SAAQpD,WAAUf,WAExC,OAAOH,CAAG,GACT,IACGuE,EAAkB,IAAKpB,EAAWnC,MAAOmD,EAAUpD,QAASyD,GAE5DC,EAAU5E,OAAOC,KAAK7C,GACxBwH,EAAQ/G,OAAS,GACnB+G,EAAQC,SAASC,SACuB7G,IAAlCyG,EAAgBvD,MAAM2D,GAExBJ,EAAgBvD,MAAM2D,GAAU,CAAEN,MAAOpH,EAAY0H,SAGzB7G,IAAxBb,EAAY0H,KACbJ,EAAgBvD,MAAM2D,GAAkC,MAAI1H,EAAY0H,OAMjF,SACkC7G,IAA5ByG,EAAgBxD,SAAyBwC,EAAUxC,UACrDwD,EAAgBxD,QAAUwC,EAAUxC,SAEtC,MAAM6D,EAAU,IAAIC,EAAQN,EAAiBd,GAAU,CAAA,EAAIC,GAEvDC,IACFiB,EAAQjB,cAAgBA,GAEtBC,IACFgB,EAAQhB,UAAYA,GAEtBL,EAAUuB,UAAUC,IAAIH,EAAQI,QAASJ,GACzC,MAAMK,QAAgBL,EAAQM,KAAI,GAKlC,OAJA3B,EAAUuB,UAAUK,OAAOP,EAAQI,SAEnC1B,GAAKf,QAAQqC,EAAQQ,mBAEjBhC,GAAWA,EAAQiC,aACdJ,EAAQ7B,EAAQiC,cAElBJ,EACP,MAAOK,GACP,GAAIA,aAAiBC,OAASzB,EAC5B,MAAO,CACL0B,QAAS,CACPC,QAASH,EAAMG,QACfH,UAIN,MAAMA,IAKCI,EAAwF3I,MAAOsG,IAC1G,MAAMG,eAAEA,EAAcxG,OAAEA,GAAWqG,GAC7BF,UAAEA,GAAcK,GAAkB,CAAEL,UAAW,CAAEnC,MAAO,CAAA,IAG9D,OAFA9D,IAASiG,EAAW,sBAEPD,EAAqBC,EAAWnG,EAAhCkG,CAAwCG,EAAQ,EAGzDsC,EAAqC,CACzCtH,KAAM,cACNC,MAAOoH,EACPnH,KAAMmH,EACN5G,QAAS,CACP,CACEN,OAAQ,CACNiH,QAAS,SAEXzI,OAAQ,CAAA,EACR+B,OAAQ,CACN6G,KAAM,CAAC,UAETC,MAAO,CACL7E,MAAO,CACL4E,KAAM,CACJtH,MAAO,YACPtB,OAAQ,CAAE8I,SAAU,YACpBtH,OAAQ,CAAEuH,SAAU,CAAC,aACrB7E,UAAU,MAKlB,CACE1C,OAAQ,CACNiH,QAAS,SAEXzI,OAAQ,CACNqI,aAAc,QAEhBtG,OAAQ,CAAC,SACT8G,MAAO,CACL7E,MAAO,CACL4E,KAAM,CACJtH,MAAO,YACPtB,OAAQ,CAAE8I,SAAU,YACpBtH,OAAQ,CAAEuH,SAAU,CAAC,aACrB7E,UAAU,OAMpBvC,YAAa,eACbK,SAAU,CAAC,SACXC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,wGACRgC,QAAS,mBACTC,QAAS,OC1GL4G,EAAwB9C,EAzCA,CAC5BnC,QAASyD,EACTxD,MAAO,CACLiF,QAAS,CACP5B,MAAO,IAET6B,QAAS,CACP7B,MAAO,IAET8B,UAAW,CACTC,GAAI,WACJ9H,MAAO,YACPE,OAAQ,CACNpB,KAAM,aAGViJ,UAAW,CACTC,OAAQ,WACRhI,MAAO,YACPE,OAAQ,CACNpB,KAAM,aAGVmJ,YAAa,CACXjI,MAAO,YACPkI,UAAU,EACVhI,OAAQ,CACNpB,KAAM,CAAC,kBAAmB,qBAG9BqJ,WAAY,CACVvF,UAAU,EACV5C,MAAO,YACPkI,UAAU,EACVhI,OAAQ,CACNpB,KAAM,2BAM4D,CAAEiI,aAAc,eAEpFqB,EAA+C,CACnDrI,KAAM,wBACNC,MAAO0H,EACPzH,KAAMyH,EACNxH,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVuH,QAAS,CACPxH,KAAM,SACNE,YAAa,kDAEfuH,QAAS,CACPzH,KAAM,SACNE,YAAa,kEAGjB8B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNE,YAAa,wCACbD,WAAY,CAAA,EACZ+B,sBAAsB,GAExB5B,OAAQ,CACNJ,KAAM,SACNC,WAAY,CACVtB,KAAM,CACJqB,KAAM,SACNE,YAAa,uIAGjBC,SAAU,CAAC,QACX6B,sBAAsB,GAExB3B,QAAS,CACP,CACEN,OAAQ,CAAEyH,QAAS,MAAOC,QAAS,OACnClJ,OAAQ,CAAA,EACR+B,OAAQ,CAAE3B,KAAM,QAElB,CACEoB,OAAQ,CAAEyH,QAAS,GAAIC,QAAS,OAChClJ,OAAQ,CAAA,EACR+B,OAAQ,CAAE3B,KAAM,QAElB,CACEoB,OAAQ,CAAA,EACRxB,OAAQ,CAAA,EACR+B,OAAQ,CAAE3B,KAAM,KAElB,CACEoB,OAAQ,CAAE0H,QAAS,OACnBlJ,OAAQ,CAAA,EACR+B,OAAQ,CAAE3B,KAAM,SAGpBuB,YAAa,GACbK,SAAU,GACVC,OAAQ,GACRC,WAAY,GACZ/B,OAAQ,qHACRgC,QAAS,mBACTwH,MAAO,GACPvH,QAAS,GACTwH,cAAc,GC5GHC,EAAkE9J,OAASE,kBACtF,MAAMG,KAAEA,GAASH,EAEjB,OADAkD,QAAQ2G,KAAK1J,GACN,CACLA,OACD,EAGG2J,EAAsC,CAC1C1I,KAAM,eACNC,MAAOuI,EACPtI,KAAMsI,EACNrI,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVtB,KAAM,CACJqB,KAAM,SACNE,YAAa,UAInBE,OAAQ,CACNJ,KAAM,SACNC,WAAY,CACVtB,KAAM,CACJqB,KAAM,SACNE,YAAa,UAInBG,QAAS,CACP,CACEN,OAAQ,CAAEpB,KAAM,SAChBJ,OAAQ,CAAA,EACR+B,OAAQ,CAAE3B,KAAM,WAGpBuB,YAAa,4BACbK,SAAU,CAAC,UACXC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,0GACRgC,QAAS,mBACTC,QAAS,OC1CE4H,EAAqFjK,OAASE,kBACzG,MAAMgK,EAAgB,0DACtBC,EAAc,YAAajK,EAAagK,GACxC,MAAMtH,KAAEA,EAAIgB,MAAEA,GAAU1D,EACxBC,OAAgBY,IAAT6B,QAAgC7B,IAAV6C,EAAqB,mEAAqEsG,GACvH/J,OAAiBY,IAAV6C,GAAuB/C,MAAM8B,QAAQiB,GAAQ,8CAEpD,MAAMwG,EAAQlK,EAAYkK,MAAMpJ,KAAK4B,GAAcA,IASnD,YARa7B,IAAT6B,GACFwH,EAAM5E,KAAK5C,GAETgB,GACFA,EAAM+D,SAAS/E,IACbwH,EAAM5E,KAAK5C,EAAK,IAGb,CACLwH,QACD,EAGGC,EAAmC,CACvC/I,KAAM,YACNC,MAAO0I,EACPzI,KAAMyI,EACNxI,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVyI,MAAO,CACL1I,KAAM,QACNE,YAAa,gCAEfgB,KAAM,CACJe,MAAO,CAAC,CAAEjC,KAAM,UAAY,CAAEA,KAAM,WAAa,CAAEA,KAAM,UAAY,CAAEA,KAAM,SAAW,CAAEA,KAAM,YAChGE,YAAa,gCAEfgC,MAAO,CACLlC,KAAM,QACNE,YAAa,8BAGjBC,SAAU,CAAC,UAEbC,OAAQ,CACNJ,KAAM,SACNC,WAAY,CACVyI,MAAO,CACL1I,KAAM,WAIZK,QAAS,CACP,CACEN,OAAQ,CAAE2I,MAAO,CAAC,EAAG,GAAIxH,KAAM,GAC/B3C,OAAQ,CAAA,EACR+B,OAAQ,CAAEoI,MAAO,CAAC,EAAG,EAAG,KAE1B,CACE3I,OAAQ,CAAE2I,MAAO,EAAC,GAAM,GAAQxH,MAAM,GACtC3C,OAAQ,CAAA,EACR+B,OAAQ,CAAEoI,MAAO,EAAC,GAAM,GAAO,KAEjC,CACE3I,OAAQ,CAAE2I,MAAO,CAAC,CAAEvG,MAAO,IAAMjB,KAAM,CAAEkB,MAAO,IAChD7D,OAAQ,CAAA,EACR+B,OAAQ,CAAEoI,MAAO,CAAC,CAAEvG,MAAO,GAAK,CAAEC,MAAO,MAE3C,CACErC,OAAQ,CAAE2I,MAAO,CAAC,CAAEvG,MAAO,IAAMD,MAAO,CAAC,CAAEE,MAAO,GAAK,CAAEwG,OAAQ,KACjErK,OAAQ,CAAA,EACR+B,OAAQ,CAAEoI,MAAO,CAAC,CAAEvG,MAAO,GAAK,CAAEC,MAAO,GAAK,CAAEwG,OAAQ,OAG5D1I,YAAa,aACbK,SAAU,CAAC,SACXoC,UAAW,YACXnC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,sGACRgC,QAAS,mBACTC,QAAS,OChFEkI,EAAoEvK,OAASE,kBACxFiK,EAAc,WAAYjK,GAE1B,MAAMkK,EAAQ,IAAIlK,EAAYkK,OACxBxH,EAAOwH,EAAMI,MACnB,MAAO,CAAEJ,QAAOxH,OAAM,EAGlB6H,EAAkC,CACtCnJ,KAAM,WACNC,MAAOgJ,EACP/I,KAAM+I,EACN9I,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVyI,MAAO,CACL1I,KAAM,QACNE,YAAa,kCAGjBC,SAAU,CAAC,UAEbC,OAAQ,CACNJ,KAAM,SACNC,WAAY,CACViB,KAAM,CACJe,MAAO,CAAC,CAAEjC,KAAM,UAAY,CAAEA,KAAM,WAAa,CAAEA,KAAM,UAAY,CAAEA,KAAM,UAC7EE,YAAa,kCAEfwI,MAAO,CACL1I,KAAM,QACNE,YAAa,yBAInBG,QAAS,CACP,CACEN,OAAQ,CAAE2I,MAAO,CAAC,EAAG,EAAG,IACxBnK,OAAQ,CAAA,EACR+B,OAAQ,CACNoI,MAAO,CAAC,EAAG,GACXxH,KAAM,IAGV,CACEnB,OAAQ,CAAE2I,MAAO,CAAC,IAAK,IAAK,MAC5BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNoI,MAAO,CAAC,IAAK,KACbxH,KAAM,MAGV,CACEnB,OAAQ,CACN2I,MAAO,CAAC,EAAG,EAAG,GACdM,OAAQ,CAAC,IAAK,IAAK,MAErBzK,OAAQ,CAAA,EACR+B,OAAQ,CACNoI,MAAO,CAAC,EAAG,GACXxH,KAAM,KAIZhB,YAAa,YACbK,SAAU,CAAC,SACXoC,UAAW,YACXnC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,qGACRgC,QAAS,mBACTC,QAAS,OCvEEsI,EAAqF3K,OAASE,kBACzGiK,EAAc,aAAcjK,GAE5B,MAAMkK,EAAQlK,EAAYkK,MAAMpJ,KAAK4B,GAAcA,IAC7CA,EAAOwH,EAAMQ,QACnB,MAAO,CAAER,QAAOxH,OAAM,EAGlBiI,EAAoC,CACxCvJ,KAAM,aACNC,MAAOoJ,EACPnJ,KAAMmJ,EACNlJ,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVyI,MAAO,CACL1I,KAAM,QACNE,YAAa,oCAGjBC,SAAU,CAAC,UAEbC,OAAQ,CACNJ,KAAM,SACNC,WAAY,CACViB,KAAM,CACJe,MAAO,CAAC,CAAEjC,KAAM,UAAY,CAAEA,KAAM,WAAa,CAAEA,KAAM,UAAY,CAAEA,KAAM,UAC7EE,YAAa,mCAEfwI,MAAO,CACL1I,KAAM,QACNE,YAAa,yBAInBG,QAAS,CACP,CACEN,OAAQ,CAAE2I,MAAO,CAAC,EAAG,EAAG,IACxBnK,OAAQ,CAAA,EACR+B,OAAQ,CACNoI,MAAO,CAAC,EAAG,GACXxH,KAAM,IAGV,CACEnB,OAAQ,CAAE2I,MAAO,CAAC,IAAK,IAAK,MAC5BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNoI,MAAO,CAAC,IAAK,KACbxH,KAAM,OAIZhB,YAAa,cACbK,SAAU,CAAC,SACXoC,UAAW,YACXnC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,uGACRgC,QAAS,mBACTC,QAAS,OC5DEyI,EAAgF9K,OAASE,cAAaD,aACjHkK,EAAc,iBAAkBjK,GAChC,MAAM6K,EAAQ9K,EAAO8K,OAAS,EAG9B,MAAO,CAAEX,MADKlK,EAAYkK,MAAMpJ,KAAK4B,GAAcA,IAC7BoI,KAAKD,GAAQ,EAG/BE,EAAwC,CAC5C3J,KAAM,iBACNC,MAAOuJ,EACPtJ,KAAMsJ,EACNrJ,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVyI,MAAO,CACL1I,KAAM,QACNE,YAAa,8BAGjBC,SAAU,CAAC,UAEbC,OAAQ,CACNJ,KAAM,SACNC,WAAY,CACVyI,MAAO,CACL1I,KAAM,QACNE,YAAa,qBAInB3B,OAAQ,CACNyB,KAAM,SACNC,WAAY,CACVoJ,MAAO,CACLrJ,KAAM,SACNE,YAAa,sBAInBG,QAAS,CACP,CACEN,OAAQ,CAAE2I,MAAO,CAAC,CAAC,GAAI,CAAC,GAAI,CAAC,KAC7BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNoI,MAAO,CAAC,EAAG,EAAG,KAGlB,CACE3I,OAAQ,CAAE2I,MAAO,CAAC,CAAC,GAAI,CAAC,GAAI,CAAC,CAAC,MAC9BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNoI,MAAO,CAAC,EAAG,EAAG,CAAC,MAGnB,CACE3I,OAAQ,CAAE2I,MAAO,CAAC,CAAC,GAAI,CAAC,GAAI,CAAC,CAAC,MAC9BnK,OAAQ,CAAE8K,MAAO,GACjB/I,OAAQ,CACNoI,MAAO,CAAC,EAAG,EAAG,KAGlB,CACE3I,OAAQ,CAAE2I,MAAO,CAAC,CAAC,KAAM,CAAC,KAAM,CAAC,OACjCnK,OAAQ,CAAA,EACR+B,OAAQ,CACNoI,MAAO,CAAC,IAAK,IAAK,QAIxBxI,YAAa,mBACbK,SAAU,CAAC,SACXC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,4GACRgC,QAAS,mBACTiC,UAAW,YACXhC,QAAS,OC7EE6I,EAAkGlL,OAASE,cAAaD,aACnIkK,EAAc,iBAAkBjK,GAChC,MAAMiL,EAAYlL,EAAOkL,WAAa,IAChCH,KAAEA,GAAS/K,EAGjB,MAAO,CAAEI,KADI2K,EAAO9K,EAAYkK,MAAMY,KAAKA,GAAMlG,KAAKqG,GAAajL,EAAYkK,MAAMtF,KAAKqG,GAC3E,EAGXC,EAAwC,CAC5C9J,KAAM,iBACNC,MAAO2J,EACP1J,KAAM0J,EACNzJ,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVyI,MAAO,CACL1I,KAAM,QACNE,YAAa,eAGjBC,SAAU,CAAC,UAEb5B,OAAQ,CACNyB,KAAM,SACNC,WAAY,CACVwJ,UAAW,CACTzJ,KAAM,SACNE,YAAa,wBAEfoJ,KAAM,CACJtJ,KAAM,SACNE,YAAa,sBAInBE,OAAQ,CACNJ,KAAM,SACNC,WAAY,CACVtB,KAAM,CACJqB,KAAM,SACNE,YAAa,iBAInBG,QAAS,CACP,CACEN,OAAQ,CAAE2I,MAAO,CAAC,CAAC,GAAI,CAAC,GAAI,CAAC,KAC7BnK,OAAQ,CAAA,EACR+B,OAAQ,CACN3B,KAAM,QAGV,CACEoB,OAAQ,CAAE2I,MAAO,CAAC,CAAC,GAAI,CAAC,GAAI,CAAC,CAAC,MAC9BnK,OAAQ,CAAA,EACR+B,OAAQ,CACN3B,KAAM,QAGV,CACEoB,OAAQ,CAAE2I,MAAO,CAAC,CAAC,KAAM,CAAC,KAAM,CAAC,OACjCnK,OAAQ,CAAA,EACR+B,OAAQ,CACN3B,KAAM,QAIV,CACEoB,OAAQ,CAAE2I,MAAO,CAAC,CAAC,GAAI,CAAC,GAAI,CAAC,KAC7BnK,OAAQ,CAAEkL,UAAW,KACrBnJ,OAAQ,CACN3B,KAAM,UAGV,CACEoB,OAAQ,CAAE2I,MAAO,CAAC,CAAC,CAAC,IAAK,CAAC,CAAC,GAAI,CAAC,MAChCnK,OAAQ,CAAEkL,UAAW,KACrBnJ,OAAQ,CACN3B,KAAM,UAGV,CACEoB,OAAQ,CAAE2I,MAAO,CAAC,CAAC,CAAC,IAAK,CAAC,CAAC,GAAI,CAAC,MAChCnK,OAAQ,CAAEkL,UAAW,IAAKH,KAAM,GAChChJ,OAAQ,CACN3B,KAAM,UAGV,CACEoB,OAAQ,CAAE2I,MAAO,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC,CAAC,GAAI,CAAC,OACjCnK,OAAQ,CAAEkL,UAAW,IAAKH,KAAM,GAChChJ,OAAQ,CACN3B,KAAM,UAGV,CACEoB,OAAQ,CAAE2I,MAAO,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC,CAAC,GAAI,CAAC,OACjCnK,OAAQ,CAAEkL,UAAW,IAAKH,KAAM,GAChChJ,OAAQ,CACN3B,KAAM,WAIZuB,YAAa,mBACbK,SAAU,CAAC,SACXoC,UAAW,YACXnC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,4GACRgC,QAAS,mBACTC,QAAS,OC/GEgJ,EAAwFrL,OAASC,SAAQC,kBACpHC,EAAOmL,EAAcpL,GAAc,iDACnC,MAAM0D,MAAEA,GAAU1D,GACZgD,IAAEA,GAAQjD,EAKhB,OAHAE,OAAiBY,IAAV6C,GAAuB/C,MAAM8B,QAAQiB,GAAQ,uDACpDzD,EAAO+C,QAAmC,gDAEnChD,EAAY0D,MAAMZ,QAAO,CAACC,EAA0BsI,KACzDtI,EAAIsI,EAAQrI,IAAQqI,EACbtI,IACN,GAAG,EAGFuI,EAA4C,CAChDlK,KAAM,qBACNC,MAAO8J,EACP7J,KAAM6J,EACN5J,OAAQ,CACNC,KAAM,SACNC,WAAY,CACViC,MAAO,CACLlC,KAAM,QACNE,YAAa,kCAGjBC,SAAU,CAAC,UAEbC,OAAQ,CACNJ,KAAM,SACNC,WAAY,CACVgC,MAAO,CAAC,CAAEjC,KAAM,UAAY,CAAEA,KAAM,WAAa,CAAEA,KAAM,UAAY,CAAEA,KAAM,UAC7EE,YAAa,mCAGjBG,QAAS,CACP,CACEN,OAAQ,CACNmC,MAAO,CACL,CAAE6H,GAAI,EAAGlH,KAAM,KACf,CAAEkH,GAAI,EAAGlH,KAAM,OAGnBtE,OAAQ,CAAEiD,IAAK,MACflB,OAAQ,CACN,EAAK,CAAEyJ,GAAI,EAAGlH,KAAM,KACpB,EAAK,CAAEkH,GAAI,EAAGlH,KAAM,QAI1B3C,YAAa,wBACbK,SAAU,CAAC,SACXoC,UAAW,YACXnC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,2GACRgC,QAAS,mBACTC,QAAS,OCpDEqJ,EAA+H1L,OAC1IE,kBAEAC,IAASD,EAAa,8CACtB,MAAMyL,EAASzL,EAAYyL,OACrBC,EAAS1L,EAAY0L,OAC3B,GAAID,EAAO,GAAGhL,QAAUiL,EAAOjL,OAC7B,MAAM,IAAI6H,MAAM,+CAA+CmD,EAAO,GAAGhL,WAAWiL,EAAOjL,UAO7F,OALiBgL,EAAO3K,KAAK6K,GACpBA,EAAQ7I,QAAO,CAAC8I,EAAoBxE,EAAO1B,IACzCkG,EAAaxE,EAAQsE,EAAOhG,IAClC,IAEU,EAGXmG,EAAyC,CAC7CzK,KAAM,kBACNC,MAAOmK,EACPlK,KAAMkK,EACNjK,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVgK,OAAQ,CACNjK,KAAM,QACNE,YAAa,2FACbgC,MAAO,CACLlC,KAAM,QACNkC,MAAO,CACLlC,KAAM,SACNE,YAAa,oCAEfA,YAAa,6CAGjBgK,OAAQ,CACNlK,KAAM,QACNE,YAAa,qFACbgC,MAAO,CACLlC,KAAM,SACNE,YAAa,+CAInBC,SAAU,CAAC,SAAU,UACrB6B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNE,YAAa,wCACbD,WAAY,CAAA,EACZ+B,sBAAsB,GAExB5B,OAAQ,CACNJ,KAAM,QACNE,YAAa,4GACbgC,MAAO,CACLlC,KAAM,SACNE,YAAa,2EAGjBG,QAAS,CACP,CACEN,OAAQ,CACNkK,OAAQ,CACN,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,IAENC,OAAQ,CAAC,EAAG,IAEd3L,OAAQ,CAAA,EACR+B,OAAQ,CAAC,EAAG,GAAI,KAElB,CACEP,OAAQ,CACNkK,OAAQ,CACN,CAAC,EAAG,GACJ,CAAC,EAAG,IAENC,OAAQ,CAAC,EAAG,IAEd3L,OAAQ,CAAA,EACR+B,OAAQ,CAAC,EAAG,KAGhBJ,YAAa,mBACbK,SAAU,CAAC,UACXC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,8GACRgC,QAAS,mBACTC,QAAS,OC3FE2J,EASThM,OAASC,SAAQC,kBACnBC,IAASD,EAAa,0CACtBC,IAASD,EAAYkK,MAAO,gDAC5BjK,IAASD,EAAY+L,OAAQ,iDAE7B,MAAMC,EAAajM,GAAQkM,WAAsB,EAAK,EAChD/B,EAAoBlK,EAAYkK,MAChC6B,EAAqB/L,EAAY+L,OAWvC,OAVe7B,EAAMpJ,KAAI,CAAC4B,EAAMgD,KACvB,CAAEhD,OAAM0E,MAAO2E,EAAOrG,OAG5BwG,MAAK,CAACC,EAAGC,KACAA,EAAEhF,MAAQ+E,EAAE/E,OAAS4E,IAE9BlL,KAAKqL,GACGA,EAAEzJ,MAEE,EAGX2J,EAA2C,CAC/CjL,KAAM,oBACNC,MAAOyK,EACPxK,KAAMwK,EAENvK,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVyI,MAAO,CACL1I,KAAM,QACNE,YAAa,yHAEfqK,OAAQ,CACNvK,KAAM,QACNE,YAAa,wHACbgC,MAAO,CACLlC,KAAM,YAIZG,SAAU,CAAC,QAAS,UACpB6B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNC,WAAY,CACVwK,UAAW,CACTzK,KAAM,UACNE,YAAa,iFAGjB8B,sBAAsB,GAExB5B,OAAQ,CACNJ,KAAM,QACNE,YAAa,mGACbgC,MAAO,CACLlC,KAAM,QAGVK,QAAS,CACP,CACEN,OAAQ,CACN2I,MAAO,CAAC,SAAU,SAAU,QAAS,SACrC6B,OAAQ,CAAC,EAAG,EAAG,EAAG,IAEpBhM,OAAQ,CAAA,EACR+B,OAAQ,CAAC,QAAS,SAAU,QAAS,WAEvC,CACEP,OAAQ,CACN2I,MAAO,CAAC,SAAU,SAAU,QAAS,SACrC6B,OAAQ,CAAC,EAAG,EAAG,EAAG,IAEpBhM,OAAQ,CACNkM,WAAW,GAEbnK,OAAQ,CAAC,SAAU,QAAS,SAAU,WAG1CJ,YAAa,qBACbK,SAAU,CAAC,UACXC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,iHACRgC,QAAS,mBACTC,QAAS,OCzGEmK,EAA2BxM,OAASC,SAAQwM,kBACnDxM,EAAOwM,aACFA,EAEFxM,EAIHyM,EAAmC,CACvCpL,KAAM,YACNC,MAAOiL,EACPhL,KAAMgL,EACN/K,OAAQ,CACNC,KAAM,SACNE,YAAa,+CACbD,WAAY,CAAA,EACZ+B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNE,YAAa,8GACbD,WAAY,CACV8K,aAAc,CACZ/K,KAAM,UACNE,YAAa,kEAGjB8B,sBAAsB,GAExB5B,OAAQ,CACNJ,KAAM,SACNE,YAAa,kGACb8B,sBAAsB,GAGxB3B,QAAS,CACP,CACEN,OAAQ,CAAA,EACRxB,OAAQ,CAAEI,KAAM,gBAChB2B,OAAQ,CAAE3B,KAAM,iBAElB,CACEoB,OAAQ,CAAA,EACRxB,OAAQ,CACNI,KAAM,kEACNoM,cAAc,GAEhBzK,OAAQ,CAAA,IAGZJ,YAAa,aACbK,SAAU,CAAC,QACXoC,UAAW,YACXnC,OAAQ,mBACRC,WAAY,uCACZ/B,OAAQ,qGACRgC,QAAS,mBACTC,QAAS,OCzDEsK,EAAsE3M,OAASC,aACnF,CACL2M,KAAM,IAAI/L,MAAMZ,EAAOS,OAAOI,UAAKC,GAAWC,KAAI,CAACC,EAAGC,IAC7CA,MAMP2L,EAAuC,CAC3CvL,KAAM,gBACNC,MAAOoL,EACPnL,KAAMmL,EACNlL,OAAQ,CACNC,KAAM,SACNE,YAAa,uDACbD,WAAY,CAAA,EACZ+B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNE,YAAa,wEACbD,WAAY,CACVjB,MAAO,CACLgB,KAAM,UACNoL,QAAS,EACTlL,YAAa,yEAGjBC,SAAU,CAAC,SACX6B,sBAAsB,GAExB5B,OAAQ,CACNJ,KAAM,SACNE,YAAa,sDACbD,WAAY,CACViL,KAAM,CACJlL,KAAM,QACNE,YAAa,4CACbgC,MAAO,CACLlC,KAAM,aAIZG,SAAU,CAAC,QACX6B,sBAAsB,GAExB3B,QAAS,CACP,CACEN,OAAQ,CAAA,EACRxB,OAAQ,CAAES,MAAO,GACjBsB,OAAQ,CAAE4K,KAAM,CAAC,EAAG,EAAG,EAAG,MAG9BhL,YAAa,iBACbK,SAAU,CAAC,QACXoC,UAAW,YACXnC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,yGACRgC,QAAS,mBACTC,QAAS,OC7DE0K,EAA8F/M,OAASC,aAC3G,CACL+I,SAAU,IAAInI,MAAMZ,EAAOS,OAAOI,UAAKC,GAAWC,KAAI,IAC7Cf,EAAOyI,YAMdsE,EAA0C,CAC9C1L,KAAM,mBACNC,MAAOwL,EACPvL,KAAMuL,EACNtL,OAAQ,CACNC,KAAM,SACNE,YAAa,mDACbD,WAAY,CAAA,EACZ+B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNE,YAAa,oEACbD,WAAY,CACVjB,MAAO,CACLgB,KAAM,UACNoL,QAAS,EACTlL,YAAa,sEAEf8G,QAAS,CACPhH,KAAM,SACNE,YAAa,uCAGjBC,SAAU,CAAC,QAAS,WACpB6B,sBAAsB,GAExB5B,OAAQ,CACNJ,KAAM,SACNE,YAAa,8CACbD,WAAY,CACVqH,SAAU,CACRtH,KAAM,QACNE,YAAa,wCACbgC,MAAO,CACLlC,KAAM,YAIZG,SAAU,CAAC,YACX6B,sBAAsB,GAExB3B,QAAS,CACP,CACEN,OAAQ,CAAA,EACRxB,OAAQ,CAAES,MAAO,EAAGgI,QAAS,SAC7B1G,OAAQ,CAAEgH,SAAU,CAAC,QAAS,QAAS,QAAS,YAGpDpH,YAAa,oBACbK,SAAU,CAAC,QACXoC,UAAW,YACXnC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,6GACRgC,QAAS,mBACTC,QAAS,OChEE4K,EAAoDjN,OAASE,cAAaD,aACrFE,EAAOmL,EAAcpL,GAAc,8CACnC,MAAMuC,EAAQvC,EAAY0C,KAAO1C,EAAY0C,KAAO1C,EACpD,OAAO,IAAIW,MAAMZ,EAAOS,OAAOI,UAAKC,GAAWC,KAAI,IAC1CyB,GACP,EAIEyK,EAAyC,CAC7C5L,KAAM,kBACNC,MAAO0L,EACPzL,KAAMyL,EACNxL,OAAQ,CACNC,KAAM,SACNE,YAAa,uFACbD,WAAY,CACViB,KAAM,CACJhB,YAAa,kEACb+B,MAAO,CAAC,CAAEjC,KAAM,UAAY,CAAEA,KAAM,UAAY,CAAEA,KAAM,UAAY,CAAEA,KAAM,SAAW,CAAEA,KAAM,cAGnGgC,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNE,YAAa,yDACbD,WAAY,CACVjB,MAAO,CACLgB,KAAM,UACNE,YAAa,oEACbkL,QAAS,IAGbjL,SAAU,CAAC,SACX6B,sBAAsB,GAExB5B,OAAQ,CACNJ,KAAM,QACNE,YAAa,gDACbgC,MAAO,CACLhC,YAAa,uCACb+B,MAAO,CAAC,CAAEjC,KAAM,UAAY,CAAEA,KAAM,UAAY,CAAEA,KAAM,UAAY,CAAEA,KAAM,SAAW,CAAEA,KAAM,cAGnGK,QAAS,CACP,CACEN,OAAQ,CAAEmB,KAAM,CAAE8F,QAAS,UAC3BzI,OAAQ,CAAES,MAAO,IACjBsB,OAAQ,CACN,CAAE0G,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,WAGf,CACEjH,OAAQ,CAAEiH,QAAS,SACnBzI,OAAQ,CAAES,MAAO,IACjBsB,OAAQ,CACN,CAAE0G,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,SACX,CAAEA,QAAS,WAGf,CACEjH,OAAQ,CAAEmB,KAAM,SAChB3C,OAAQ,CAAES,MAAO,IACjBsB,OAAQ,CAAC,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,WAG9FJ,YAAa,mBACbK,SAAU,CAAC,QACXoC,UAAW,YACXnC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,2GACRgC,QAAS,mBACTC,QAAS,OC1FE8K,EAAwGnN,OACnHwG,WAAaoB,UACb1H,kBAEAiK,EAAc,mBAAoBjK,GAIlC,OAFgBA,EAAYkK,MAEbpH,QACb,CAACC,EAAKR,KACG,IAAKQ,KAAQR,KAEtB,CAAEmF,CAACA,GAAS,SACb,EAIGwF,GAA0C,CAC9C9L,KAAM,mBACNC,MAAO4L,EACP3L,KAAM2L,EACN1L,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVyI,MAAO,CACL1I,KAAM,QACNE,YAAa,oHACbgC,MAAO,CACLlC,KAAM,SACNE,YAAa,0DAInBC,SAAU,CAAC,SACX6B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNE,YAAa,qEACbD,WAAY,CAAA,EACZ+B,sBAAsB,GAExB3B,QAAS,CACP,CACEN,OAAQ,CAAE2I,MAAO,CAAC,CAAE1B,QAAS,WAC7BzI,OAAQ,CAAA,EACR+B,OAAQ,CACN0G,QAAS,QACTG,KAAM,WAIZjH,YAAa,sBACbK,SAAU,CAAC,QACXC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,8GACRgC,QAAS,mBACTC,QAAS,OC5DEgL,GAAiHrN,OAC5HC,SACAwM,eACAvM,kBAEA,MAAMwI,EAAUzI,EAAOyI,SAAWxI,EAAYwI,SAAW,GAEzD,UAAW,MAAM4E,KAAS5E,EAAQnD,MAAM,IAClCkH,EAAac,qBACfd,EAAac,oBAAoBD,SAE7BE,EAAMvN,EAAOuN,OAAS,KAG9B,MAAO,CAAE9E,UAAS,EAId+E,GAAyC,CAC7CnM,KAAM,kBACNC,MAAO8L,GACP7L,KAAM6L,GACN5L,OAAQ,CACNkC,MAAO,CACL,CACEjC,KAAM,SACNC,WAAY,CACV+G,QAAS,CACPhH,KAAM,SACNE,YAAa,uBAInB,CACEF,KAAM,WAIZK,QAAS,CACP,CACEN,OAAQ,CAAA,EACRxB,OAAQ,CAAEyI,QAAS,uBACnB1G,OAAQ,CAAE0G,QAAS,wBAErB,CACEjH,OAAQ,CAAEiH,QAAS,6BACnBzI,OAAQ,CAAA,EACR+B,OAAQ,CAAE0G,QAAS,+BAGvB9G,YAAa,oBACbK,SAAU,CAAC,QACXC,OAAQ,gBACRC,WAAY,uCACZ/B,OAAQ,4GACRgC,QAAS,mBACTC,QAAS,MACTqL,QAAQ,GCxDGC,GAYT3N,OAASC,SAAQC,cAAaqG,MAAKC,YAAWC,qBAChDtG,IAASsG,EAAgB,6CAEzB,MAAMmH,MAAEA,EAAKC,UAAEA,EAASC,gBAAEA,EAAeC,mBAAEA,EAAkBhH,aAAEA,EAAYiH,OAAEA,EAAMC,WAAEA,GAAehO,GAC9FyG,OAAEA,EAAMN,UAAEA,EAASO,aAAEA,EAAYC,cAAEA,EAAaC,UAAEA,GAAcJ,GAChEK,YAAEA,GAAgBH,EAExB,GAAIG,EAAa,CACf,MAAME,EAASF,EAAYG,YAC3B9G,EAAO6G,EAAOE,YAAcF,EAAOG,QAAS,qCAAqCH,EAAOE,eAG1F/G,IAASD,EAAYgO,KAAM,qDAC3B/N,IAASiG,EAAW,+BAEpB,MAAM8H,EAAOhO,EAAYgO,KAAKlN,KAAK4B,GAAcA,IAC7CgL,GAASA,EAAQM,EAAKvN,SACxBuN,EAAKvN,OAASiN,GAEhB,MAAMO,EAAcH,GAAU,OACxB/J,MAAEA,GAAUmC,EACZoB,EAAkB,IAAKpB,EAAWnC,MAAO,IAAKA,GAASD,QAASyD,GAEhEC,EAAU5E,OAAOC,KAAK7C,GAC5BsH,EAAgBvD,MAAkB,WAAI,CAAA,EACtCyD,EAAQC,SAASC,IACf,MAAMwG,EAA0B,SAAXxG,EAAoBuG,EAAcvG,OACX7G,IAAxCyG,EAAgBvD,MAAMmK,GAExB5G,EAAgBvD,MAAMmK,GAAgB,CAAE9G,MAAOpH,EAAY0H,IAChD,UAAWJ,EAAgBvD,MAAMmK,KAE5C5G,EAAgBvD,MAAMmK,GAAqB,MAAIlO,EAAY0H,OAI/D,SACkC7G,IAA5ByG,EAAgBxD,SAAyBwC,EAAUxC,UACrDwD,EAAgBxD,QAAUwC,EAAUxC,SAEtC,MAAMqK,EAAyBH,EAAKlN,KAAI,CAAC+C,EAAU6B,KACjD,MAAMiC,EAAU,IAAIC,EAAQN,EAAiBd,GAAU,CAAA,EAAIC,GAgB3D,OAfAH,EAAUuB,UAAUC,IAAIH,EAAQI,QAASJ,GACzCA,EAAQyG,YAAYH,EAAapK,EAAK,uBACtC8D,EAAQyG,YAAY,aAAc1I,EAAO,uBACrCqI,GAAcA,EAAWtN,OAAS,GACpCsN,EAAWjN,KAAKuN,IACd1G,EAAQyG,YAAYC,EAAWrO,EAAYqO,KAAa3I,GAAO,IAI/DgB,IACFiB,EAAQjB,cAAgBA,GAEtBC,IACFgB,EAAQhB,UAAYA,GAEfgB,CAAO,IAGV2G,EAAOH,EAAOrN,KAAK8H,GAChBA,EAAMX,IAAI0F,KAEb3F,QAAgBuG,QAAQC,IAAIF,GAC5B9G,EAAU5E,OAAOC,KAAKmF,EAAQ,IAMpC,GAJAmG,EAAOrN,KAAK8H,IACVtC,EAAUuB,UAAUK,OAAOU,EAAMb,QAAQ,IAGvC1B,EAAK,CACP,MAAMoI,EAAON,EAAOrN,KAAI,CAAC8H,EAAOlD,IACvBkD,EAAMT,kBAAkBrH,KAAKuF,IAClCA,EAAIqI,SAAWhJ,EACRW,OAGXA,EAAIf,QAAQmJ,EAAK3D,QAGnB,GAAI8C,GAAmBC,EAAoB,CACzC,MAAMc,EAAmBnH,EAAQ1E,QAAO,CAACC,EAAiC2E,KACxE3E,EAAI2E,GAAUM,EAAQlH,KAAKgB,GAClBA,EAAO4F,KAET3E,IACN,IACH,OAAI8K,EACKc,EAAiBd,GAEnBc,EAET,OAAO3G,EACP,MAAOK,GACP,GAAIA,aAAiBC,OAASzB,EAC5B,MAAO,CACL0B,QAAS,CACPC,QAASH,EAAMG,QACfH,UAIN,MAAMA,IAIJuG,GAAkC,CACtCxN,KAAM,WACNC,MAAOoM,GACPnM,KAAMmM,GACN5L,QAAS,CACP,CACEN,OAAQ,CACNyM,KAAM,CAAC,QAAS,SAAU,SAAU,SACpCa,MAAO,CAAC,MAAO,SAAU,SAAU,WAErC9O,OAAQ,CACN6N,iBAAiB,EACjBG,WAAY,CAAC,UAEfnF,MAAO,CACL9E,QAAS,GACTC,MAAO,CACL+K,MAAO,CACLzN,MAAO,YACPE,OAAQ,CAAE4K,EAAG,OAAQC,EAAG,UACxBnI,UAAU,KAIhBnC,OAAQ,CACNgN,MAAO,CACL,CACE3C,EAAG,QACHC,EAAG,OAEL,CACED,EAAG,SACHC,EAAG,UAEL,CACED,EAAG,SACHC,EAAG,UAEL,CACED,EAAG,QACHC,EAAG,aAKX,CACE7K,OAAQ,CACNyM,KAAM,CAAC,EAAG,IAEZjO,OAAQ,CAAA,EACR+B,OAAQ,CAAC,CAAE6G,KAAM,CAAC,IAAM,CAAEA,KAAM,CAAC,KACjCC,MAAO,CACL7E,MAAO,CACL4E,KAAM,CACJtH,MAAO,YACPtB,OAAQ,CAAE8I,SAAU,QACpBtH,OAAQ,CAAEyM,KAAM,CAAC,SACjB/J,UAAU,MAKlB,CACE1C,OAAQ,CACNyM,KAAM,CAAC,EAAG,IAEZjO,OAAQ,CAAE+N,OAAQ,SAClBhM,OAAQ,CAAC,CAAE6G,KAAM,CAAC,IAAM,CAAEA,KAAM,CAAC,KACjCC,MAAO,CACL7E,MAAO,CACL4E,KAAM,CACJtH,MAAO,YACPtB,OAAQ,CAAE8I,SAAU,QACpBtH,OAAQ,CAAEyM,KAAM,CAAC,WACjB/J,UAAU,MAKlB,CACE1C,OAAQ,CACNyM,KAAM,CAAC,QAAS,SAAU,SAAU,QAAS,QAAS,YAAa,WAErEjO,OAAQ,CAAA,EACR6I,MAAO,CACL7E,MAAO,CACL+K,MAAO,CACLzN,MAAO,sBACPtB,OAAQ,CACNsC,SAAU,mBAEZd,OAAQ,CAAEkE,KAAM,QAChBxB,UAAU,KAIhBnC,OAAQ,CACN,CAAEgN,MAAO,iBACT,CAAEA,MAAO,kBACT,CAAEA,MAAO,kBACT,CAAEA,MAAO,iBACT,CAAEA,MAAO,iBACT,CAAEA,MAAO,qBACT,CAAEA,MAAO,oBAGb,CACEvN,OAAQ,CACNyM,KAAM,CAAC,CAAEe,MAAO,SAAW,CAAEA,MAAO,YAEtChP,OAAQ,CAAA,EACR6I,MAAO,CACL7E,MAAO,CACL+K,MAAO,CACLzN,MAAO,sBACPtB,OAAQ,CACNsC,SAAU,mBAEZd,OAAQ,CAAEmB,KAAM,cAChBuB,UAAU,KAIhBnC,OAAQ,CAAC,CAAEgN,MAAO,iBAAmB,CAAEA,MAAO,oBAEhD,CACEvN,OAAQ,CACNyM,KAAM,CAAC,CAAEe,MAAO,SAAW,CAAEA,MAAO,WACpC3N,KAAM,MACN4N,KAAM,QAERjP,OAAQ,CAAA,EACR6I,MAAO,CACL7E,MAAO,CACL+K,MAAO,CACLzN,MAAO,sBACPtB,OAAQ,CACNsC,SAAU,6BAEZd,OAAQ,CAAEwN,MAAO,aAAc3N,KAAM,QAAS4N,KAAM,SACpD/K,UAAU,KAIhBnC,OAAQ,CAAC,CAAEgN,MAAO,mBAAqB,CAAEA,MAAO,sBAElD,CACEvN,OAAQ,CACNyM,KAAM,CAAC,EAAG,IAEZjO,OAAQ,CACN4N,WAAW,GAEb7L,OAAQ,CACN,CACEmN,WAAY,EACZtG,KAAM,CAAC,GACP9E,IAAK,GAEP,CACEoL,WAAY,EACZtG,KAAM,CAAC,GACP9E,IAAK,IAGT+E,MAAO,CACL7E,MAAO,CACL4E,KAAM,CACJtH,MAAO,YACPtB,OAAQ,CAAE8I,SAAU,QACpBtH,OAAQ,CAAEyM,KAAM,CAAC,aAKzB,CACEzM,OAAQ,CACNyM,KAAM,CAAC,EAAG,IAEZjO,OAAQ,CACN4N,WAAW,GAEb7L,OAAQ,CACN,CACEmN,WAAY,EACZnO,IAAK,CACH,CACE6H,KAAM,GAER,CACEA,KAAM,IAGV9E,IAAK,EACL8E,KAAM,GAER,CACEsG,WAAY,EACZnO,IAAK,CACH,CACE6H,KAAM,GAER,CACEA,KAAM,IAGVA,KAAM,EACN9E,IAAK,IAGT+E,MAAO,CACL7E,MAAO,CACL4E,KAAM,CACJtH,MAAO,YACPtB,OAAQ,CAAE8I,SAAU,OACpBtH,OAAQ,CAAEsC,IAAK,SAEjB/C,IAAK,CACHO,MAAO,WACPE,OAAQ,CAAEyM,KAAM,CAAC,QAAS,UAC1BpF,MAAO,CACL7E,MAAO,CACL4E,KAAM,CACJ1E,UAAU,EACV5C,MAAO,YACPtB,OAAQ,CAAE8I,SAAU,OACpBtH,OAAQ,CAAEsC,IAAK,eAU7B,CACEtC,OAAQ,CACNyM,KAAM,CAAC,EAAG,IAEZjO,OAAQ,CACN6N,iBAAiB,GAEnB9L,OAAQ,CACN6G,KAAM,CAAC,CAAC,GAAI,CAAC,KAEfC,MAAO,CACL7E,MAAO,CACL4E,KAAM,CACJtH,MAAO,YACPtB,OAAQ,CAAE8I,SAAU,QACpBtH,OAAQ,CAAEyM,KAAM,CAAC,SACjB/J,UAAU,MAKlB,CACE1C,OAAQ,CACNyM,KAAM,CAAC,QAAS,SAAU,SAAU,QAAS,QAAS,YAAa,WAErEjO,OAAQ,CACN6N,iBAAiB,GAEnBhF,MAAO,CACL7E,MAAO,CACL+K,MAAO,CACLzN,MAAO,sBACPtB,OAAQ,CACNsC,SAAU,kBAEZd,OAAQ,CAAEsC,IAAK,QACfI,UAAU,KAIhBnC,OAAQ,CACNgN,MAAO,CAAC,gBAAiB,iBAAkB,iBAAkB,gBAAiB,gBAAiB,oBAAqB,oBAGxH,CACEvN,OAAQ,CACNyM,KAAM,CAAC,QAAS,SAAU,SAAU,QAAS,QAAS,YAAa,WAErEjO,OAAQ,CACN6N,iBAAiB,EACjBC,mBAAoB,SAEtBjF,MAAO,CACL7E,MAAO,CACL+K,MAAO,CACLzN,MAAO,sBACPtB,OAAQ,CACNsC,SAAU,kBAEZd,OAAQ,CAAEsC,IAAK,QACfI,UAAU,KAIhBnC,OAAQ,CAAC,gBAAiB,iBAAkB,iBAAkB,gBAAiB,gBAAiB,oBAAqB,mBAEvH,CACEP,OAAQ,CACNyM,KAAM,CAAC,EAAG,IAEZjO,OAAQ,CACN4N,WAAW,EACXC,iBAAiB,GAEnB9L,OAAQ,CACN6G,KAAM,CAAC,CAAC,GAAI,CAAC,IACbsG,WAAY,CAAC,EAAG,GAChBpL,IAAK,CAAC,EAAG,IAEX+E,MAAO,CACL7E,MAAO,CACL4E,KAAM,CACJtH,MAAO,YACPtB,OAAQ,CAAE8I,SAAU,QACpBtH,OAAQ,CAAEyM,KAAM,CAAC,aAKzB,CACEzM,OAAQ,CACNyM,KAAM,CAAC,EAAG,IAEZjO,OAAQ,CACN4N,WAAW,EACXC,iBAAiB,GAEnB9L,OAAQ,CACNmN,WAAY,CAAC,EAAG,GAChBtG,KAAM,CAAC,CAAC,GAAI,CAAC,IACb7H,IAAK,CACH,CACE6H,KAAM,CAAC,CAAC,CAAC,IAAK,CAAC,CAAC,MAElB,CACEA,KAAM,CAAC,CAAC,CAAC,IAAK,CAAC,CAAC,OAGpB9E,IAAK,CAAC,EAAG,IAEX+E,MAAO,CACL7E,MAAO,CACL4E,KAAM,CACJtH,MAAO,YACPtB,OAAQ,CAAE8I,SAAU,QACpBtH,OAAQ,CAAEyM,KAAM,CAAC,UAEnBlN,IAAK,CACHO,MAAO,WACPE,OAAQ,CAAEyM,KAAM,CAAC,QAAS,UAC1BjO,OAAQ,CACN6N,iBAAiB,GAEnBhF,MAAO,CACL7E,MAAO,CACL4E,KAAM,CACJ1E,UAAU,EACV5C,MAAO,YACPtB,OAAQ,CAAE8I,SAAU,QACpBtH,OAAQ,CAAEyM,KAAM,CAAC,iBASjCtM,YAAa,YACbK,SAAU,CAAC,SACXC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,qGACRgC,QAAS,mBACTC,QAAS,OC/eE+M,GAA0IpP,OACrJE,cACAD,aAEA,MAAMoP,aAAEA,GAAiBpP,EAEzBE,EAAOmL,EAAcpL,GAAc,6EACnCC,IAASD,GAAakK,MAAO,mFAE7B,MAAMkF,EAAWpP,EAAYkK,MAAMpH,QAAO,CAAChB,EAAQS,MAC9B5B,MAAM8B,QAAQF,GAASA,EAAQ,CAACA,IACxCkF,SAAS4H,IAClBzM,OAAOC,KAAKwM,GAAY5H,SAASzE,IAC/B,MAAMoE,EAAQiI,EAAWrM,GACrBlB,EAAOkB,GACTlB,EAAOkB,IAAQoE,EAEftF,EAAOkB,GAAOoE,IAEhB,IAEGtF,IACN,IACH,OAAIqN,EACKC,EAEF,CAAE/K,KAAM+K,EAAU,EAIrBE,GAAoC,CACxClO,KAAM,aACNC,MAAO6N,GACP5N,KAAM4N,GACN3N,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVyI,MAAO,CACL1I,KAAM,QACNE,YAAa,wHACbgC,MAAO,CACLD,MAAO,CACL,CACEjC,KAAM,SACNE,YAAa,yDAEf,CACEF,KAAM,QACNkC,MAAO,CACLlC,KAAM,SACNE,YAAa,8EAOzBC,SAAU,CAAC,SACX6B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNC,WAAY,CACV0N,aAAc,CACZ3N,KAAM,UACNE,YAAa,oHAGjB8B,sBAAsB,GAExB5B,OAAQ,CACNJ,KAAM,UAERK,QAAS,CACP,CACEN,OAAQ,CAAE2I,MAAO,CAAC,CAAEiC,EAAG,GAAK,CAAEA,EAAG,GAAK,CAAEA,EAAG,KAC3CpM,OAAQ,CAAA,EACR+B,OAAQ,CAAEuC,KAAM,CAAE8H,EAAG,KAEvB,CACE5K,OAAQ,CAAE2I,MAAO,CAAC,CAAC,CAAEiC,EAAG,EAAGC,GAAG,GAAM,CAAEmD,EAAG,KAAO,CAAC,CAAEpD,EAAG,EAAGC,GAAG,IAAO,CAAC,CAAED,EAAG,EAAGC,GAAG,GAAM,CAAEoD,GAAG,OAC1FzP,OAAQ,CAAA,EACR+B,OAAQ,CAAEuC,KAAM,CAAE8H,EAAG,EAAGC,GAAG,EAAImD,EAAG,GAAIC,GAAG,MAE3C,CACEjO,OAAQ,CAAE2I,MAAO,CAAC,CAAEiC,EAAG,KACvBpM,OAAQ,CAAA,EACR+B,OAAQ,CAAEuC,KAAM,CAAE8H,EAAG,KAEvB,CACE5K,OAAQ,CAAE2I,MAAO,CAAC,CAAEiC,EAAG,GAAK,CAAEA,EAAG,KACjCpM,OAAQ,CAAA,EACR+B,OAAQ,CAAEuC,KAAM,CAAE8H,EAAG,KAEvB,CACE5K,OAAQ,CAAE2I,MAAO,CAAC,CAAEiC,EAAG,GAAK,CAAEA,EAAG,GAAK,CAAEA,EAAG,KAC3CpM,OAAQ,CAAA,EACR+B,OAAQ,CAAEuC,KAAM,CAAE8H,EAAG,KAEvB,CACE5K,OAAQ,CACN2I,MAAO,CACL,CAAEiC,EAAG,EAAGC,EAAG,GACX,CAAED,EAAG,EAAGC,EAAG,GACX,CAAED,EAAG,EAAGC,EAAG,KAGfrM,OAAQ,CAAA,EACR+B,OAAQ,CAAEuC,KAAM,CAAE8H,EAAG,EAAGC,EAAG,KAE7B,CACE7K,OAAQ,CAAE2I,MAAO,CAAC,CAAEiC,EAAG,GAAK,CAAEA,EAAG,EAAGC,EAAG,GAAK,CAAED,EAAG,EAAGC,EAAG,KACvDrM,OAAQ,CAAA,EACR+B,OAAQ,CAAEuC,KAAM,CAAE8H,EAAG,EAAGC,EAAG,KAG7B,CACE7K,OAAQ,CAAE2I,MAAO,CAAC,CAAEiC,EAAG,GAAK,CAAEA,EAAG,GAAK,CAAEA,EAAG,KAC3CpM,OAAQ,CAAEoP,cAAc,GACxBrN,OAAQ,CAAEqK,EAAG,IAEf,CACE5K,OAAQ,CAAE2I,MAAO,CAAC,CAAC,CAAEiC,EAAG,EAAGC,GAAG,GAAM,CAAEmD,EAAG,KAAO,CAAC,CAAEpD,EAAG,EAAGC,GAAG,IAAO,CAAC,CAAED,EAAG,EAAGC,GAAG,GAAM,CAAEoD,GAAG,OAC1FzP,OAAQ,CAAEoP,cAAc,GACxBrN,OAAQ,CAAEqK,EAAG,EAAGC,GAAG,EAAImD,EAAG,GAAIC,QAEhC,CACEjO,OAAQ,CAAE2I,MAAO,CAAC,CAAEiC,EAAG,KACvBpM,OAAQ,CAAEoP,cAAc,GACxBrN,OAAQ,CAAEqK,EAAG,IAEf,CACE5K,OAAQ,CAAE2I,MAAO,CAAC,CAAEiC,EAAG,GAAK,CAAEA,EAAG,KACjCpM,OAAQ,CAAEoP,cAAc,GACxBrN,OAAQ,CAAEqK,EAAG,IAEf,CACE5K,OAAQ,CAAE2I,MAAO,CAAC,CAAEiC,EAAG,GAAK,CAAEA,EAAG,GAAK,CAAEA,EAAG,KAC3CpM,OAAQ,CAAEoP,cAAc,GACxBrN,OAAQ,CAAEqK,EAAG,IAEf,CACE5K,OAAQ,CACN2I,MAAO,CACL,CAAEiC,EAAG,EAAGC,EAAG,GACX,CAAED,EAAG,EAAGC,EAAG,GACX,CAAED,EAAG,EAAGC,EAAG,KAGfrM,OAAQ,CAAEoP,cAAc,GACxBrN,OAAQ,CAAEqK,EAAG,EAAGC,EAAG,IAErB,CACE7K,OAAQ,CAAE2I,MAAO,CAAC,CAAEiC,EAAG,GAAK,CAAEA,EAAG,EAAGC,EAAG,GAAK,CAAED,EAAG,EAAGC,EAAG,KACvDrM,OAAQ,CAAEoP,cAAc,GACxBrN,OAAQ,CAAEqK,EAAG,EAAGC,EAAG,KAGvB1K,YAAa,kCACbK,SAAU,CAAC,QACXC,OAAQ,mBACRC,WAAY,uCACZ/B,OAAQ,sGACRgC,QAAS,mBACTC,QAAS,OCtKEsN,GAA0H3P,OACrIE,cACAD,aAEA,MAAMoP,aAAEA,GAAiBpP,EAEzBE,EAAOmL,EAAcpL,GAAc,uFACnCC,IAASD,GAAakK,MAAO,6FAE7B,MAAMwF,EAAM1P,EAAYkK,MAAMpH,QAAO,CAACC,EAAKR,IAClCQ,EAAMR,GACZ,GACH,OAAI4M,EACKO,EAEF,CAAE5N,OAAQ4N,EAAK,EAGlBC,GAA8C,CAClDvO,KAAM,uBACNC,MAAOoO,GACPnO,KAAMmO,GACNlO,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVyI,MAAO,CACL1I,KAAM,QACNE,YAAa,+CACbgC,MAAO,CACLlC,KAAM,aAIZG,SAAU,CAAC,UAEbC,OAAQ,CACNJ,KAAM,UAERK,QAAS,CACP,CACEN,OAAQ,CAAE2I,MAAO,CAAC,IAClBnK,OAAQ,CAAA,EACR+B,OAAQ,CAAEA,OAAQ,IAEpB,CACEP,OAAQ,CAAE2I,MAAO,CAAC,EAAG,IACrBnK,OAAQ,CAAA,EACR+B,OAAQ,CAAEA,OAAQ,IAEpB,CACEP,OAAQ,CAAE2I,MAAO,CAAC,EAAG,EAAG,IACxBnK,OAAQ,CAAA,EACR+B,OAAQ,CAAEA,OAAQ,IAGpB,CACEP,OAAQ,CAAE2I,MAAO,CAAC,IAClBnK,OAAQ,CAAEoP,cAAc,GACxBrN,OAAQ,GAEV,CACEP,OAAQ,CAAE2I,MAAO,CAAC,EAAG,IACrBnK,OAAQ,CAAEoP,cAAc,GACxBrN,OAAQ,GAEV,CACEP,OAAQ,CAAE2I,MAAO,CAAC,EAAG,EAAG,IACxBnK,OAAQ,CAAEoP,cAAc,GACxBrN,OAAQ,IAGZJ,YAAa,kCACbK,SAAU,CAAC,QACXC,OAAQ,mBACRC,WAAY,uCACZ/B,OAAQ,kHACRgC,QAAS,mBACTC,QAAS,OC9ELyN,GAAc,CAClBC,EACAnK,EACAoK,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,KAEA,MAAMC,EAAUN,GAAoBnN,OAAOC,KAAKgN,GAC1CS,EAAa,IAAIC,IAAIP,GAAW,IAChClO,EAASuO,EAAQvN,QAAO,CAACC,EAA0ByN,KACvD,IAAKF,EAAWG,IAAID,GAAS,CAC3B,MAAME,EAAUT,GAASA,EAAMO,GAC3BE,GAAWA,EAAQb,EAAOW,IAC5BzN,EAAIyN,GAAUE,EAAQb,EAAOW,IAE7BzN,EAAIyN,GAAUX,EAAOW,GAGzB,OAAOzN,CAAG,GACT,IA0BH,OAxBImN,GACFA,EAAOzI,SAAS/E,SACK7B,IAAf6B,EAAKgD,OAAuBhD,EAAKgD,QAAUA,IAC7C5D,EAAOY,EAAK8N,QAAUV,EAAYpN,EAAKiO,UAIzCP,GACFA,EAAQ3I,SAAS/E,IACf,MAAM0E,EAAQ0I,EAAYpN,EAAKiO,MAAQ,GACnCjO,EAAKkO,MACP9O,EAAOY,EAAK8N,QAAU9N,EAAKkO,QAAUxJ,EAC5B1E,EAAKmO,WACd/O,EAAOY,EAAK8N,QAAU9N,EAAKmO,WAAazJ,MAI1C+I,GACFvN,OAAOC,KAAKsN,GAAM1I,SAASzE,IACzB,MAAMD,EAAMjB,EAAOkB,GACnBlB,EAAOkB,GAAOlB,EAAOqO,EAAKnN,IAC1BlB,EAAOqO,EAAKnN,IAAQD,CAAG,IAGpBjB,CAAM,EAGFgP,GAWThR,OAASE,cAAaD,aACxB,MAAMgQ,QAAEA,EAAOC,QAAEA,EAAOC,MAAEA,EAAKC,OAAEA,EAAMC,KAAEA,EAAIC,QAAEA,GAAYrQ,GACrDmK,MAAEA,EAAKxH,KAAEA,GAAS1C,EACxB,GAAIkK,EAAO,CAGT,MAAO6G,GAAU7G,EACjB,OAAIvJ,MAAM8B,QAAQsO,GACTA,EAAOjQ,KAAI,CAAC4B,EAAMgD,IAAUkK,GAAYlN,EAAMgD,EAAOwE,EAAO6F,EAASC,EAASC,EAAOC,EAAQC,EAAMC,KAErGR,GAAYmB,EAAQ,EAAG7G,EAAO6F,EAASC,EAASC,EAAOC,EAAQC,EAAMC,GACvE,QAAI1N,GACFkN,GAAYlN,EAAM,EAAG,GAAIqN,EAASC,EAASC,EAAOC,EAAQC,EAAMC,EAE7D,EAGRY,GAAa,CACjB9G,MAAO,CACL,CACE,CAAE2E,MAAO,MAAOoC,MAAO,UAAWzP,KAAM,KAAM0P,MAAO,QAASC,MAAO,KACrE,CAAEtC,MAAO,OAAQoC,MAAO,UAAWzP,KAAM,KAAM0P,MAAO,QAASC,MAAO,MAExE,iBAIEC,GAA6C,CACjDhQ,KAAM,sBACNC,MAAOyP,GACPxP,KAAMwP,GACNvP,OAAQ,CACNC,KAAM,UAERI,OAAQ,CACNJ,KAAM,MACNC,WAAY,CACVyI,MAAO,CACL1I,KAAM,QACNE,YAAa,6BAEfgB,KAAM,CACJlB,KAAM,SACNE,YAAa,gCAInBG,QAAS,CACP,CACEN,OAAQ,CAAE2I,MAAO,CAAC8G,GAAW9G,MAAM,GAAG,KACtCnK,OAAQ,CAAEgQ,QAAS,CAAC,QAAS,UAC7BjO,OAAQ,CAAE+M,MAAO,MAAOoC,MAAO,YAEjC,CACE1P,OAAQ,CAAEmB,KAAMsO,GAAW9G,MAAM,GAAG,IACpCnK,OAAQ,CAAEgQ,QAAS,CAAC,QAAS,UAC7BjO,OAAQ,CAAE+M,MAAO,MAAOoC,MAAO,YAEjC,CACE1P,OAAQyP,GACRjR,OAAQ,CAAEgQ,QAAS,CAAC,QAAS,UAC7BjO,OAAQ,CACN,CAAE+M,MAAO,MAAOoC,MAAO,WACvB,CAAEpC,MAAO,OAAQoC,MAAO,aAG5B,CACE1P,OAAQyP,GACRjR,OAAQ,CAAEiQ,QAAS,CAAC,QAAS,UAC7BlO,OAAQ,CACN,CAAEN,KAAM,KAAM0P,MAAO,QAASC,MAAO,KACrC,CAAE3P,KAAM,KAAM0P,MAAO,QAASC,MAAO,OAGzC,CACE5P,OAAQ,CAAEmB,KAAMsO,GAAW9G,MAAM,GAAG,IACpCnK,OAAQ,CAAEiQ,QAAS,CAAC,QAAS,UAC7BlO,OAAQ,CAAEN,KAAM,KAAM0P,MAAO,QAASC,MAAO,MAE/C,CACE5P,OAAQyP,GACRjR,OAAQ,CAAEkQ,MAAO,CAAEpB,MAAO,CAAEwC,IAAK,OAAQC,KAAM,SAC/CxP,OAAQ,CACN,CACE+M,MAAO,OACPoC,MAAO,UACPzP,KAAM,KACN0P,MAAO,QACPC,MAAO,KAET,CACEtC,MAAO,MACPoC,MAAO,UACPzP,KAAM,KACN0P,MAAO,QACPC,MAAO,OAIb,CACE5P,OAAQ,CAAEmB,KAAMsO,GAAW9G,MAAM,GAAG,IACpCnK,OAAQ,CAAEkQ,MAAO,CAAEpB,MAAO,CAAEwC,IAAK,OAAQC,KAAM,SAC/CxP,OAAQ,CACN+M,MAAO,OACPoC,MAAO,UACPzP,KAAM,KACN0P,MAAO,QACPC,MAAO,MAGX,CACE5P,OAAQyP,GACRjR,OAAQ,CAAEoQ,KAAM,CAAEe,MAAO,UACzBpP,OAAQ,CACN,CACE+M,MAAO,MACPoC,MAAO,QACPzP,KAAM,KACN0P,MAAO,UACPC,MAAO,KAET,CACEtC,MAAO,OACPoC,MAAO,QACPzP,KAAM,KACN0P,MAAO,UACPC,MAAO,OAIb,CACE5P,OAAQ,CAAEmB,KAAMsO,GAAW9G,MAAM,GAAG,IACpCnK,OAAQ,CAAEoQ,KAAM,CAAEe,MAAO,UACzBpP,OAAQ,CACN+M,MAAO,MACPoC,MAAO,QACPzP,KAAM,KACN0P,MAAO,UACPC,MAAO,MAGX,CACE5P,OAAQyP,GACRjR,OAAQ,CAAEmQ,OAAQ,CAAC,CAAEM,OAAQ,QAASG,KAAM,KAC5C7O,OAAQ,CACN,CACE+M,MAAO,MACPoC,MAAO,UACPzP,KAAM,KACN0P,MAAO,eACPC,MAAO,KAET,CACEtC,MAAO,OACPoC,MAAO,UACPzP,KAAM,KACN0P,MAAO,eACPC,MAAO,OAIb,CACE5P,OAAQyP,GACRjR,OAAQ,CAAEmQ,OAAQ,CAAC,CAAEM,OAAQ,QAASG,KAAM,EAAGjL,MAAO,KACtD5D,OAAQ,CACN,CACE+M,MAAO,MACPoC,MAAO,UACPzP,KAAM,KACN0P,MAAO,eACPC,MAAO,KAET,CACEtC,MAAO,OACPoC,MAAO,UACPzP,KAAM,KACN0P,MAAO,QACPC,MAAO,OAIb,CACE5P,OAAQyP,GACRjR,OAAQ,CACNqQ,QAAS,CACP,CAAEI,OAAQ,UAAWI,MAAO,gBAC5B,CAAEJ,OAAQ,OAAQK,SAAU,eAAgBF,KAAM,KAGtD7O,OAAQ,CACN,CACE+M,MAAO,MACPoC,MAAO,UACPzP,KAAM,KACN0P,MAAO,QACPC,MAAO,IACPI,SAAS,EACTC,MAAM,GAER,CACE3C,MAAO,OACPoC,MAAO,UACPzP,KAAM,KACN0P,MAAO,QACPC,MAAO,IACPI,SAAS,EACTC,MAAM,MAKd9P,YAAa,kHACbK,SAAU,CAAC,QACXC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,gHACRgC,QAAS,mBACTC,QAAS,OCxREsP,GAER3R,OAASE,cAAaD,aACzB,MAAM8I,SAAEA,GAAa9I,EAErB,OADAE,EAAOmL,EAAcpL,GAAc,wCAC/B6I,EACK7I,EAAY6I,GAEd7I,CAAW,EAGd0R,GAAmC,CACvCtQ,KAAM,YACNC,MAAOoQ,GACPnQ,KAAMmQ,GACNlQ,OAAQ,CACNC,KAAM,SACNE,YAAa,oIACb8B,qBAAsB,CACpBhC,KAAM,CAAC,SAAU,SAAU,UAAW,SAAU,QAAS,QACzDE,YAAa,gFAGjB3B,OAAQ,CACNyB,KAAM,SACNC,WAAY,CACVoH,SAAU,CACRrH,KAAM,SACNE,YAAa,kGAGjB8B,sBAAsB,GAExB5B,OAAQ,CACN6B,MAAO,CAAC,CAAEjC,KAAM,UAAY,CAAEA,KAAM,WAAa,CAAEA,KAAM,UAAY,CAAEA,KAAM,WAE/EK,QAAS,CACP,CACEN,OAAQ,CAAEsN,MAAO,MAAOoC,MAAO,WAC/BlR,OAAQ,CAAA,EACR+B,OAAQ,CAAE+M,MAAO,MAAOoC,MAAO,YAEjC,CACE1P,OAAQ,CAAE2I,MAAO,CAAC,cAAe,cACjCnK,OAAQ,CAAA,EACR+B,OAAQ,CAAEoI,MAAO,CAAC,cAAe,eAEnC,CACE3I,OAAQ,CAAEsN,MAAO,MAAOoC,MAAO,WAC/BlR,OAAQ,CAAE8I,SAAU,SACpB/G,OAAQ,QAGZJ,YAAa,sBACbK,SAAU,CAAC,QACXC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,qGAERgC,QAAS,mBACTC,QAAS,OC1DEwP,GAMT7R,OAASE,cAAaD,aACxB,MAAM8I,SAAEA,GAAa7I,EACrBC,EAAOmL,EAAcpL,GAAc,oDACnC,MAAM8B,EAAS/B,EAAO8I,GACtB,IAAK9I,EAAO8G,mBAA2BhG,IAAXiB,EAC1B,MAAM,IAAIwG,MAAM,gCAAgCO,gBAElD,OAAO/G,CAAM,EAGT8P,GAAgB,CACpBC,OAAQ,CACNZ,MAAO,SACPa,YAAa,IAEfC,KAAM,CACJd,MAAO,iBACPa,YAAa,IAEfE,OAAQ,CACNf,MAAO,2BACPa,YAAa,KAIXG,GAA+C,CACnD7Q,KAAM,wBACNC,MAAOsQ,GACPrQ,KAAMqQ,GACNpQ,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVoH,SAAU,CACRrH,KAAM,SACNE,YAAa,8DAEfmF,aAAc,CACZrF,KAAM,UACNE,YAAa,sGAGjBC,SAAU,CAAC,YACX6B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNE,YAAa,0EACb8B,qBAAsB,CACpBhC,KAAM,CAAC,SAAU,SAAU,UAAW,SAAU,QAAS,QACzDE,YAAa,uEAGjBE,OAAQ,CACN6B,MAAO,CAAC,CAAEjC,KAAM,UAAY,CAAEA,KAAM,WAAa,CAAEA,KAAM,UAAY,CAAEA,KAAM,WAE/EK,QAAS,CACP,CACEN,OAAQ,CAAEsH,SAAU,UACpB9I,OAAQ6R,GACR9P,OAAQ,CACNmP,MAAO,SACPa,YAAa,KAGjB,CACEvQ,OAAQ,CAAEsH,SAAU,UACpB9I,OAAQ6R,GACR9P,OAAQ,CACNmP,MAAO,2BACPa,YAAa,MAInBpQ,YAAa,8BACbK,SAAU,CAAC,QACXC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,kHACRgC,QAAS,mBACTC,QAAS,OCvFE+P,GAA6FpS,OAASE,kBACjHC,EAAOmL,EAAcpL,GAAc,+CACnC,MAAM0D,MAAEA,GAAU1D,EAGlB,OAFAC,OAAiBY,IAAV6C,GAAuB/C,MAAM8B,QAAQiB,GAAQ,qDAE7Cd,OAAOuP,OAAO,CAAA,KAAOzO,EAAM,EAG9B0O,GAA0C,CAC9ChR,KAAM,mBACNC,MAAO6Q,GACP5Q,KAAM4Q,GACN3Q,OAAQ,CACNC,KAAM,SACNC,WAAY,CACViC,MAAO,CACLlC,KAAM,QACNE,YAAa,sIACbgC,MAAO,CACLlC,KAAM,SACNE,YAAa,6DAInBC,SAAU,CAAC,SACX6B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNE,YAAa,qEACbD,WAAY,CAAA,EACZ+B,sBAAsB,GAExB5B,OAAQ,CACN6B,MAAO,CAAEjC,KAAM,WAEjBK,QAAS,CACP,CACEN,OAAQ,CAAEmC,MAAO,CAAC,CAAEmL,MAAO,OAAS,CAAEoC,MAAO,aAC7ClR,OAAQ,CAAA,EACR+B,OAAQ,CAAE+M,MAAO,MAAOoC,MAAO,aAGnCvP,YAAa,sBACbK,SAAU,CAAC,QACXC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,8GAERgC,QAAS,mBACTC,QAAS,OC3CLkQ,GAAiB,CAAC,MAAO,OAAQ,OAAQ,UAAW,MAAO,SAAU,SACrEC,GAAuB,CAAC,OAAQ,MAAO,SAUhCC,GAITzS,OAASE,cAAaD,SAAQyS,aAChC,MAAMC,IAAEA,EAAGC,OAAEA,EAAMC,YAAEA,EAAWC,KAAEA,GAAS,IACtC7S,KACAC,GAELC,IAASwS,EAAK,sBAEd,MAAM5L,EAAe9G,EAAO8G,eAAgB,EAEtCgM,EAAO,IAAIC,IAAIL,GACfM,EAAW,IACXhT,EAAOiT,QAAUjT,EAAOiT,QAAU,CAAA,KAClChT,EAAYgT,QAAUhT,EAAYgT,QAAU,CAAA,GAMlD,GAJIR,GAAUA,EAAOS,gBACnBF,EAAwB,cAAIP,EAAOS,eAGjCN,EAAa,CACf,MAAMO,EAAU,IAAIC,gBAAgBR,GACpCE,EAAKO,OAASF,EAAQG,WAGpBT,IACFG,EAAS,gBAAkB,oBAI7B,MAAMO,EAA4B,CAChCZ,OAAQA,EAASA,EAAO9M,cAAgBgN,EAAO,OAAS,MACxDI,QAAS,IAAIO,QAAQR,GACrBH,KAAMA,EAAOtO,KAAKC,UAAUqO,QAAQ/R,GAQtC,GANAZ,EAAOoS,GAAemB,SAASF,EAAaZ,QAAU,IAAK,+BAAiCY,EAAaZ,QACzGzS,GACGqS,GAAqBkB,SAASF,EAAaZ,QAAU,OAASE,EAC/D,6DAA+DU,EAAaZ,QAG1E3S,GAAQ0T,MACV,MAAO,CACLhB,IAAKI,EAAKQ,WACVX,OAAQY,EAAaZ,OACrBM,QAASD,EACTH,KAAMU,EAAaV,MAIvB,MAAMxD,QAAiBsE,MAAMb,EAAKQ,WAAYC,GAE9C,IAAKlE,EAASuE,GAAI,CAChB,MAAM7M,EAASsI,EAAStI,OAElBuB,EAAiB,UADVtI,GAAQyB,MAAQ,cACS4N,EAASwE,aAAexE,EAASjP,OACvE,GAAI0G,EACF,MAAO,CACL0B,QAAS,CACPC,QAAS,eAAe1B,IACxBA,SACAuB,UAIN,MAAM,IAAIC,MAAM,eAAexB,KAGjC,MAAMzC,OAAa,WACjB,MAAM7C,EAAOzB,GAAQyB,MAAQ,OAC7B,GAAa,SAATA,EACF,aAAa4N,EAASwE,OACjB,GAAa,SAATpS,EACT,OAAO4N,EAASjP,OAElB,MAAM,IAAImI,MAAM,iBAAiB9G,IAClC,EARkB,GAUnB,OAA4B,IAAxBzB,EAAOoP,aACF,CAAE9K,QAEJA,CAAI,EAGPwP,GAA2C,CAC/CzS,KAAM,oBACNC,MAAOkR,GACPjR,KAAMiR,GAENhR,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVgR,IAAK,CACHjR,KAAM,SACNE,YAAa,oEAEfgR,OAAQ,CACNlR,KAAM,SACNE,YAAa,4HAEfsR,QAAS,CACPxR,KAAM,SACNE,YAAa,mGAEfiR,YAAa,CACXnR,KAAM,SACNE,YAAa,mDAEfkR,KAAM,CACJlR,YAAa,kEACb+B,MAAO,CAAC,CAAEjC,KAAM,UAAY,CAAEA,KAAM,aAGxCG,SAAU,GACV6B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNC,WAAY,CACVgR,IAAK,CACHjR,KAAM,SACNE,YAAa,6DAEfgR,OAAQ,CACNlR,KAAM,SACNE,YAAa,6DAEfsR,QAAS,CACPxR,KAAM,SACNE,YAAa,mDAEfiR,YAAa,CACXnR,KAAM,SACNE,YAAa,0CAEfkR,KAAM,CACJlR,YAAa,qDACb+B,MAAO,CAAC,CAAEjC,KAAM,UAAY,CAAEA,KAAM,YAEtCiS,MAAO,CACLjS,KAAM,UACNE,YAAa,yFAEfmF,aAAc,CACZrF,KAAM,UACNE,YAAa,6EAEfyN,aAAc,CACZ3N,KAAM,UACNE,YAAa,qHAEfF,KAAM,CACJA,KAAM,SACNsS,KAAM,CAAC,OAAQ,QACfpS,YAAa,yEAGjBC,SAAU,GACV6B,sBAAsB,GAExB5B,OAAQ,CACNF,YACE,mJACF+B,MAAO,CACL,CACEjC,KAAM,SACNC,WAAY,CACV8G,QAAS,CACP/G,KAAM,SACNC,WAAY,CACV+G,QAAS,CAAEhH,KAAM,UACjBsF,OAAQ,CAAEtF,KAAM,WAChB6G,MAAO,CAAA,GAET1G,SAAU,CAAC,UAAW,SAAU,WAGpCA,SAAU,CAAC,WACX6B,sBAAsB,GAExB,CACEhC,KAAM,SACNE,YAAa,mDACbD,WAAY,CACViR,OAAQ,CAAElR,KAAM,UAChBiR,IAAK,CAAEjR,KAAM,UACbwR,QAAS,CAAExR,KAAM,UACjBoR,KAAM,CAAA,GAERjR,SAAU,CAAC,SAAU,MAAO,YAE9B,CAAA,EACA,CACEH,KAAM,SACNE,YAAa,0EACbD,WAAY,CACV4C,KAAM,CAAA,GAER1C,SAAU,CAAC,QACX6B,sBAAsB,KAI5B3B,QAAS,CACP,CACEN,OAAQ,CAAEkR,IAAK,sBAAuBE,YAAa,CAAEoB,IAAK,OAASf,QAAS,CAAE,aAAc,WAC5FjT,OAAQ,CACN0T,OAAO,GAET3R,OAAQ,CACN4Q,OAAQ,MACRD,IAAK,+BACLO,QAAS,CACP,aAAc,UAEhBJ,UAAM/R,IAGV,CACEU,OAAQ,CAAEkR,IAAK,sBAAuBG,KAAM,CAAEmB,IAAK,QACnDhU,OAAQ,CACN0T,OAAO,GAET3R,OAAQ,CACN4Q,OAAQ,OACRD,IAAK,uBACLO,QAAS,CACP,eAAgB,oBAElBJ,KAAMtO,KAAKC,UAAU,CAAEwP,IAAK,UAGhC,CACExS,OAAQ,CAAEkR,IAAK,sBAAuBG,KAAM,CAAEmB,IAAK,OAASrB,OAAQ,OACpE3S,OAAQ,CACN0T,OAAO,GAET3R,OAAQ,CACN4Q,OAAQ,MACRD,IAAK,uBACLO,QAAS,CACP,eAAgB,oBAElBJ,KAAMtO,KAAKC,UAAU,CAAEwP,IAAK,UAGhC,CACExS,OAAQ,CAAEkR,IAAK,sBAAuBC,OAAQ,WAC9C3S,OAAQ,CACN0T,OAAO,GAET3R,OAAQ,CACN4Q,OAAQ,UACRD,IAAK,uBACLO,QAAS,CAAA,EACTJ,UAAM/R,IAGV,CACEU,OAAQ,CAAA,EACRxB,OAAQ,CACN0S,IAAK,sBACLG,KAAM,CAAEmB,IAAK,OACbrB,OAAQ,MACRe,OAAO,GAET3R,OAAQ,CACN4Q,OAAQ,MACRD,IAAK,uBACLO,QAAS,CACP,eAAgB,oBAElBJ,KAAMtO,KAAKC,UAAU,CAAEwP,IAAK,UAGhC,CACExS,OAAQ,CACNmR,OAAQ,SACRM,QAAS,CACPgB,eAAgB,eAGpBjU,OAAQ,CACN0S,IAAK,sBACLG,KAAM,CAAEmB,IAAK,OACbrB,OAAQ,MACRM,QAAS,CACP,eAAgB,oBAElBS,OAAO,GAET3R,OAAQ,CACN4Q,OAAQ,SACRD,IAAK,uBACLO,QAAS,CACP,eAAgB,mBAChBgB,eAAgB,cAElBpB,KAAMtO,KAAKC,UAAU,CAAEwP,IAAK,WAIlCrS,YAAa,6CACbK,SAAU,CAAC,WACXC,OAAQ,YACRC,WAAY,uCACZ/B,OAAQ,iHACRgC,QAAS,mBACTC,QAAS,OCzUE8R,GAAqDnU,OAASC,SAAQC,wBAC3EsN,EAAMvN,GAAQmU,UAAY,IACzBlU,GAGHmU,GAAsC,CAC1C/S,KAAM,eACNC,MAAO4S,GACP3S,KAAM2S,GACN1S,OAAQ,CACNC,KAAM,SACNE,YAAa,8FACb8B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNC,WAAY,CACVyS,SAAU,CACR1S,KAAM,SACNE,YAAa,uGAGjB8B,sBAAsB,GAExB5B,OAAQ,CACNJ,KAAM,SACNE,YAAa,yDACb8B,sBAAsB,GAExB3B,QAAS,CACP,CACEN,OAAQ,CAAA,EACRxB,OAAQ,CAAEmU,SAAU,GACpBpS,OAAQ,CAAA,GAEV,CACEP,OAAQ,CAAE2I,MAAO,CAAC,CAAEiC,EAAG,GAAK,CAAEC,EAAG,KACjCrM,OAAQ,CAAEmU,SAAU,GACpBpS,OAAQ,CACNoI,MAAO,CAAC,CAAEiC,EAAG,GAAK,CAAEC,EAAG,OAI7B1K,YAAa,mCACbK,SAAU,CAAC,WACXC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,2GACRgC,QAAS,mBACTC,QAAS,OC7CLiS,GAAWC,IACf,MAAMnK,EAAQmK,EAAOvT,KAAKsG,GACpBzG,MAAM8B,QAAQ2E,GACTgN,GAAQhN,GAEVA,KAEF+E,EAAGmI,EAAUlI,GAAKlC,EACzB,GAAiB,OAAboK,EACF,OAAOnI,IAAMC,EAEf,GAAiB,OAAbkI,EACF,OAAOnI,IAAMC,EAEf,GAAiB,MAAbkI,EACF,OAAOC,OAAOpI,GAAKoI,OAAOnI,GAE5B,GAAiB,OAAbkI,EACF,OAAOC,OAAOpI,IAAMoI,OAAOnI,GAE7B,GAAiB,MAAbkI,EACF,OAAOC,OAAOpI,GAAKoI,OAAOnI,GAE5B,GAAiB,OAAbkI,EACF,OAAOC,OAAOpI,IAAMoI,OAAOnI,GAE7B,GAAiB,OAAbkI,EACF,QAASnI,KAAOC,EAElB,GAAiB,OAAbkI,EACF,QAASnI,KAAOC,EAElB,GAAiB,QAAbkI,EACF,QAASnI,IAAOC,EAElB,MAAM,IAAI9D,MAAM,2BAA2B,EAIvCkM,GAAUnQ,GACPA,QAGIoQ,GAIT3U,OAASE,cAAaD,aACxB,MAAQmK,MAAOmK,EAAMK,UAAEA,EAASC,WAAEA,GAAe3U,EAC3CkK,EAAQmK,GAAU,GAClB9S,EAAS,MACb,GAAqB,IAAjB2I,EAAMzJ,QAAgBV,EAAOuU,SAC/B,MAAO,CAACpK,EAAM,GAAInK,EAAOuU,SAAUpK,EAAM,IAE3C,GAAqB,IAAjBA,EAAMzJ,OACR,OAAOyJ,EAET,GAAqB,IAAjBA,EAAMzJ,SAAiB+T,GAAOE,KAAeF,GAAOG,IAAe5U,EAAOuU,SAC5E,MAAO,CAACI,EAAW3U,EAAOuU,SAAUK,GAEtC,MAAM,IAAIrM,MAAM,2BACjB,EAXc,GAYTsM,EAAMR,GAAQ7S,GACpB,OAAIxB,GAAQqH,MACH,CACLtF,OAAQ/B,GAAQqH,MAAMwN,EAAM,OAAS,UAAYA,GAG9C,CACL9S,OAAQ8S,EACT,EAGGC,GAAsC,CAC1CzT,KAAM,eACNC,MAAOoT,GACPnT,KAAMmT,GACNlT,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVyI,MAAO,CACL1I,KAAM,QACNE,YAAa,yGACbgC,MAAO,CACLlC,KAAM,CAAC,SAAU,SAAU,UAAW,WAG1CkT,UAAW,CACTlT,KAAM,CAAC,SAAU,SAAU,WAC3BE,YAAa,sGAEfiT,WAAY,CACVnT,KAAM,CAAC,SAAU,SAAU,WAC3BE,YAAa,uGAGjB8B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNC,WAAY,CACV6S,SAAU,CACR9S,KAAM,SACNE,YACE,wJAEJ0F,MAAO,CACL5F,KAAM,SACNE,YACE,sJACFD,WAAY,CACVqT,KAAM,CACJtT,KAAM,CAAC,SAAU,SAAU,WAC3BE,YAAa,kEAEfqT,MAAO,CACLvT,KAAM,CAAC,SAAU,SAAU,WAC3BE,YAAa,oEAGjB8B,sBAAsB,IAG1BA,sBAAsB,GAExB5B,OAAQ,CAAA,EACRC,QAAS,CACP,CACEN,OAAQ,CAAE2I,MAAO,CAAC,MAAO,KAAM,QAC/BnK,OAAQ,CAAEqH,MAAO,CAAE0N,KAAM,IAAKC,MAAO,MACrCjT,OAAQ,CACNA,OAAQ,MAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,MAAO,KAAM,SAC/BnK,OAAQ,CAAEqH,MAAO,CAAE0N,KAAM,IAAKC,MAAO,MACrCjT,OAAQ,CACNA,OAAQ,MAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,MAAO,KAAM,QAC/BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,MAAO,KAAM,SAC/BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,MAAO,KAAM,QAC/BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,MAAO,KAAM,SAC/BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,IAAK,MAC7BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,IAAK,OAC7BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,IAAK,IAC3BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,IAAK,KAC3BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,KAAM,MAC9BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,KAAM,OAC9BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CAEEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,KAAM,OAC9BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,KAAM,IAC5BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,KAAM,KAC5BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,KAAM,KAC5BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAKZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,IAAK,MAC7BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,IAAK,OAC7BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,IAAK,IAC3BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,IAAK,KAC3BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,KAAM,MAC9BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,KAAM,OAC9BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CAEEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,KAAM,OAC9BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,KAAM,IAC5BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,KAAM,KAC5BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,KAAM,KAC5BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAIZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,EAAM,MAAM,IAC9BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,EAAO,MAAM,IAC/BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAIZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,EAAM,MAAM,IAC9BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,EAAM,MAAM,IAC9BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,EAAM,OAAO,IAC/BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,EAAO,OAAO,IAChCnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,EAAO,OAAO,IAChCnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,EAAM,OAAO,IAC/BnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAIZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,CAAC,MAAO,KAAM,OAAQ,KAAM,CAAC,MAAO,KAAM,SAC5DnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,CAAC,MAAO,KAAM,OAAQ,KAAM,CAAC,MAAO,KAAM,SAC5DnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,CAAC,CAAC,MAAO,KAAM,OAAQ,KAAM,CAAC,MAAO,KAAM,QAAS,KAAM,CAAC,MAAO,KAAM,SAC1FnK,OAAQ,CAAA,EACR+B,OAAQ,CACNA,QAAQ,IAKZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,MAAO,QACzBnK,OAAQ,CAAEqH,MAAO,CAAE0N,KAAM,IAAKC,MAAO,KAAOT,SAAU,MACtDxS,OAAQ,CACNA,OAAQ,MAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,MAAO,SACzBnK,OAAQ,CAAEqH,MAAO,CAAE0N,KAAM,IAAKC,MAAO,KAAOT,SAAU,MACtDxS,OAAQ,CACNA,OAAQ,MAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,MAAO,QACzBnK,OAAQ,CAAEuU,SAAU,MACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,MAAO,SACzBnK,OAAQ,CAAEuU,SAAU,MACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,MAAO,QACzBnK,OAAQ,CAAEuU,SAAU,MACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,MAAO,SACzBnK,OAAQ,CAAEuU,SAAU,MACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,MACxBnK,OAAQ,CAAEuU,SAAU,KACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,OACxBnK,OAAQ,CAAEuU,SAAU,KACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,IACtBnK,OAAQ,CAAEuU,SAAU,KACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,KACtBnK,OAAQ,CAAEuU,SAAU,KACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,MACxBnK,OAAQ,CAAEuU,SAAU,MACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,OACxBnK,OAAQ,CAAEuU,SAAU,MACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,OACxBnK,OAAQ,CAAEuU,SAAU,MACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,IACtBnK,OAAQ,CAAEuU,SAAU,MACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,KACtBnK,OAAQ,CAAEuU,SAAU,MACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,KACtBnK,OAAQ,CAAEuU,SAAU,MACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,MACxBnK,OAAQ,CAAEuU,SAAU,KACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,KAAM,OACxBnK,OAAQ,CAAEuU,SAAU,KACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,IACtBnK,OAAQ,CAAEuU,SAAU,KACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,CAAC,GAAI,KACtBnK,OAAQ,CAAEuU,SAAU,KACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,GAAM,IACxBnK,OAAQ,CAAEuU,SAAU,MACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,GAAO,IACzBnK,OAAQ,CAAEuU,SAAU,MACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,GAAM,IACxBnK,OAAQ,CAAEuU,SAAU,MACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,GAAM,IACxBnK,OAAQ,CAAEuU,SAAU,MACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,GAAM,IACxBnK,OAAQ,CAAEuU,SAAU,OACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,GAAO,IACzBnK,OAAQ,CAAEuU,SAAU,OACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,GAAO,IACzBnK,OAAQ,CAAEuU,SAAU,OACpBxS,OAAQ,CACNA,QAAQ,IAGZ,CACEP,OAAQ,CAAE2I,MAAO,EAAC,GAAM,IACxBnK,OAAQ,CAAEuU,SAAU,OACpBxS,OAAQ,CACNA,QAAQ,IAIZ,CACEP,OAAQ,CAAEmT,UAAW,MAAOC,WAAY,OACxC5U,OAAQ,CAAEqH,MAAO,CAAE0N,KAAM,IAAKC,MAAO,KAAOT,SAAU,MACtDxS,OAAQ,CACNA,OAAQ,MAGZ,CACEP,OAAQ,CAAEmT,UAAW,MAAOC,WAAY,QACxC5U,OAAQ,CAAEqH,MAAO,CAAE0N,KAAM,IAAKC,MAAO,KAAOT,SAAU,MACtDxS,OAAQ,CACNA,OAAQ,OAIdJ,YAAa,UACbK,SAAU,CAAC,WACXC,OAAQ,YACRC,WAAY,uCACZ/B,OAAQ,2GACRgC,QAAS,mBACTC,QAAS,OCxlBE6S,GAeTlV,OAASE,cAAaD,aACxB,MAAMkV,UAAEA,EAASC,OAAEA,GAAWnV,GACxBmK,MAAEA,EAAKhG,OAAEA,GAAWlE,EAC1BiK,EAAc,sBAAuBjK,GACrCC,IAASgV,EAAW,6EAEpB,MAAMvU,EAAsBwJ,EAAMpJ,KAAKqU,IACrC,MAAMC,EArCU,EAAC/Q,EAAc4Q,EAAmBC,IAClC,SAAdD,EACK,CACLxC,IAAKpO,GAIF,CACLoO,IAFc,cAAcwC,YAAoB5Q,IAGhD6Q,OAAQA,GAAU,QA4BAG,CAAYF,EAAiBF,EAAWC,GAC1D,MAAO,CACL1T,KAAM,YACN4T,YACD,IAOH,OAJIlR,GACFxD,EAAS4U,QAAQ,CAAE9T,KAAM,OAAQrB,KAAM+D,IAGlC,CACLsE,QAAS,CACP+M,KAAM,OACNC,QAAS9U,GAEZ,EAGG+U,GAA6C,CACjDrU,KAAM,sBACNC,MAAO2T,GACP1T,KAAM0T,GACNzT,OAAQ,CACNC,KAAM,SACNC,WAAY,CACVyI,MAAO,CACL1I,KAAM,QACNE,YAAa,2IACbgC,MAAO,CACLlC,KAAM,SACNE,YAAa,8DAGjBwC,OAAQ,CACN1C,KAAM,SACNE,YAAa,gFAGjBC,SAAU,CAAC,SACX6B,sBAAsB,GAExBzD,OAAQ,CACNyB,KAAM,SACNC,WAAY,CACVwT,UAAW,CACTzT,KAAM,SACNE,YAAa,qFAEfwT,OAAQ,CACN1T,KAAM,SACNE,YAAa,8FAGjBC,SAAU,CAAC,aACX6B,sBAAsB,GAExB5B,OAAQ,CACNJ,KAAM,SACNC,WAAY,CACV+G,QAAS,CACPhH,KAAM,SACNE,YAAa,4EACbD,WAAY,CACV8T,KAAM,CACJ/T,KAAM,SACNsS,KAAM,CAAC,QACPpS,YAAa,+CAEf8T,QAAS,CACPhU,KAAM,QACNE,YAAa,yFACbgC,MAAO,CACLlC,KAAM,SACNkU,MAAO,CACL,CACEjU,WAAY,CACVD,KAAM,CACJA,KAAM,SACNmU,MAAO,QAETxV,KAAM,CACJqB,KAAM,SACNE,YAAa,yBAGjBC,SAAU,CAAC,OAAQ,QACnB6B,sBAAsB,GAExB,CACE/B,WAAY,CACVD,KAAM,CACJA,KAAM,SACNmU,MAAO,aAETP,UAAW,CACT5T,KAAM,SACNC,WAAY,CACVgR,IAAK,CACHjR,KAAM,SACNE,YAAa,iCAEfwT,OAAQ,CACN1T,KAAM,SACNE,YAAa,2EAGjBC,SAAU,CAAC,OACX6B,sBAAsB,IAG1B7B,SAAU,CAAC,OAAQ,aACnB6B,sBAAsB,OAMhC7B,SAAU,CAAC,OAAQ,WACnB6B,sBAAsB,IAG1B7B,SAAU,CAAC,WACX6B,sBAAsB,GAExB3B,QAAS,CACP,CACEN,OAAQ,CAAE2I,MAAO,CAAC,SAAU,WAC5BnK,OAAQ,CAAEkV,UAAW,OACrBnT,OAAQ,CACN0G,QAAS,CACPgN,QAAS,CACP,CACEJ,UAAW,CACTF,OAAQ,OACRzC,IAAK,gCAEPjR,KAAM,aAER,CACE4T,UAAW,CACTF,OAAQ,OACRzC,IAAK,gCAEPjR,KAAM,cAGV+T,KAAM,UAIZ,CACEhU,OAAQ,CAAE2I,MAAO,CAAC,SAAU,UAAWhG,OAAQ,SAC/CnE,OAAQ,CAAEkV,UAAW,MAAOC,OAAQ,QACpCpT,OAAQ,CACN0G,QAAS,CACPgN,QAAS,CACP,CACEhU,KAAM,OACNrB,KAAM,SAER,CACEiV,UAAW,CACTF,OAAQ,OACRzC,IAAK,gCAEPjR,KAAM,aAER,CACE4T,UAAW,CACTF,OAAQ,OACRzC,IAAK,gCAEPjR,KAAM,cAGV+T,KAAM,UAIZ,CACEhU,OAAQ,CAAE2I,MAAO,CAAC,2BAA4B,6BAC9CnK,OAAQ,CAAEkV,UAAW,QACrBnT,OAAQ,CACN0G,QAAS,CACPgN,QAAS,CACP,CACEJ,UAAW,CACT3C,IAAK,4BAEPjR,KAAM,aAER,CACE4T,UAAW,CACT3C,IAAK,4BAEPjR,KAAM,cAGV+T,KAAM,WAKd7T,YAAa,iDACbK,SAAU,CAAC,SACXC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,mHACRgC,QAAS,mBACTC,QAAS,OC5MEyT,GAAiI9V,OAC5IC,SACAC,cACAwS,aAEA,MAAMtI,MAAEA,EAAKxH,KAAEA,GAAS1C,GAClB6V,OAAEA,EAAM5E,MAAEA,EAAK6E,QAAEA,GAAY,IAC7BtD,GAAU,CAAA,KACXzS,GAGC0S,EAAMqD,GAvBe,uCAwBrBC,EAAW9E,GAzBW,yBA2BtB+E,EAAYH,GAAUI,QAAQC,IAAIC,eAClCnD,EAAU,CACd,eAAgB,mBAChBoD,cAAeJ,EAAY,UAAUA,IAAc,IAG/CK,EAAUnM,GAAS,CAACxH,GAEpB0M,QAAiBsE,MAAMjB,EAAK,CAChCC,OAAQ,OACRM,UACAJ,KAAMtO,KAAKC,UAAU,CACnBhC,MAAO8T,EACPpF,MAAO8E,MAGLO,QAAwElH,EAASwE,OAEvF,IAAKxE,EAASuE,GACZ,MAAM,IAAIrL,MAAM,uBAAuB8G,EAAStI,UAElD,MAAI,SAAUwP,EAELA,EAAajS,KAAKvD,KAAK+O,GACrBA,EAAO0G,YAGd,eAAgBD,EAEXA,EAAaE,gBAFtB,GAMIC,GAA+C,CACnDrV,KAAM,wBACNC,MAAOuU,GACPtU,KAAMsU,GACN/T,QAAS,GACTH,YAAa,mBACbK,SAAU,CAAC,aACXC,OAAQ,iBACRC,WAAY,uCACZ/B,OAAQ,8FACRgC,QAAS,mBACTiC,UAAW,YACXhC,QAAS"}