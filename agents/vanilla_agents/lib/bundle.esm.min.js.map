{"version":3,"file":"bundle.esm.min.js","sources":["../src/string_agents/string_splitter_agent.ts","../src/string_agents/string_template_agent.ts","../src/string_agents/json_parser_agent.ts","../src/string_agents/string_case_variants_agent.ts","../src/graph_agents/nested_agent.ts","../src/string_agents/string_update_text_agent.ts","../src/string_agents/console_agent.ts","../src/array_agents/push_agent.ts","../src/array_agents/pop_agent.ts","../src/array_agents/shift_agent.ts","../src/array_agents/array_flat_agent.ts","../src/array_agents/array_join_agent.ts","../src/array_agents/array_to_object.ts","../src/matrix_agents/dot_product_agent.ts","../src/matrix_agents/sort_by_values_agent.ts","../src/test_agents/echo_agent.ts","../src/test_agents/counting_agent.ts","../src/test_agents/copy_message_agent.ts","../src/test_agents/copy2array_agent.ts","../src/test_agents/merge_node_id_agent.ts","../src/test_agents/stream_mock_agent.ts","../src/graph_agents/map_agent.ts","../src/data_agents/total_agent.ts","../src/data_agents/data_sum_template_agent.ts","../src/data_agents/property_filter_agent.ts","../src/data_agents/copy_agent.ts","../src/data_agents/lookup_dictionary_agent.ts","../src/data_agents/merge_objects_agent.ts","../src/service_agents/vanilla_fetch_agent.ts","../src/sleeper_agents/sleeper_agent.ts","../src/compare_agents/compare_agent.ts","../src/images_agents/image_to_message_agent.ts","../src/embedding_agent.ts"],"sourcesContent":["import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { GraphAIText } from \"@graphai/agent_utils\";\n\n// This agent strip one long string into chunks using following parameters\n//\n//  chunkSize: number; // default is 2048\n//  overlap: number;   // default is 1/8th of chunkSize.\n//\n// see example\n//  tests/agents/test_string_agent.ts\n//\nconst defaultChunkSize = 2048;\n\nexport const stringSplitterAgent: AgentFunction<\n  {\n    chunkSize?: number;\n    overlap?: number;\n  },\n  {\n    contents: Array<string>;\n    count: number;\n    chunkSize: number;\n    overlap: number;\n  },\n  GraphAIText\n> = async ({ params, namedInputs }) => {\n  assert(!!namedInputs, \"stringSplitterAgent: namedInputs is UNDEFINED!\");\n  const source = namedInputs.text;\n  const chunkSize = params.chunkSize ?? defaultChunkSize;\n  const overlap = params.overlap ?? Math.floor(chunkSize / 8);\n  const count = Math.floor(source.length / (chunkSize - overlap)) + 1;\n  const contents = new Array(count).fill(undefined).map((_, i) => {\n    const startIndex = i * (chunkSize - overlap);\n    return source.substring(startIndex, startIndex + chunkSize);\n  });\n\n  return { contents, count, chunkSize, overlap };\n};\n\n// for test and document\nconst sampleInput = {\n  text: \"Here's to the crazy ones, the misfits, the rebels, the troublemakers, the round pegs in the square holes ... the ones who see things differently -- they're not fond of rules, and they have no respect for the status quo. ... You can quote them, disagree with them, glorify or vilify them, but the only thing you can't do is ignore them because they change things. ... They push the human race forward, and while some may see them as the crazy ones, we see genius, because the people who are crazy enough to think that they can change the world, are the ones who do.\",\n};\n\nconst sampleParams = { chunkSize: 64 };\nconst sampleResult = {\n  contents: [\n    \"Here's to the crazy ones, the misfits, the rebels, the troublema\",\n    \"roublemakers, the round pegs in the square holes ... the ones wh\",\n    \" ones who see things differently -- they're not fond of rules, a\",\n    \"rules, and they have no respect for the status quo. ... You can \",\n    \"You can quote them, disagree with them, glorify or vilify them, \",\n    \"y them, but the only thing you can't do is ignore them because t\",\n    \"ecause they change things. ... They push the human race forward,\",\n    \"forward, and while some may see them as the crazy ones, we see g\",\n    \"we see genius, because the people who are crazy enough to think \",\n    \"o think that they can change the world, are the ones who do.\",\n    \" do.\",\n  ],\n  count: 11,\n  chunkSize: 64,\n  overlap: 8,\n};\n\nconst stringSplitterAgentInfo: AgentFunctionInfo = {\n  name: \"stringSplitterAgent\",\n  agent: stringSplitterAgent,\n  mock: stringSplitterAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      text: {\n        type: \"string\",\n        description: \"text to be chuncked\",\n      },\n    },\n    required: [\"text\"],\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      contents: {\n        type: \"array\",\n        description: \"the array of text chunks\",\n      },\n      count: {\n        type: \"number\",\n        description: \"the number of chunks\",\n      },\n      chunkSize: {\n        type: \"number\",\n        description: \"the chunk size\",\n      },\n      overlap: {\n        type: \"number\",\n        description: \"the overlap size\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: sampleInput,\n      params: sampleParams,\n      result: sampleResult,\n    },\n  ],\n  description: \"This agent strip one long string into chunks using following parameters\",\n  category: [\"string\"],\n  author: \"Satoshi Nakajima\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/string_agents/string_splitter_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default stringSplitterAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, isObject } from \"graphai\";\n\ntype StringTemplate = string | Record<string, string>;\ntype StringTemplateObject = StringTemplate | StringTemplate[] | Record<string, StringTemplate>;\n\nconst processTemplate: any = (template: StringTemplateObject, match: string, input: string) => {\n  if (typeof template === \"string\") {\n    if (template === match) {\n      return input;\n    }\n    return template.replace(match, input);\n  } else if (Array.isArray(template)) {\n    return template.map((item: StringTemplate) => processTemplate(item, match, input));\n  }\n\n  if (isObject(template)) {\n    return Object.keys(template).reduce((tmp: any, key: string) => {\n      tmp[key] = processTemplate(template[key], match, input);\n      return tmp;\n    }, {});\n  }\n  return template;\n};\n\nexport const stringTemplateAgent: AgentFunction<\n  {\n    template: StringTemplateObject;\n  },\n  StringTemplateObject,\n  Record<string, string>\n> = async ({ params, namedInputs }) => {\n  if (params.template === undefined) {\n    if (namedInputs.text) {\n      return namedInputs.text;\n    }\n    console.warn(\"warning: stringTemplateAgent no template\");\n  }\n  return Object.keys(namedInputs).reduce((template, key) => {\n    return processTemplate(template, \"${\" + key + \"}\", namedInputs[key]);\n  }, params.template);\n};\n\nconst sampleNamedInput = { message1: \"hello\", message2: \"test\" };\n\n// for test and document\nconst stringTemplateAgentInfo: AgentFunctionInfo = {\n  name: \"stringTemplateAgent\",\n  agent: stringTemplateAgent,\n  mock: stringTemplateAgent,\n  samples: [\n    // named\n    {\n      inputs: sampleNamedInput,\n      params: { template: \"${message1}: ${message2}\" },\n      result: \"hello: test\",\n    },\n    {\n      inputs: sampleNamedInput,\n      params: { template: [\"${message1}: ${message2}\", \"${message2}: ${message1}\"] },\n      result: [\"hello: test\", \"test: hello\"],\n    },\n    {\n      inputs: sampleNamedInput,\n      params: { template: { apple: \"${message1}\", lemon: \"${message2}\" } },\n      result: { apple: \"hello\", lemon: \"test\" },\n    },\n    {\n      inputs: sampleNamedInput,\n      params: { template: [{ apple: \"${message1}\", lemon: \"${message2}\" }] },\n      result: [{ apple: \"hello\", lemon: \"test\" }],\n    },\n    {\n      inputs: sampleNamedInput,\n      params: { template: { apple: \"${message1}\", lemon: [\"${message2}\"] } },\n      result: { apple: \"hello\", lemon: [\"test\"] },\n    },\n    // graphData\n    {\n      inputs: { agent: \"openAiAgent\", row: \"hello world\", params: { text: \"message\" } },\n      params: {\n        template: {\n          version: 0.5,\n          nodes: {\n            ai: {\n              agent: \"${agent}\",\n              isResult: true,\n              params: \"${params}\",\n              inputs: { prompt: \"${row}\" },\n            },\n          },\n        },\n      },\n      result: {\n        nodes: {\n          ai: {\n            agent: \"openAiAgent\",\n            inputs: {\n              prompt: \"hello world\",\n            },\n            isResult: true,\n            params: { text: \"message\" },\n          },\n        },\n        version: 0.5,\n      },\n    },\n  ],\n  description: \"Template agent\",\n  category: [\"string\"],\n  author: \"Satoshi Nakajima\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/string_agents/string_template_agent.ts\",\n  package: \"@graphai/vanilla\",\n  cacheType: \"pureAgent\",\n  license: \"MIT\",\n};\nexport default stringTemplateAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport type { GraphAIWithOptionalTextAndData } from \"@graphai/agent_utils\";\n\nexport const jsonParserAgent: AgentFunction<null, unknown, GraphAIWithOptionalTextAndData> = async ({ namedInputs }) => {\n  const { text, data } = namedInputs;\n\n  if (data) {\n    return {\n      text: JSON.stringify(data, null, 2),\n    };\n  }\n  const match = (\"\\n\" + text).match(/\\n```[a-zA-z]*([\\s\\S]*?)\\n```/);\n  if (match) {\n    return {\n      data: JSON.parse(match[1]),\n    };\n  }\n  return {\n    data: JSON.parse(text ?? \"\"),\n  };\n};\n\nconst sample_object = { apple: \"red\", lemon: \"yellow\" };\n\nconst json_str = JSON.stringify(sample_object);\nconst md_json1 = [\"```\", json_str, \"```\"].join(\"\\n\");\n\nconst md_json2 = [\"```json\", json_str, \"```\"].join(\"\\n\");\n\nconst md_json3 = [\"```JSON\", json_str, \"```\"].join(\"\\n\");\n\nconst jsonParserAgentInfo: AgentFunctionInfo = {\n  name: \"jsonParserAgent\",\n  agent: jsonParserAgent,\n  mock: jsonParserAgent,\n  inputs: {\n    anyOf: [{ type: \"string\" }, { type: \"integer\" }, { type: \"object\" }, { type: \"array\" }],\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      text: {\n        type: \"string\",\n        description: \"json string\",\n      },\n      data: {\n        anyOf: [{ type: \"string\" }, { type: \"integer\" }, { type: \"object\" }, { type: \"array\" }],\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: { data: sample_object },\n      params: {},\n      result: { text: JSON.stringify(sample_object, null, 2) },\n    },\n    {\n      inputs: { text: JSON.stringify(sample_object, null, 2) },\n      params: {},\n      result: { data: sample_object },\n    },\n    {\n      inputs: { text: md_json1 },\n      params: {},\n      result: { data: sample_object },\n    },\n    {\n      inputs: { text: md_json2 },\n      params: {},\n      result: { data: sample_object },\n    },\n    {\n      inputs: { text: md_json3 },\n      params: {},\n      result: { data: sample_object },\n    },\n  ],\n  description: \"Template agent\",\n  category: [\"string\"],\n  author: \"Satoshi Nakajima\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/string_agents/json_parser_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default jsonParserAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport type { GraphAIText } from \"@graphai/agent_utils\";\n\nexport const stringCaseVariantsAgent: AgentFunction<\n  { suffix?: string },\n  { lowerCamelCase: string; snakeCase: string; kebabCase: string; normalized: string },\n  GraphAIText\n> = async ({ namedInputs, params }) => {\n  const { suffix } = params;\n  const normalizedArray = namedInputs.text\n    .trim()\n    .replace(/[\\s-_]+/g, \" \")\n    .toLowerCase()\n    .split(\" \");\n  if (suffix && normalizedArray[normalizedArray.length - 1] !== suffix) {\n    normalizedArray.push(suffix);\n  }\n  const normalized = normalizedArray.join(\" \");\n\n  const lowerCamelCase = normalizedArray\n    .map((word, index) => {\n      if (index === 0) return word;\n      return word.charAt(0).toUpperCase() + word.slice(1);\n    })\n    .join(\"\");\n\n  const snakeCase = normalized.replace(/\\s+/g, \"_\");\n  const kebabCase = normalized.replace(/\\s+/g, \"-\");\n\n  return { lowerCamelCase, snakeCase, kebabCase, normalized };\n};\n\nconst stringCaseVariantsAgentInfo: AgentFunctionInfo = {\n  name: \"stringCaseVariantsAgent\",\n  agent: stringCaseVariantsAgent,\n  mock: stringCaseVariantsAgent,\n  samples: [\n    {\n      inputs: { text: \"this is a pen\" },\n      params: {},\n      result: {\n        kebabCase: \"this-is-a-pen\",\n        lowerCamelCase: \"thisIsAPen\",\n        normalized: \"this is a pen\",\n        snakeCase: \"this_is_a_pen\",\n      },\n    },\n    {\n      inputs: { text: \"string case variants\" },\n      params: { suffix: \"agent\" },\n      result: {\n        kebabCase: \"string-case-variants-agent\",\n        lowerCamelCase: \"stringCaseVariantsAgent\",\n        normalized: \"string case variants agent\",\n        snakeCase: \"string_case_variants_agent\",\n      },\n    },\n  ],\n  description: \"Format String Cases agent\",\n  category: [\"string\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/string_agents/string_case_variants_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default stringCaseVariantsAgentInfo;\n","import type { AgentFunction, AgentFunctionInfo, AgentFunctionContext, StaticNodeData, NodeData, GraphData, ResultData, DefaultResultData } from \"graphai\";\nimport { GraphAI, assert, graphDataLatestVersion } from \"graphai\";\n\nimport type { GraphAISupressError, GraphAIOnError } from \"@graphai/agent_utils\";\n\ntype NestedAgentGeneratorOption = {\n  resultNodeId: string;\n};\nexport const nestedAgentGenerator: (\n  graphData: GraphData,\n  options?: NestedAgentGeneratorOption,\n) => (context: AgentFunctionContext) => Promise<ResultData<DefaultResultData> | GraphAIOnError> = (\n  graphData: GraphData,\n  options?: NestedAgentGeneratorOption,\n) => {\n  return async (context: AgentFunctionContext) => {\n    const { namedInputs, log, debugInfo, params, forNestedGraph } = context;\n    assert(!!forNestedGraph, \"Please update graphai to 0.5.19 or higher\");\n\n    const { agents, graphOptions, onLogCallback, callbacks } = forNestedGraph;\n    const { taskManager } = graphOptions;\n    const supressError = params.supressError ?? false;\n    if (taskManager) {\n      const status = taskManager.getStatus(false);\n      assert(status.concurrency > status.running, `nestedAgent: Concurrency is too low: ${status.concurrency}`);\n    }\n    assert(!!graphData, \"nestedAgent: graph is required\");\n\n    const { nodes } = graphData;\n    const newNodes = Object.keys(nodes).reduce((tmp: Record<string, NodeData>, key: string) => {\n      const node = nodes[key];\n      if (\"agent\" in node) {\n        tmp[key] = node;\n      } else {\n        const { value, update, isResult, console } = node;\n        tmp[key] = { value, update, isResult, console };\n      }\n      return tmp;\n    }, {});\n    const nestedGraphData = { ...graphData, nodes: newNodes, version: graphDataLatestVersion }; // deep enough copy\n\n    const nodeIds = Object.keys(namedInputs);\n    if (nodeIds.length > 0) {\n      nodeIds.forEach((nodeId) => {\n        if (nestedGraphData.nodes[nodeId] === undefined) {\n          // If the input node does not exist, automatically create a static node\n          nestedGraphData.nodes[nodeId] = { value: namedInputs[nodeId] };\n        } else {\n          // Otherwise, inject the proper data here (instead of calling injectTo method later)\n          if (namedInputs[nodeId] !== undefined) {\n            (nestedGraphData.nodes[nodeId] as StaticNodeData)[\"value\"] = namedInputs[nodeId];\n          }\n        }\n      });\n    }\n\n    try {\n      if (nestedGraphData.version === undefined && debugInfo.version) {\n        nestedGraphData.version = debugInfo.version;\n      }\n      const graphAI = new GraphAI(nestedGraphData, agents || {}, graphOptions);\n      // for backward compatibility. Remove 'if' later\n      if (onLogCallback) {\n        graphAI.onLogCallback = onLogCallback;\n      }\n      if (callbacks) {\n        graphAI.callbacks = callbacks;\n      }\n      debugInfo.subGraphs.set(graphAI.graphId, graphAI);\n      const results = await graphAI.run(false);\n      debugInfo.subGraphs.delete(graphAI.graphId);\n\n      log?.push(...graphAI.transactionLogs());\n\n      if (options && options.resultNodeId) {\n        return results[options.resultNodeId];\n      }\n      return results;\n    } catch (error) {\n      if (error instanceof Error && supressError) {\n        return {\n          onError: {\n            message: error.message,\n            error,\n          },\n        };\n      }\n      throw error;\n    }\n  };\n};\n\nexport const nestedAgent: AgentFunction<Partial<GraphAISupressError> & NestedAgentGeneratorOption> = async (context) => {\n  const { forNestedGraph, params } = context;\n  const { graphData } = forNestedGraph ?? { graphData: { nodes: {} } };\n  assert(!!graphData, \"No GraphData\");\n\n  return await nestedAgentGenerator(graphData, params)(context);\n};\n\nconst nestedAgentInfo: AgentFunctionInfo = {\n  name: \"nestedAgent\",\n  agent: nestedAgent,\n  mock: nestedAgent,\n  samples: [\n    {\n      inputs: {\n        message: \"hello\",\n      },\n      params: {},\n      result: {\n        test: [\"hello\"],\n      },\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"messages\" },\n            inputs: { messages: [\":message\"] },\n            isResult: true,\n          },\n        },\n      },\n    },\n    {\n      inputs: {\n        message: \"hello\",\n      },\n      params: {\n        resultNodeId: \"test\",\n      },\n      result: [\"hello\"],\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"messages\" },\n            inputs: { messages: [\":message\"] },\n            isResult: true,\n          },\n        },\n      },\n    },\n  ],\n  description: \"nested Agent\",\n  category: [\"graph\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/graph_agents/nested_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default nestedAgentInfo;\n","import { nestedAgentGenerator } from \"@/generator\";\nimport { graphDataLatestVersion, AgentFunctionInfo } from \"graphai\";\n\nconst stringUpdateTextGraph = {\n  version: graphDataLatestVersion,\n  nodes: {\n    newText: {\n      value: \"\",\n    },\n    oldText: {\n      value: \"\",\n    },\n    isNewText: {\n      if: \":newText\",\n      agent: \"copyAgent\",\n      inputs: {\n        text: \":newText\",\n      },\n    },\n    isOldText: {\n      unless: \":newText\",\n      agent: \"copyAgent\",\n      inputs: {\n        text: \":oldText\",\n      },\n    },\n    updatedText: {\n      agent: \"copyAgent\",\n      anyInput: true,\n      inputs: {\n        text: [\":isNewText.text\", \":isOldText.text\"],\n      },\n    },\n    resultText: {\n      isResult: true,\n      agent: \"copyAgent\",\n      anyInput: true,\n      inputs: {\n        text: \":updatedText.text.$0\",\n      },\n    },\n  },\n};\n\nconst stringUpdateTextAgent = nestedAgentGenerator(stringUpdateTextGraph, { resultNodeId: \"resultText\" });\n\nconst stringUpdateTextAgentInfo: AgentFunctionInfo = {\n  name: \"stringUpdateTextAgent\",\n  agent: stringUpdateTextAgent,\n  mock: stringUpdateTextAgent,\n  samples: [\n    {\n      inputs: { newText: \"new\", oldText: \"old\" },\n      params: {},\n      result: { text: \"new\" },\n    },\n    {\n      inputs: { newText: \"\", oldText: \"old\" },\n      params: {},\n      result: { text: \"old\" },\n    },\n    {\n      inputs: {},\n      params: {},\n      result: { text: \"\" },\n    },\n    {\n      inputs: { oldText: \"old\" },\n      params: {},\n      result: { text: \"old\" },\n    },\n  ],\n  description: \"\",\n  category: [],\n  author: \"\",\n  repository: \"\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/string_agents/string_update_text_agent.ts\",\n  package: \"@graphai/vanilla\",\n  tools: [],\n  license: \"\",\n  hasGraphData: true,\n};\n\nexport default stringUpdateTextAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport type { GraphAINullableText } from \"@graphai/agent_utils\";\n\nexport const consoleAgent: AgentFunction<null, unknown, GraphAINullableText> = async ({ namedInputs }) => {\n  const { text } = namedInputs;\n  console.info(text);\n  return {\n    text,\n  };\n};\n\nconst consoleAgentInfo: AgentFunctionInfo = {\n  name: \"consoleAgent\",\n  agent: consoleAgent,\n  mock: consoleAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      text: {\n        type: \"string\",\n        description: \"text\",\n      },\n    },\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      text: {\n        type: \"string\",\n        description: \"text\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: { text: \"hello\" },\n      params: {},\n      result: { text: \"hello\" },\n    },\n  ],\n  description: \"Just text to console.info\",\n  category: [\"string\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/string_agents/console_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default consoleAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { arrayValidate } from \"@graphai/agent_utils\";\nimport type { GraphAIArray, GraphAIArrayWithOptionalItemAndItems } from \"@graphai/agent_utils\";\n\nexport const pushAgent: AgentFunction<null, GraphAIArray, GraphAIArrayWithOptionalItemAndItems> = async ({ namedInputs }) => {\n  const extra_message = \" Set inputs: { array: :arrayNodeId, item: :itemNodeId }\";\n  arrayValidate(\"pushAgent\", namedInputs, extra_message);\n  const { item, items } = namedInputs;\n  assert(item !== undefined || items !== undefined, \"pushAgent: namedInputs.item and namedInputs.items are UNDEFINED!\" + extra_message);\n  assert(items === undefined || Array.isArray(items), \"pushAgent: namedInputs.items is not array!\");\n\n  const array = namedInputs.array.map((item: any) => item); // shallow copy\n  if (item !== undefined) {\n    array.push(item);\n  }\n  if (items) {\n    items.forEach((item) => {\n      array.push(item);\n    });\n  }\n  return {\n    array,\n  };\n};\n\nconst pushAgentInfo: AgentFunctionInfo = {\n  name: \"pushAgent\",\n  agent: pushAgent,\n  mock: pushAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"the array to push an item to\",\n      },\n      item: {\n        anyOf: [{ type: \"string\" }, { type: \"integer\" }, { type: \"object\" }, { type: \"array\" }, { type: \"boolean\" }],\n        description: \"the item push into the array\",\n      },\n      items: {\n        type: \"array\",\n        description: \"items push into the array\",\n      },\n    },\n    required: [\"array\"],\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: { array: [1, 2], item: 3 },\n      params: {},\n      result: { array: [1, 2, 3] },\n    },\n    {\n      inputs: { array: [true, false], item: false },\n      params: {},\n      result: { array: [true, false, false] },\n    },\n    {\n      inputs: { array: [{ apple: 1 }], item: { lemon: 2 } },\n      params: {},\n      result: { array: [{ apple: 1 }, { lemon: 2 }] },\n    },\n    {\n      inputs: { array: [{ apple: 1 }], items: [{ lemon: 2 }, { banana: 3 }] },\n      params: {},\n      result: { array: [{ apple: 1 }, { lemon: 2 }, { banana: 3 }] },\n    },\n  ],\n  description: \"push Agent\",\n  category: [\"array\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/array_agents/push_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default pushAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport { arrayValidate } from \"@graphai/agent_utils\";\nimport type { GraphAIArray, GraphAIArrayWithItem } from \"@graphai/agent_utils\";\n\nexport const popAgent: AgentFunction<null, GraphAIArrayWithItem, GraphAIArray> = async ({ namedInputs }) => {\n  arrayValidate(\"popAgent\", namedInputs);\n\n  const array = [...namedInputs.array]; // shallow copy\n  const item = array.pop();\n  return { array, item };\n};\n\nconst popAgentInfo: AgentFunctionInfo = {\n  name: \"popAgent\",\n  agent: popAgent,\n  mock: popAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"the array to pop an item from\",\n      },\n    },\n    required: [\"array\"],\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      item: {\n        anyOf: [{ type: \"string\" }, { type: \"integer\" }, { type: \"object\" }, { type: \"array\" }],\n        description: \"the item popped from the array\",\n      },\n      array: {\n        type: \"array\",\n        description: \"the remaining array\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: { array: [1, 2, 3] },\n      params: {},\n      result: {\n        array: [1, 2],\n        item: 3,\n      },\n    },\n    {\n      inputs: { array: [\"a\", \"b\", \"c\"] },\n      params: {},\n      result: {\n        array: [\"a\", \"b\"],\n        item: \"c\",\n      },\n    },\n    {\n      inputs: {\n        array: [1, 2, 3],\n        array2: [\"a\", \"b\", \"c\"],\n      },\n      params: {},\n      result: {\n        array: [1, 2],\n        item: 3,\n      },\n    },\n  ],\n  description: \"Pop Agent\",\n  category: [\"array\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/array_agents/pop_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default popAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport { arrayValidate } from \"@graphai/agent_utils\";\nimport type { GraphAIArrayWithItem, GraphAIArray } from \"@graphai/agent_utils\";\n\nexport const shiftAgent: AgentFunction<Record<string, any>, GraphAIArrayWithItem, GraphAIArray> = async ({ namedInputs }) => {\n  arrayValidate(\"shiftAgent\", namedInputs);\n\n  const array = namedInputs.array.map((item: any) => item); // shallow copy\n  const item = array.shift();\n  return { array, item };\n};\n\nconst shiftAgentInfo: AgentFunctionInfo = {\n  name: \"shiftAgent\",\n  agent: shiftAgent,\n  mock: shiftAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"the array to shift an item from\",\n      },\n    },\n    required: [\"array\"],\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      item: {\n        anyOf: [{ type: \"string\" }, { type: \"integer\" }, { type: \"object\" }, { type: \"array\" }],\n        description: \"the item shifted from the array\",\n      },\n      array: {\n        type: \"array\",\n        description: \"the remaining array\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: { array: [1, 2, 3] },\n      params: {},\n      result: {\n        array: [2, 3],\n        item: 1,\n      },\n    },\n    {\n      inputs: { array: [\"a\", \"b\", \"c\"] },\n      params: {},\n      result: {\n        array: [\"b\", \"c\"],\n        item: \"a\",\n      },\n    },\n  ],\n  description: \"shift Agent\",\n  category: [\"array\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/array_agents/shift_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default shiftAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport { arrayValidate } from \"@graphai/agent_utils\";\nimport type { GraphAIArray } from \"@graphai/agent_utils\";\n\nexport const arrayFlatAgent: AgentFunction<{ depth?: number }, GraphAIArray, GraphAIArray> = async ({ namedInputs, params }) => {\n  arrayValidate(\"arrayFlatAgent\", namedInputs);\n  const depth = params.depth ?? 1;\n\n  const array = namedInputs.array.map((item: any) => item); // shallow copy\n  return { array: array.flat(depth) };\n};\n\nconst arrayFlatAgentInfo: AgentFunctionInfo = {\n  name: \"arrayFlatAgent\",\n  agent: arrayFlatAgent,\n  mock: arrayFlatAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"The array to be flattened\",\n      },\n    },\n    required: [\"array\"],\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"flattened array\",\n      },\n    },\n  },\n  params: {\n    type: \"object\",\n    properties: {\n      depth: {\n        type: \"number\",\n        description: \"flattening depth\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: { array: [[1], [2], [3]] },\n      params: {},\n      result: {\n        array: [1, 2, 3],\n      },\n    },\n    {\n      inputs: { array: [[1], [2], [[3]]] },\n      params: {},\n      result: {\n        array: [1, 2, [3]],\n      },\n    },\n    {\n      inputs: { array: [[1], [2], [[3]]] },\n      params: { depth: 2 },\n      result: {\n        array: [1, 2, 3],\n      },\n    },\n    {\n      inputs: { array: [[\"a\"], [\"b\"], [\"c\"]] },\n      params: {},\n      result: {\n        array: [\"a\", \"b\", \"c\"],\n      },\n    },\n  ],\n  description: \"Array Flat Agent\",\n  category: [\"array\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/array_agents/array_flat_agent.ts\",\n  package: \"@graphai/vanilla\",\n  cacheType: \"pureAgent\",\n  license: \"MIT\",\n};\nexport default arrayFlatAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport { arrayValidate } from \"@graphai/agent_utils\";\nimport type { GraphAIArray, GraphAIText } from \"@graphai/agent_utils\";\n\nexport const arrayJoinAgent: AgentFunction<{ separator?: string; flat?: number }, GraphAIText, GraphAIArray> = async ({ namedInputs, params }) => {\n  arrayValidate(\"arrayJoinAgent\", namedInputs);\n  const separator = params.separator ?? \"\";\n  const { flat } = params;\n\n  const text = flat ? namedInputs.array.flat(flat).join(separator) : namedInputs.array.join(separator);\n  return { text };\n};\n\nconst arrayJoinAgentInfo: AgentFunctionInfo = {\n  name: \"arrayJoinAgent\",\n  agent: arrayJoinAgent,\n  mock: arrayJoinAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"array join\",\n      },\n    },\n    required: [\"array\"],\n  },\n  params: {\n    type: \"object\",\n    properties: {\n      separator: {\n        type: \"string\",\n        description: \"array join separator\",\n      },\n      flat: {\n        type: \"number\",\n        description: \"array flat depth\",\n      },\n    },\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      text: {\n        type: \"string\",\n        description: \"joined text\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: { array: [[1], [2], [3]] },\n      params: {},\n      result: {\n        text: \"123\",\n      },\n    },\n    {\n      inputs: { array: [[1], [2], [[3]]] },\n      params: {},\n      result: {\n        text: \"123\",\n      },\n    },\n    {\n      inputs: { array: [[\"a\"], [\"b\"], [\"c\"]] },\n      params: {},\n      result: {\n        text: \"abc\",\n      },\n    },\n    //\n    {\n      inputs: { array: [[1], [2], [3]] },\n      params: { separator: \"|\" },\n      result: {\n        text: \"1|2|3\",\n      },\n    },\n    {\n      inputs: { array: [[[1]], [[2], [3]]] },\n      params: { separator: \"|\" },\n      result: {\n        text: \"1|2,3\",\n      },\n    },\n    {\n      inputs: { array: [[[1]], [[2], [3]]] },\n      params: { separator: \"|\", flat: 1 },\n      result: {\n        text: \"1|2|3\",\n      },\n    },\n    {\n      inputs: { array: [[[[1]], [[2], [3]]]] },\n      params: { separator: \"|\", flat: 1 },\n      result: {\n        text: \"1|2,3\",\n      },\n    },\n    {\n      inputs: { array: [[[[1]], [[2], [3]]]] },\n      params: { separator: \"|\", flat: 2 },\n      result: {\n        text: \"1|2|3\",\n      },\n    },\n  ],\n  description: \"Array Join Agent\",\n  category: [\"array\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/array_agents/array_join_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default arrayJoinAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { isNamedInputs } from \"@graphai/agent_utils\";\nimport type { GraphAIItems } from \"@graphai/agent_utils\";\n\nexport const arrayToObjectAgent: AgentFunction<{ key: string }, GraphAIItems, Record<string, any>> = async ({ params, namedInputs }) => {\n  assert(isNamedInputs(namedInputs), \"arrayToObjectAgent: namedInputs is UNDEFINED!\");\n  const { items } = namedInputs;\n  const { key } = params;\n\n  assert(items !== undefined && Array.isArray(items), \"arrayToObjectAgent: namedInputs.items is not array!\");\n  assert(key !== undefined && key !== null, \"arrayToObjectAgent: params.key is UNDEFINED!\");\n\n  return namedInputs.items.reduce((tmp: Record<string, any>, current: Record<string, any>) => {\n    tmp[current[key]] = current;\n    return tmp;\n  }, {});\n};\n\nconst arrayToObjectAgentInfo: AgentFunctionInfo = {\n  name: \"arrayToObjectAgent\",\n  agent: arrayToObjectAgent,\n  mock: arrayToObjectAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      items: {\n        type: \"array\",\n        description: \"the array to pop an item from\",\n      },\n    },\n    required: [\"items\"],\n  },\n  output: {\n    type: \"object\",\n    properties: {\n      anyOf: [{ type: \"string\" }, { type: \"integer\" }, { type: \"object\" }, { type: \"array\" }],\n      description: \"the item popped from the array\",\n    },\n  },\n  samples: [\n    {\n      inputs: {\n        items: [\n          { id: 1, data: \"a\" },\n          { id: 2, data: \"b\" },\n        ],\n      },\n      params: { key: \"id\" },\n      result: {\n        \"1\": { id: 1, data: \"a\" },\n        \"2\": { id: 2, data: \"b\" },\n      },\n    },\n  ],\n  description: \"Array To Object Agent\",\n  category: [\"array\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/array_agents/array_to_object.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default arrayToObjectAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\n\n// This agent calculates the dot product of an array of vectors (A[]) and a vector (B),\n// typically used to calculate cosine similarity of embedding vectors.\n// Inputs:\n//  matrix: Two dimentional array of numbers.\n//  vector: One dimentional array of numbers.\n// Outputs:\n//  { contents: Array<number> } // array of docProduct of each vector (A[]) and vector B\nexport const dotProductAgent: AgentFunction<Record<never, never>, Array<number>, { matrix: Array<Array<number>>; vector: Array<number> }> = async ({\n  namedInputs,\n}) => {\n  assert(!!namedInputs, \"dotProductAgent: namedInputs is UNDEFINED!\");\n  const matrix = namedInputs.matrix as Array<Array<number>>;\n  const vector = namedInputs.vector as Array<number>;\n  if (matrix[0].length != vector.length) {\n    throw new Error(`dotProduct: Length of vectors do not match. ${matrix[0].length}, ${vector.length}`);\n  }\n  const contents = matrix.map((vector0) => {\n    return vector0.reduce((dotProduct: number, value, index) => {\n      return dotProduct + value * vector[index];\n    }, 0);\n  });\n  return contents;\n};\n\nconst dotProductAgentInfo: AgentFunctionInfo = {\n  name: \"dotProductAgent\",\n  agent: dotProductAgent,\n  mock: dotProductAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      matrix: {\n        type: \"array\",\n        description: \"two dimentional matrix\",\n        items: {\n          type: \"array\",\n          items: {\n            type: \"number\",\n          },\n        },\n      },\n      vector: {\n        type: \"array\",\n        description: \"the vector\",\n        items: {\n          type: \"number\",\n        },\n      },\n    },\n    required: [\"matrix\", \"vector\"],\n  },\n  output: {\n    type: \"array\",\n  },\n  samples: [\n    {\n      inputs: {\n        matrix: [\n          [1, 2],\n          [3, 4],\n          [5, 6],\n        ],\n        vector: [3, 2],\n      },\n      params: {},\n      result: [7, 17, 27],\n    },\n    {\n      inputs: {\n        matrix: [\n          [1, 2],\n          [2, 3],\n        ],\n        vector: [1, 2],\n      },\n      params: {},\n      result: [5, 8],\n    },\n  ],\n  description: \"dotProduct Agent\",\n  category: [\"matrix\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/matrix_agents/dot_product_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default dotProductAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\n\n// This agent returned a sorted array of one array (A) based on another array (B).\n// The default sorting order is \"decendant\".\n//\n// Parameters:\n//  acendant: Specifies if the sorting order should be acendant. The default is \"false\" (decendant).\n// Inputs:\n//  array: Array<any>; // array to be sorted\n//  values: Array<number>; // array of numbers for sorting\n//\nexport const sortByValuesAgent: AgentFunction<\n  {\n    assendant?: boolean;\n  },\n  Array<unknown>,\n  {\n    array: Array<unknown>;\n    values: Array<unknown>;\n  }\n> = async ({ params, namedInputs }) => {\n  assert(!!namedInputs, \"sortByValue: namedInputs is UNDEFINED!\");\n  assert(!!namedInputs.array, \"sortByValue: namedInputs.array is UNDEFINED!\");\n  assert(!!namedInputs.values, \"sortByValue: namedInputs.values is UNDEFINED!\");\n\n  const direction = (params?.assendant ?? false) ? -1 : 1;\n  const array: Array<any> = namedInputs.array;\n  const values: Array<any> = namedInputs.values;\n  const joined = array.map((item, index) => {\n    return { item, value: values[index] };\n  });\n  const contents = joined\n    .sort((a, b) => {\n      return (b.value - a.value) * direction;\n    })\n    .map((a) => {\n      return a.item;\n    });\n  return contents;\n};\n\nconst sortByValuesAgentInfo: AgentFunctionInfo = {\n  name: \"sortByValuesAgent\",\n  agent: sortByValuesAgent,\n  mock: sortByValuesAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"the array to sort\",\n      },\n      values: {\n        type: \"array\",\n        description: \"values associated with items in the array\",\n      },\n    },\n    required: [\"array\", \"values\"],\n  },\n  output: {\n    type: \"array\",\n  },\n  samples: [\n    {\n      inputs: {\n        array: [\"banana\", \"orange\", \"lemon\", \"apple\"],\n        values: [2, 5, 6, 4],\n      },\n      params: {},\n      result: [\"lemon\", \"orange\", \"apple\", \"banana\"],\n    },\n    {\n      inputs: {\n        array: [\"banana\", \"orange\", \"lemon\", \"apple\"],\n        values: [2, 5, 6, 4],\n      },\n      params: {\n        assendant: true,\n      },\n      result: [\"banana\", \"apple\", \"orange\", \"lemon\"],\n    },\n  ],\n  description: \"sortByValues Agent\",\n  category: [\"matrix\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/matrix_agents/sort_by_values_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default sortByValuesAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\n\nexport const echoAgent: AgentFunction = async ({ params, filterParams }) => {\n  if (params.filterParams) {\n    return filterParams;\n  }\n  return params;\n};\n\n// for test and document\nconst echoAgentInfo: AgentFunctionInfo = {\n  name: \"echoAgent\",\n  agent: echoAgent,\n  mock: echoAgent,\n  samples: [\n    {\n      inputs: {},\n      params: { text: \"this is test\" },\n      result: { text: \"this is test\" },\n    },\n    {\n      inputs: {},\n      params: {\n        text: \"If you add filterParams option, it will respond to filterParams\",\n        filterParams: true,\n      },\n      result: {},\n    },\n  ],\n  description: \"Echo agent\",\n  category: [\"test\"],\n  cacheType: \"pureAgent\",\n  author: \"Satoshi Nakajima\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/test_agents/echo_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\n\nexport default echoAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\n\nexport const countingAgent: AgentFunction<{ count: number }, { list: number[] }> = async ({ params }) => {\n  return {\n    list: new Array(params.count).fill(undefined).map((_, i) => {\n      return i;\n    }),\n  };\n};\n\n// for test and document\nconst countingAgentInfo: AgentFunctionInfo = {\n  name: \"countingAgent\",\n  agent: countingAgent,\n  mock: countingAgent,\n  samples: [\n    {\n      inputs: {},\n      params: { count: 4 },\n      result: { list: [0, 1, 2, 3] },\n    },\n  ],\n  description: \"Counting agent\",\n  category: [\"test\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/test_agents/counting_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\n\nexport default countingAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\n\nexport const copyMessageAgent: AgentFunction<{ count: number; message: string }, { messages: string[] }> = async ({ params }) => {\n  return {\n    messages: new Array(params.count).fill(undefined).map(() => {\n      return params.message;\n    }),\n  };\n};\n\n// for test and document\nconst copyMessageAgentInfo: AgentFunctionInfo = {\n  name: \"copyMessageAgent\",\n  agent: copyMessageAgent,\n  mock: copyMessageAgent,\n  samples: [\n    {\n      inputs: {},\n      params: { count: 4, message: \"hello\" },\n      result: { messages: [\"hello\", \"hello\", \"hello\", \"hello\"] },\n    },\n  ],\n  description: \"CopyMessage agent\",\n  category: [\"test\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/test_agents/copy_message_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\n\nexport default copyMessageAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { isNamedInputs } from \"@graphai/agent_utils\";\n\nexport const copy2ArrayAgent: AgentFunction<{ count: number }> = async ({ namedInputs, params }) => {\n  assert(isNamedInputs(namedInputs), \"copy2ArrayAgent: namedInputs is UNDEFINED!\");\n  const input = namedInputs.item ? namedInputs.item : namedInputs;\n  return new Array(params.count).fill(undefined).map(() => {\n    return input;\n  });\n};\n\n// for test and document\nconst copy2ArrayAgentInfo: AgentFunctionInfo = {\n  name: \"copy2ArrayAgent\",\n  agent: copy2ArrayAgent,\n  mock: copy2ArrayAgent,\n  samples: [\n    {\n      inputs: { item: { message: \"hello\" } },\n      params: { count: 10 },\n      result: [\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n      ],\n    },\n    {\n      inputs: { message: \"hello\" },\n      params: { count: 10 },\n      result: [\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n        { message: \"hello\" },\n      ],\n    },\n    {\n      inputs: { item: \"hello\" },\n      params: { count: 10 },\n      result: [\"hello\", \"hello\", \"hello\", \"hello\", \"hello\", \"hello\", \"hello\", \"hello\", \"hello\", \"hello\"],\n    },\n  ],\n  description: \"Copy2Array agent\",\n  category: [\"test\"],\n  cacheType: \"pureAgent\",\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/test_agents/copy2array_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\n\nexport default copy2ArrayAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport { arrayValidate } from \"@graphai/agent_utils\";\nimport type { GraphAIArray } from \"@graphai/agent_utils\";\n\nexport const mergeNodeIdAgent: AgentFunction<null, Record<string, unknown>, GraphAIArray<Record<string, unknown>>> = async ({\n  debugInfo: { nodeId },\n  namedInputs,\n}) => {\n  arrayValidate(\"mergeNodeIdAgent\", namedInputs);\n\n  const dataSet = namedInputs.array;\n\n  return dataSet.reduce(\n    (tmp, input) => {\n      return { ...tmp, ...input };\n    },\n    { [nodeId]: \"hello\" },\n  );\n};\n\n// for test and document\nconst mergeNodeIdAgentInfo: AgentFunctionInfo = {\n  name: \"mergeNodeIdAgent\",\n  agent: mergeNodeIdAgent,\n  mock: mergeNodeIdAgent,\n  samples: [\n    {\n      inputs: { array: [{ message: \"hello\" }] },\n      params: {},\n      result: {\n        message: \"hello\",\n        test: \"hello\",\n      },\n    },\n  ],\n  description: \"merge node id agent\",\n  category: [\"test\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/test_agents/merge_node_id_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\n\nexport default mergeNodeIdAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, sleep } from \"graphai\";\n\nexport const streamMockAgent: AgentFunction<{ sleep?: number; message?: string }, { message: string }, { message: string }> = async ({\n  params,\n  filterParams,\n  namedInputs,\n}) => {\n  const message = params.message ?? namedInputs.message ?? \"\";\n\n  for await (const token of message.split(\"\")) {\n    if (filterParams.streamTokenCallback) {\n      filterParams.streamTokenCallback(token);\n    }\n    await sleep(params.sleep || 100);\n  }\n\n  return { message };\n};\n\n// for test and document\nconst streamMockAgentInfo: AgentFunctionInfo = {\n  name: \"streamMockAgent\",\n  agent: streamMockAgent,\n  mock: streamMockAgent,\n  inputs: {\n    anyOf: [\n      {\n        type: \"object\",\n        properties: {\n          message: {\n            type: \"string\",\n            description: \"streaming message\",\n          },\n        },\n      },\n      {\n        type: \"array\",\n      },\n    ],\n  },\n  samples: [\n    {\n      inputs: {},\n      params: { message: \"this is params test\" },\n      result: { message: \"this is params test\" },\n    },\n    {\n      inputs: { message: \"this is named inputs test\" },\n      params: {},\n      result: { message: \"this is named inputs test\" },\n    },\n  ],\n  description: \"Stream mock agent\",\n  category: [\"test\"],\n  author: \"Isamu Arimoto\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/test_agents/stream_mock_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n  stream: true,\n};\n\nexport default streamMockAgentInfo;\n","import { GraphAI, AgentFunction, AgentFunctionInfo, assert, graphDataLatestVersion } from \"graphai\";\nimport type { GraphAISupressError } from \"@graphai/agent_utils\";\n\nexport const mapAgent: AgentFunction<\n  Partial<\n    GraphAISupressError & {\n      limit: number;\n      resultAll: boolean;\n      compositeResult: boolean;\n      compositeResultKey: string;\n      rowKey: string;\n      expandKeys: string[];\n    }\n  >,\n  Record<string, any>\n> = async ({ params, namedInputs, log, debugInfo, forNestedGraph }) => {\n  assert(!!forNestedGraph, \"Please update graphai to 0.5.19 or higher\");\n\n  const { limit, resultAll, compositeResult, compositeResultKey, supressError, rowKey, expandKeys } = params;\n  const { agents, graphData, graphOptions, onLogCallback, callbacks } = forNestedGraph;\n  const { taskManager } = graphOptions;\n\n  if (taskManager) {\n    const status = taskManager.getStatus();\n    assert(status.concurrency > status.running, `mapAgent: Concurrency is too low: ${status.concurrency}`);\n  }\n\n  assert(!!namedInputs.rows, \"mapAgent: rows property is required in namedInput\");\n  assert(!!graphData, \"mapAgent: graph is required\");\n\n  const rows = namedInputs.rows.map((item: any) => item);\n  if (limit && limit < rows.length) {\n    rows.length = limit; // trim\n  }\n  const rowInputKey = rowKey ?? \"row\";\n  const { nodes } = graphData;\n  const nestedGraphData = { ...graphData, nodes: { ...nodes }, version: graphDataLatestVersion }; // deep enough copy\n\n  const nodeIds = Object.keys(namedInputs);\n  nestedGraphData.nodes[\"__mapIndex\"] = {};\n  nodeIds.forEach((nodeId) => {\n    const mappedNodeId = nodeId === \"rows\" ? rowInputKey : nodeId;\n    if (nestedGraphData.nodes[mappedNodeId] === undefined) {\n      // If the input node does not exist, automatically create a static node\n      nestedGraphData.nodes[mappedNodeId] = { value: namedInputs[nodeId] };\n    } else if (!(\"agent\" in nestedGraphData.nodes[mappedNodeId])) {\n      // Otherwise, inject the proper data here (instead of calling injectTo method later)\n      nestedGraphData.nodes[mappedNodeId][\"value\"] = namedInputs[nodeId];\n    }\n  });\n\n  try {\n    if (nestedGraphData.version === undefined && debugInfo.version) {\n      nestedGraphData.version = debugInfo.version;\n    }\n    const graphs: Array<GraphAI> = rows.map((row: any, index: number) => {\n      const graphAI = new GraphAI(nestedGraphData, agents || {}, graphOptions);\n      debugInfo.subGraphs.set(graphAI.graphId, graphAI);\n      graphAI.injectValue(rowInputKey, row, \"__mapAgent_inputs__\");\n      graphAI.injectValue(\"__mapIndex\", index, \"__mapAgent_inputs__\");\n      if (expandKeys && expandKeys.length > 0) {\n        expandKeys.map((expandKey) => {\n          graphAI.injectValue(expandKey, namedInputs[expandKey]?.[index]);\n        });\n      }\n      // for backward compatibility. Remove 'if' later\n      if (onLogCallback) {\n        graphAI.onLogCallback = onLogCallback;\n      }\n      if (callbacks) {\n        graphAI.callbacks = callbacks;\n      }\n      return graphAI;\n    });\n\n    const runs = graphs.map((graph) => {\n      return graph.run(resultAll);\n    });\n    const results = await Promise.all(runs);\n    const nodeIds = Object.keys(results[0]);\n    // assert(nodeIds.length > 0, \"mapAgent: no return values (missing isResult)\");\n    graphs.map((graph) => {\n      debugInfo.subGraphs.delete(graph.graphId);\n    });\n\n    if (log) {\n      const logs = graphs.map((graph, index) => {\n        return graph.transactionLogs().map((log) => {\n          log.mapIndex = index;\n          return log;\n        });\n      });\n      log.push(...logs.flat());\n    }\n\n    if (compositeResult || compositeResultKey) {\n      const _compositeResult = nodeIds.reduce((tmp: Record<string, Array<any>>, nodeId) => {\n        tmp[nodeId] = results.map((result) => {\n          return result[nodeId];\n        });\n        return tmp;\n      }, {});\n      if (compositeResultKey) {\n        return _compositeResult[compositeResultKey];\n      }\n      return _compositeResult;\n    }\n    return results;\n  } catch (error) {\n    if (error instanceof Error && supressError) {\n      return {\n        onError: {\n          message: error.message,\n          error,\n        },\n      };\n    }\n    throw error;\n  }\n};\n\nconst mapAgentInfo: AgentFunctionInfo = {\n  name: \"mapAgent\",\n  agent: mapAgent,\n  mock: mapAgent,\n  samples: [\n    {\n      inputs: {\n        rows: [\"apple\", \"orange\", \"banana\", \"lemon\"],\n        color: [\"red\", \"orange\", \"yellow\", \"yellow\"],\n      },\n      params: {\n        compositeResult: true,\n        expandKeys: [\"color\"],\n      },\n      graph: {\n        version: 0.5,\n        nodes: {\n          node2: {\n            agent: \"copyAgent\",\n            inputs: { a: \":row\", b: \":color\" },\n            isResult: true,\n          },\n        },\n      },\n      result: {\n        node2: [\n          {\n            a: \"apple\",\n            b: \"red\",\n          },\n          {\n            a: \"orange\",\n            b: \"orange\",\n          },\n          {\n            a: \"banana\",\n            b: \"yellow\",\n          },\n          {\n            a: \"lemon\",\n            b: \"yellow\",\n          },\n        ],\n      },\n    },\n    {\n      inputs: {\n        rows: [1, 2],\n      },\n      params: {},\n      result: [{ test: [1] }, { test: [2] }],\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"rows\" },\n            inputs: { rows: [\":row\"] },\n            isResult: true,\n          },\n        },\n      },\n    },\n    {\n      inputs: {\n        rows: [1, 2],\n      },\n      params: { rowKey: \"myKey\" },\n      result: [{ test: [1] }, { test: [2] }],\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"rows\" },\n            inputs: { rows: [\":myKey\"] },\n            isResult: true,\n          },\n        },\n      },\n    },\n    {\n      inputs: {\n        rows: [\"apple\", \"orange\", \"banana\", \"lemon\", \"melon\", \"pineapple\", \"tomato\"],\n      },\n      params: {},\n      graph: {\n        nodes: {\n          node2: {\n            agent: \"stringTemplateAgent\",\n            params: {\n              template: \"I love ${word}.\",\n            },\n            inputs: { word: \":row\" },\n            isResult: true,\n          },\n        },\n      },\n      result: [\n        { node2: \"I love apple.\" },\n        { node2: \"I love orange.\" },\n        { node2: \"I love banana.\" },\n        { node2: \"I love lemon.\" },\n        { node2: \"I love melon.\" },\n        { node2: \"I love pineapple.\" },\n        { node2: \"I love tomato.\" },\n      ],\n    },\n    {\n      inputs: {\n        rows: [{ fruit: \"apple\" }, { fruit: \"orange\" }],\n      },\n      params: {},\n      graph: {\n        nodes: {\n          node2: {\n            agent: \"stringTemplateAgent\",\n            params: {\n              template: \"I love ${item}.\",\n            },\n            inputs: { item: \":row.fruit\" },\n            isResult: true,\n          },\n        },\n      },\n      result: [{ node2: \"I love apple.\" }, { node2: \"I love orange.\" }],\n    },\n    {\n      inputs: {\n        rows: [{ fruit: \"apple\" }, { fruit: \"orange\" }],\n        name: \"You\",\n        verb: \"like\",\n      },\n      params: {},\n      graph: {\n        nodes: {\n          node2: {\n            agent: \"stringTemplateAgent\",\n            params: {\n              template: \"${name} ${verb} ${fruit}.\",\n            },\n            inputs: { fruit: \":row.fruit\", name: \":name\", verb: \":verb\" },\n            isResult: true,\n          },\n        },\n      },\n      result: [{ node2: \"You like apple.\" }, { node2: \"You like orange.\" }],\n    },\n    {\n      inputs: {\n        rows: [1, 2],\n      },\n      params: {\n        resultAll: true,\n      },\n      result: [\n        {\n          __mapIndex: 0,\n          test: [1],\n          row: 1,\n        },\n        {\n          __mapIndex: 1,\n          test: [2],\n          row: 2,\n        },\n      ],\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"rows\" },\n            inputs: { rows: [\":row\"] },\n          },\n        },\n      },\n    },\n    {\n      inputs: {\n        rows: [1, 2],\n      },\n      params: {\n        resultAll: true,\n      },\n      result: [\n        {\n          __mapIndex: 0,\n          map: [\n            {\n              test: 1,\n            },\n            {\n              test: 1,\n            },\n          ],\n          row: 1,\n          test: 1,\n        },\n        {\n          __mapIndex: 1,\n          map: [\n            {\n              test: 2,\n            },\n            {\n              test: 2,\n            },\n          ],\n          test: 2,\n          row: 2,\n        },\n      ],\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"row\" },\n            inputs: { row: \":row\" },\n          },\n          map: {\n            agent: \"mapAgent\",\n            inputs: { rows: [\":test\", \":test\"] },\n            graph: {\n              nodes: {\n                test: {\n                  isResult: true,\n                  agent: \"copyAgent\",\n                  params: { namedKey: \"row\" },\n                  inputs: { row: \":row\" },\n                },\n              },\n            },\n          },\n        },\n      },\n    },\n\n    // old response\n    {\n      inputs: {\n        rows: [1, 2],\n      },\n      params: {\n        compositeResult: true,\n      },\n      result: {\n        test: [[1], [2]],\n      },\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"rows\" },\n            inputs: { rows: [\":row\"] },\n            isResult: true,\n          },\n        },\n      },\n    },\n    {\n      inputs: {\n        rows: [\"apple\", \"orange\", \"banana\", \"lemon\", \"melon\", \"pineapple\", \"tomato\"],\n      },\n      params: {\n        compositeResult: true,\n      },\n      graph: {\n        nodes: {\n          node2: {\n            agent: \"stringTemplateAgent\",\n            params: {\n              template: \"I love ${row}.\",\n            },\n            inputs: { row: \":row\" },\n            isResult: true,\n          },\n        },\n      },\n      result: {\n        node2: [\"I love apple.\", \"I love orange.\", \"I love banana.\", \"I love lemon.\", \"I love melon.\", \"I love pineapple.\", \"I love tomato.\"],\n      },\n    },\n    {\n      inputs: {\n        rows: [\"apple\", \"orange\", \"banana\", \"lemon\", \"melon\", \"pineapple\", \"tomato\"],\n      },\n      params: {\n        compositeResult: true,\n        compositeResultKey: \"node2\",\n      },\n      graph: {\n        nodes: {\n          node2: {\n            agent: \"stringTemplateAgent\",\n            params: {\n              template: \"I love ${row}.\",\n            },\n            inputs: { row: \":row\" },\n            isResult: true,\n          },\n        },\n      },\n      result: [\"I love apple.\", \"I love orange.\", \"I love banana.\", \"I love lemon.\", \"I love melon.\", \"I love pineapple.\", \"I love tomato.\"],\n    },\n    {\n      inputs: {\n        rows: [1, 2],\n      },\n      params: {\n        resultAll: true,\n        compositeResult: true,\n      },\n      result: {\n        test: [[1], [2]],\n        __mapIndex: [0, 1],\n        row: [1, 2],\n      },\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"rows\" },\n            inputs: { rows: [\":row\"] },\n          },\n        },\n      },\n    },\n    {\n      inputs: {\n        rows: [1, 2],\n      },\n      params: {\n        resultAll: true,\n        compositeResult: true,\n      },\n      result: {\n        __mapIndex: [0, 1],\n        test: [[1], [2]],\n        map: [\n          {\n            test: [[[1]], [[1]]],\n          },\n          {\n            test: [[[2]], [[2]]],\n          },\n        ],\n        row: [1, 2],\n      },\n      graph: {\n        nodes: {\n          test: {\n            agent: \"copyAgent\",\n            params: { namedKey: \"rows\" },\n            inputs: { rows: [\":row\"] },\n          },\n          map: {\n            agent: \"mapAgent\",\n            inputs: { rows: [\":test\", \":test\"] },\n            params: {\n              compositeResult: true,\n            },\n            graph: {\n              nodes: {\n                test: {\n                  isResult: true,\n                  agent: \"copyAgent\",\n                  params: { namedKey: \"rows\" },\n                  inputs: { rows: [\":row\"] },\n                },\n              },\n            },\n          },\n        },\n      },\n    },\n  ],\n  description: \"Map Agent\",\n  category: [\"graph\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/graph_agents/map_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default mapAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { isNamedInputs } from \"@graphai/agent_utils\";\nimport type { GraphAIArray, GraphAIFlatResponse, GraphAIData } from \"@graphai/agent_utils\";\n\ntype ResponseData = Record<string, number>;\n\nexport const totalAgent: AgentFunction<Partial<GraphAIFlatResponse>, ResponseData | GraphAIData<ResponseData>, GraphAIArray<Record<string, number>>> = async ({\n  namedInputs,\n  params,\n}) => {\n  const { flatResponse } = params;\n\n  assert(isNamedInputs(namedInputs), \"totalAgent: namedInputs is UNDEFINED! Set inputs: { array: :arrayNodeId }\");\n  assert(!!namedInputs?.array, \"totalAgent: namedInputs.array is UNDEFINED! Set inputs: { array: :arrayNodeId }\");\n\n  const response = namedInputs.array.reduce((result, input) => {\n    const inputArray = Array.isArray(input) ? input : [input];\n    inputArray.forEach((innerInput) => {\n      Object.keys(innerInput).forEach((key) => {\n        const value = innerInput[key];\n        if (result[key]) {\n          result[key] += value;\n        } else {\n          result[key] = value;\n        }\n      });\n    });\n    return result;\n  }, {});\n  if (flatResponse) {\n    return response;\n  }\n  return { data: response };\n};\n\n//\nconst totalAgentInfo: AgentFunctionInfo = {\n  name: \"totalAgent\",\n  agent: totalAgent,\n  mock: totalAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"the array\",\n      },\n    },\n    required: [\"array\"],\n  },\n  output: {\n    type: \"object\",\n  },\n  samples: [\n    {\n      inputs: { array: [{ a: 1 }, { a: 2 }, { a: 3 }] },\n      params: {},\n      result: { data: { a: 6 } },\n    },\n    {\n      inputs: { array: [[{ a: 1, b: -1 }, { c: 10 }], [{ a: 2, b: -1 }], [{ a: 3, b: -2 }, { d: -10 }]] },\n      params: {},\n      result: { data: { a: 6, b: -4, c: 10, d: -10 } },\n    },\n    {\n      inputs: { array: [{ a: 1 }] },\n      params: {},\n      result: { data: { a: 1 } },\n    },\n    {\n      inputs: { array: [{ a: 1 }, { a: 2 }] },\n      params: {},\n      result: { data: { a: 3 } },\n    },\n    {\n      inputs: { array: [{ a: 1 }, { a: 2 }, { a: 3 }] },\n      params: {},\n      result: { data: { a: 6 } },\n    },\n    {\n      inputs: {\n        array: [\n          { a: 1, b: 1 },\n          { a: 2, b: 2 },\n          { a: 3, b: 0 },\n        ],\n      },\n      params: {},\n      result: { data: { a: 6, b: 3 } },\n    },\n    {\n      inputs: { array: [{ a: 1 }, { a: 2, b: 2 }, { a: 3, b: 0 }] },\n      params: {},\n      result: { data: { a: 6, b: 2 } },\n    },\n\n    {\n      inputs: { array: [{ a: 1 }, { a: 2 }, { a: 3 }] },\n      params: { flatResponse: true },\n      result: { a: 6 },\n    },\n    {\n      inputs: { array: [[{ a: 1, b: -1 }, { c: 10 }], [{ a: 2, b: -1 }], [{ a: 3, b: -2 }, { d: -10 }]] },\n      params: { flatResponse: true },\n      result: { a: 6, b: -4, c: 10, d: -10 },\n    },\n    {\n      inputs: { array: [{ a: 1 }] },\n      params: { flatResponse: true },\n      result: { a: 1 },\n    },\n    {\n      inputs: { array: [{ a: 1 }, { a: 2 }] },\n      params: { flatResponse: true },\n      result: { a: 3 },\n    },\n    {\n      inputs: { array: [{ a: 1 }, { a: 2 }, { a: 3 }] },\n      params: { flatResponse: true },\n      result: { a: 6 },\n    },\n    {\n      inputs: {\n        array: [\n          { a: 1, b: 1 },\n          { a: 2, b: 2 },\n          { a: 3, b: 0 },\n        ],\n      },\n      params: { flatResponse: true },\n      result: { a: 6, b: 3 },\n    },\n    {\n      inputs: { array: [{ a: 1 }, { a: 2, b: 2 }, { a: 3, b: 0 }] },\n      params: { flatResponse: true },\n      result: { a: 6, b: 2 },\n    },\n  ],\n  description: \"Returns the sum of input values\",\n  category: [\"data\"],\n  author: \"Satoshi Nakajima\",\n  repository: \"https://github.com/snakajima/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/data_agents/total_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default totalAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { isNamedInputs } from \"@graphai/agent_utils\";\nimport type { GraphAIArray, GraphAIResult, GraphAIFlatResponse } from \"@graphai/agent_utils\";\n\nexport const dataSumTemplateAgent: AgentFunction<Partial<GraphAIFlatResponse>, number | GraphAIResult<number>, GraphAIArray<number>> = async ({\n  namedInputs,\n  params,\n}) => {\n  const { flatResponse } = params;\n\n  assert(isNamedInputs(namedInputs), \"dataSumTemplateAgent: namedInputs is UNDEFINED! Set inputs: { array: :arrayNodeId }\");\n  assert(!!namedInputs?.array, \"dataSumTemplateAgent: namedInputs.array is UNDEFINED! Set inputs: { array: :arrayNodeId }\");\n\n  const sum = namedInputs.array.reduce((tmp, input) => {\n    return tmp + input;\n  }, 0);\n  if (flatResponse) {\n    return sum;\n  }\n  return { result: sum };\n};\n\nconst dataSumTemplateAgentInfo: AgentFunctionInfo = {\n  name: \"dataSumTemplateAgent\",\n  agent: dataSumTemplateAgent,\n  mock: dataSumTemplateAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"the array of numbers to calculate the sum of\",\n        items: {\n          type: \"integer\",\n        },\n      },\n    },\n    required: [\"array\"],\n  },\n  output: {\n    type: \"number\",\n  },\n  samples: [\n    {\n      inputs: { array: [1] },\n      params: {},\n      result: { result: 1 },\n    },\n    {\n      inputs: { array: [1, 2] },\n      params: {},\n      result: { result: 3 },\n    },\n    {\n      inputs: { array: [1, 2, 3] },\n      params: {},\n      result: { result: 6 },\n    },\n\n    {\n      inputs: { array: [1] },\n      params: { flatResponse: true },\n      result: 1,\n    },\n    {\n      inputs: { array: [1, 2] },\n      params: { flatResponse: true },\n      result: 3,\n    },\n    {\n      inputs: { array: [1, 2, 3] },\n      params: { flatResponse: true },\n      result: 6,\n    },\n  ],\n  description: \"Returns the sum of input values\",\n  category: [\"data\"],\n  author: \"Satoshi Nakajima\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/data_agents/data_sum_template_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default dataSumTemplateAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport type { GraphAIWithOptionalArrayAndItem } from \"@graphai/agent_utils\";\n\nconst applyFilter = (\n  object: any,\n  index: number,\n  arrayInputs: any,\n  include: Array<string> | undefined,\n  exclude: Array<string> | undefined,\n  alter: Record<string, Record<string, string>> | undefined,\n  inject: Array<Record<string, any>> | undefined,\n  swap: Record<string, string> | undefined,\n  inspect: Array<Record<string, any>> | undefined,\n) => {\n  const propIds = include ? include : Object.keys(object);\n  const excludeSet = new Set(exclude ?? []);\n  const result = propIds.reduce((tmp: Record<string, any>, propId) => {\n    if (!excludeSet.has(propId)) {\n      const mapping = alter && alter[propId];\n      if (mapping && mapping[object[propId]]) {\n        tmp[propId] = mapping[object[propId]];\n      } else {\n        tmp[propId] = object[propId];\n      }\n    }\n    return tmp;\n  }, {});\n\n  if (inject) {\n    inject.forEach((item) => {\n      if (item.index === undefined || item.index === index) {\n        result[item.propId] = arrayInputs[item.from];\n      }\n    });\n  }\n  if (inspect) {\n    inspect.forEach((item) => {\n      const value = arrayInputs[item.from ?? 1]; // default is arrayInputs[1]\n      if (item.equal) {\n        result[item.propId] = item.equal === value;\n      } else if (item.notEqual) {\n        result[item.propId] = item.notEqual !== value;\n      }\n    });\n  }\n  if (swap) {\n    Object.keys(swap).forEach((key) => {\n      const tmp = result[key];\n      result[key] = result[swap[key]];\n      result[swap[key]] = tmp;\n    });\n  }\n  return result;\n};\n\nexport const propertyFilterAgent: AgentFunction<\n  {\n    include?: Array<string>;\n    exclude?: Array<string>;\n    alter?: Record<string, Record<string, string>>;\n    inject?: Array<Record<string, any>>;\n    inspect?: Array<Record<string, any>>;\n    swap?: Record<string, string>;\n  },\n  unknown,\n  GraphAIWithOptionalArrayAndItem\n> = async ({ namedInputs, params }) => {\n  const { include, exclude, alter, inject, swap, inspect } = params;\n  const { array, item } = namedInputs;\n  if (array) {\n    // This is advanced usage, including \"inject\" and \"inspect\", which uses\n    // array[1], array[2], ...\n    const [target] = array; // Extract the first one\n    if (Array.isArray(target)) {\n      return target.map((item, index) => applyFilter(item, index, array, include, exclude, alter, inject, swap, inspect));\n    }\n    return applyFilter(target, 0, array, include, exclude, alter, inject, swap, inspect);\n  } else if (item) {\n    return applyFilter(item, 0, [], include, exclude, alter, inject, swap, inspect);\n  }\n  return false;\n};\n\nconst testInputs = {\n  array: [\n    [\n      { color: \"red\", model: \"Model 3\", type: \"EV\", maker: \"Tesla\", range: 300 },\n      { color: \"blue\", model: \"Model Y\", type: \"EV\", maker: \"Tesla\", range: 400 },\n    ],\n    \"Tesla Motors\",\n  ],\n};\n\nconst propertyFilterAgentInfo: AgentFunctionInfo = {\n  name: \"propertyFilterAgent\",\n  agent: propertyFilterAgent,\n  mock: propertyFilterAgent,\n  inputs: {\n    type: \"object\",\n  },\n  output: {\n    type: \"any\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"the array to apply filter\",\n      },\n      item: {\n        type: \"object\",\n        description: \"the object to apply filter\",\n      },\n    },\n  },\n  samples: [\n    {\n      inputs: { array: [testInputs.array[0][0]] },\n      params: { include: [\"color\", \"model\"] },\n      result: { color: \"red\", model: \"Model 3\" },\n    },\n    {\n      inputs: { item: testInputs.array[0][0] },\n      params: { include: [\"color\", \"model\"] },\n      result: { color: \"red\", model: \"Model 3\" },\n    },\n    {\n      inputs: testInputs,\n      params: { include: [\"color\", \"model\"] },\n      result: [\n        { color: \"red\", model: \"Model 3\" },\n        { color: \"blue\", model: \"Model Y\" },\n      ],\n    },\n    {\n      inputs: testInputs,\n      params: { exclude: [\"color\", \"model\"] },\n      result: [\n        { type: \"EV\", maker: \"Tesla\", range: 300 },\n        { type: \"EV\", maker: \"Tesla\", range: 400 },\n      ],\n    },\n    {\n      inputs: { item: testInputs.array[0][0] },\n      params: { exclude: [\"color\", \"model\"] },\n      result: { type: \"EV\", maker: \"Tesla\", range: 300 },\n    },\n    {\n      inputs: testInputs,\n      params: { alter: { color: { red: \"blue\", blue: \"red\" } } },\n      result: [\n        {\n          color: \"blue\",\n          model: \"Model 3\",\n          type: \"EV\",\n          maker: \"Tesla\",\n          range: 300,\n        },\n        {\n          color: \"red\",\n          model: \"Model Y\",\n          type: \"EV\",\n          maker: \"Tesla\",\n          range: 400,\n        },\n      ],\n    },\n    {\n      inputs: { item: testInputs.array[0][0] },\n      params: { alter: { color: { red: \"blue\", blue: \"red\" } } },\n      result: {\n        color: \"blue\",\n        model: \"Model 3\",\n        type: \"EV\",\n        maker: \"Tesla\",\n        range: 300,\n      },\n    },\n    {\n      inputs: testInputs,\n      params: { swap: { maker: \"model\" } },\n      result: [\n        {\n          color: \"red\",\n          model: \"Tesla\",\n          type: \"EV\",\n          maker: \"Model 3\",\n          range: 300,\n        },\n        {\n          color: \"blue\",\n          model: \"Tesla\",\n          type: \"EV\",\n          maker: \"Model Y\",\n          range: 400,\n        },\n      ],\n    },\n    {\n      inputs: { item: testInputs.array[0][0] },\n      params: { swap: { maker: \"model\" } },\n      result: {\n        color: \"red\",\n        model: \"Tesla\",\n        type: \"EV\",\n        maker: \"Model 3\",\n        range: 300,\n      },\n    },\n    {\n      inputs: testInputs,\n      params: { inject: [{ propId: \"maker\", from: 1 }] },\n      result: [\n        {\n          color: \"red\",\n          model: \"Model 3\",\n          type: \"EV\",\n          maker: \"Tesla Motors\",\n          range: 300,\n        },\n        {\n          color: \"blue\",\n          model: \"Model Y\",\n          type: \"EV\",\n          maker: \"Tesla Motors\",\n          range: 400,\n        },\n      ],\n    },\n    {\n      inputs: testInputs,\n      params: { inject: [{ propId: \"maker\", from: 1, index: 0 }] },\n      result: [\n        {\n          color: \"red\",\n          model: \"Model 3\",\n          type: \"EV\",\n          maker: \"Tesla Motors\",\n          range: 300,\n        },\n        {\n          color: \"blue\",\n          model: \"Model Y\",\n          type: \"EV\",\n          maker: \"Tesla\",\n          range: 400,\n        },\n      ],\n    },\n    {\n      inputs: testInputs,\n      params: {\n        inspect: [\n          { propId: \"isTesla\", equal: \"Tesla Motors\" }, // from: 1 is implied\n          { propId: \"isGM\", notEqual: \"Tesla Motors\", from: 1 },\n        ],\n      },\n      result: [\n        {\n          color: \"red\",\n          model: \"Model 3\",\n          type: \"EV\",\n          maker: \"Tesla\",\n          range: 300,\n          isTesla: true,\n          isGM: false,\n        },\n        {\n          color: \"blue\",\n          model: \"Model Y\",\n          type: \"EV\",\n          maker: \"Tesla\",\n          range: 400,\n          isTesla: true,\n          isGM: false,\n        },\n      ],\n    },\n  ],\n  description: \"Filter properties based on property name either with 'include', 'exclude', 'alter', 'swap', 'inject', 'inspect'\",\n  category: [\"data\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/data_agents/property_filter_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default propertyFilterAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { isNamedInputs } from \"@graphai/agent_utils\";\n\nexport const copyAgent: AgentFunction<{\n  namedKey?: string;\n}> = async ({ namedInputs, params }) => {\n  const { namedKey } = params;\n  assert(isNamedInputs(namedInputs), \"copyAgent: namedInputs is UNDEFINED!\");\n  if (namedKey) {\n    return namedInputs[namedKey];\n  }\n  return namedInputs;\n};\n\nconst copyAgentInfo: AgentFunctionInfo = {\n  name: \"copyAgent\",\n  agent: copyAgent,\n  mock: copyAgent,\n  inputs: {\n    anyOf: [{ type: \"string\" }, { type: \"integer\" }, { type: \"object\" }, { type: \"array\" }],\n  },\n  output: {\n    anyOf: [{ type: \"string\" }, { type: \"integer\" }, { type: \"object\" }, { type: \"array\" }],\n  },\n  samples: [\n    {\n      inputs: { color: \"red\", model: \"Model 3\" },\n      params: {},\n      result: { color: \"red\", model: \"Model 3\" },\n    },\n    {\n      inputs: { array: [\"Hello World\", \"Discarded\"] },\n      params: {},\n      result: { array: [\"Hello World\", \"Discarded\"] },\n    },\n    {\n      inputs: { color: \"red\", model: \"Model 3\" },\n      params: { namedKey: \"color\" },\n      result: \"red\",\n    },\n  ],\n  description: \"Returns namedInputs\",\n  category: [\"data\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/data_agents/copy_agent.ts\",\n\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default copyAgentInfo;\n","import type { AgentFunction, AgentFunctionInfo, DefaultResultData } from \"graphai\";\nimport { assert } from \"graphai\";\nimport { isNamedInputs } from \"@graphai/agent_utils\";\nimport type { GraphAISupressError } from \"@graphai/agent_utils\";\n\nexport const lookupDictionaryAgent: AgentFunction<\n  Record<string, DefaultResultData> & GraphAISupressError,\n  DefaultResultData,\n  {\n    namedKey: string;\n  }\n> = async ({ namedInputs, params }) => {\n  const { namedKey } = namedInputs;\n  assert(isNamedInputs(namedInputs), \"lookupDictionaryAgent: namedInputs is UNDEFINED!\");\n  const result = params[namedKey];\n  if (!params.supressError && result === undefined) {\n    throw new Error(`lookupDictionaryAgent error: ${namedKey} is missing`);\n  }\n  return result;\n};\n\nconst exampleParams = {\n  openai: {\n    model: \"gpt4-o\",\n    temperature: 0.7,\n  },\n  groq: {\n    model: \"llama3-8b-8192\",\n    temperature: 0.6,\n  },\n  gemini: {\n    model: \"gemini-2.0-pro-exp-02-05\",\n    temperature: 0.7,\n  },\n};\n\nconst lookupDictionaryAgentInfo: AgentFunctionInfo = {\n  name: \"lookupDictionaryAgent\",\n  agent: lookupDictionaryAgent,\n  mock: lookupDictionaryAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      namedKey: {\n        type: \"string\",\n        description: \"key of params\",\n      },\n    },\n    required: [\"namedKey\"],\n  },\n  output: {\n    anyOf: [{ type: \"string\" }, { type: \"integer\" }, { type: \"object\" }, { type: \"array\" }],\n  },\n  samples: [\n    {\n      inputs: { namedKey: \"openai\" },\n      params: exampleParams,\n      result: {\n        model: \"gpt4-o\",\n        temperature: 0.7,\n      },\n    },\n    {\n      inputs: { namedKey: \"gemini\" },\n      params: exampleParams,\n      result: {\n        model: \"gemini-2.0-pro-exp-02-05\",\n        temperature: 0.7,\n      },\n    },\n  ],\n  description: \"Select elements with params\",\n  category: [\"data\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/data_agents/lookup_dictionary_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default lookupDictionaryAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { isNamedInputs } from \"@graphai/agent_utils\";\n\nexport const mergeObjectAgent: AgentFunction<null, Record<string, any>, { items: Record<string, any> }> = async ({ namedInputs }) => {\n  assert(isNamedInputs(namedInputs), \"mergeObjectAgent: namedInputs is UNDEFINED!\");\n  const { items } = namedInputs;\n  assert(items !== undefined && Array.isArray(items), \"mergeObjectAgent: namedInputs.items is not array!\");\n\n  return Object.assign({}, ...items);\n};\n\nconst mergeObjectAgentInfo: AgentFunctionInfo = {\n  name: \"mergeObjectAgent\",\n  agent: mergeObjectAgent,\n  mock: mergeObjectAgent,\n  inputs: {\n    anyOf: [{ type: \"object\" }],\n  },\n  output: {\n    anyOf: { type: \"object\" },\n  },\n  samples: [\n    {\n      inputs: { items: [{ color: \"red\" }, { model: \"Model 3\" }] },\n      params: {},\n      result: { color: \"red\", model: \"Model 3\" },\n    },\n  ],\n  description: \"Returns namedInputs\",\n  category: [\"data\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/data_agents/merge_objects_agent.ts\",\n\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default mergeObjectAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport type { GraphAIDebug, GraphAISupressError, GraphAIFlatResponse } from \"@graphai/agent_utils\";\n\ntype FetchParam = {\n  url: string;\n  method?: string;\n  queryParams: any;\n  headers: Record<string, any>;\n  body: unknown;\n};\nconst allowedMethods = [\"GET\", \"HEAD\", \"POST\", \"OPTIONS\", \"PUT\", \"DELETE\", \"PATCH\" /* \"TRACE\" */];\nconst methodsRequiringBody = [\"POST\", \"PUT\", \"PATCH\"];\n\n/*\n  For compatibility, we are adding GraphAIFlatResponse to the parameters.\n By default, it is usually set to false, but it will be set to true for use in tutorials and similar cases.\n In the future, flat responses (non-object results) will be deprecated.\n Until then, we will set flatResponse to false using vanillaFetch and transition to object-based responses.\n Eventually, this option will be removed, and it will be ignored at runtime, always returning an object.\n */\n\nexport const vanillaFetchAgent: AgentFunction<\n  Partial<FetchParam & GraphAIDebug & GraphAISupressError & GraphAIFlatResponse & { type: string }>,\n  unknown,\n  FetchParam\n> = async ({ namedInputs, params, config }) => {\n  const { url, method, queryParams, body } = {\n    ...params,\n    ...namedInputs,\n  };\n  assert(!!url, \"fetchAgent: no url\");\n\n  const supressError = params.supressError ?? false;\n\n  const url0 = new URL(url);\n  const headers0 = {\n    ...(params.headers ? params.headers : {}),\n    ...(namedInputs.headers ? namedInputs.headers : {}),\n  };\n  if (config && config.authorization) {\n    headers0[\"Authorization\"] = config.authorization;\n  }\n\n  if (queryParams) {\n    const _params = new URLSearchParams(queryParams);\n    url0.search = _params.toString();\n  }\n\n  if (body) {\n    headers0[\"Content-Type\"] = \"application/json\";\n  }\n\n  //\n  const fetchOptions: RequestInit = {\n    method: method ? method.toUpperCase() : body ? \"POST\" : \"GET\",\n    headers: new Headers(headers0),\n    body: body ? JSON.stringify(body) : undefined,\n  };\n  assert(allowedMethods.includes(fetchOptions.method ?? \"\"), \"fetchAgent: invalid method: \" + fetchOptions.method);\n  assert(\n    !methodsRequiringBody.includes(fetchOptions.method ?? \"\") || !!body,\n    \"fetchAgent: The request body is required for this method: \" + fetchOptions.method,\n  );\n\n  if (params?.debug) {\n    return {\n      url: url0.toString(),\n      method: fetchOptions.method,\n      headers: headers0,\n      body: fetchOptions.body,\n    };\n  }\n\n  const response = await fetch(url0.toString(), fetchOptions);\n\n  if (!response.ok) {\n    const status = response.status;\n    const type = params?.type ?? \"json\";\n    const error = type === \"json\" ? await response.json() : await response.text();\n    if (supressError) {\n      return {\n        onError: {\n          message: `HTTP error: ${status}`,\n          status,\n          error,\n        },\n      };\n    }\n    throw new Error(`HTTP error: ${status}`);\n  }\n\n  const data = await (async () => {\n    const type = params?.type ?? \"json\";\n    if (type === \"json\") {\n      return await response.json();\n    } else if (type === \"text\") {\n      return response.text();\n    }\n    throw new Error(`Unknown Type! ${type}`);\n  })();\n\n  if (params.flatResponse === false) {\n    return { data };\n  }\n  return data;\n};\n\nconst vanillaFetchAgentInfo: AgentFunctionInfo = {\n  name: \"vanillaFetchAgent\",\n  agent: vanillaFetchAgent,\n  mock: vanillaFetchAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      url: {\n        type: \"string\",\n        description: \"baseurl\",\n      },\n      method: {\n        type: \"string\",\n        description: \"HTTP method\",\n      },\n      headers: {\n        type: \"object\",\n        description: \"HTTP headers\",\n      },\n      quaryParams: {\n        type: \"object\",\n        description: \"Query parameters\",\n      },\n      body: {\n        anyOf: [{ type: \"string\" }, { type: \"object\" }],\n        description: \"body\",\n      },\n    },\n    required: [],\n  },\n  output: {\n    type: \"array\",\n  },\n  samples: [\n    {\n      inputs: { url: \"https://example.com\", queryParams: { foo: \"bar\" }, headers: { \"x-myHeader\": \"secret\" } },\n      params: {\n        debug: true,\n      },\n      result: {\n        method: \"GET\",\n        url: \"https://example.com/?foo=bar\",\n        headers: {\n          \"x-myHeader\": \"secret\",\n        },\n        body: undefined,\n      },\n    },\n    {\n      inputs: { url: \"https://example.com\", body: { foo: \"bar\" } },\n      params: {\n        debug: true,\n      },\n      result: {\n        method: \"POST\",\n        url: \"https://example.com/\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ foo: \"bar\" }),\n      },\n    },\n    {\n      inputs: { url: \"https://example.com\", body: { foo: \"bar\" }, method: \"PUT\" },\n      params: {\n        debug: true,\n      },\n      result: {\n        method: \"PUT\",\n        url: \"https://example.com/\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ foo: \"bar\" }),\n      },\n    },\n    {\n      inputs: { url: \"https://example.com\", method: \"options\" },\n      params: {\n        debug: true,\n      },\n      result: {\n        method: \"OPTIONS\",\n        url: \"https://example.com/\",\n        headers: {},\n        body: undefined,\n      },\n    },\n    {\n      inputs: {},\n      params: {\n        url: \"https://example.com\",\n        body: { foo: \"bar\" },\n        method: \"PUT\",\n        debug: true,\n      },\n      result: {\n        method: \"PUT\",\n        url: \"https://example.com/\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ foo: \"bar\" }),\n      },\n    },\n    {\n      inputs: {\n        method: \"DELETE\",\n        headers: {\n          authentication: \"bearer XXX\",\n        },\n      },\n      params: {\n        url: \"https://example.com\",\n        body: { foo: \"bar\" },\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        debug: true,\n      },\n      result: {\n        method: \"DELETE\",\n        url: \"https://example.com/\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authentication: \"bearer XXX\",\n        },\n        body: JSON.stringify({ foo: \"bar\" }),\n      },\n    },\n  ],\n  description: \"Retrieves JSON data from the specified URL\",\n  category: [\"service\"],\n  author: \"Receptron\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/service_agents/vanilla_fetch_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default vanillaFetchAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, sleep } from \"graphai\";\n\nexport const sleeperAgent: AgentFunction<{ duration?: number }> = async ({ params, namedInputs }) => {\n  await sleep(params?.duration ?? 10);\n  return namedInputs;\n};\n\nconst sleeperAgentInfo: AgentFunctionInfo = {\n  name: \"sleeperAgent\",\n  agent: sleeperAgent,\n  mock: sleeperAgent,\n  samples: [\n    {\n      inputs: {},\n      params: { duration: 1 },\n      result: {},\n    },\n    {\n      inputs: { array: [{ a: 1 }, { b: 2 }] },\n      params: { duration: 1 },\n      result: {\n        array: [{ a: 1 }, { b: 2 }],\n      },\n    },\n  ],\n  description: \"sleeper Agent\",\n  category: [\"sleeper\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/sleeper_agents/sleeper_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default sleeperAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\nimport type { GraphAIResult, GraphAIArray } from \"@graphai/agent_utils\";\n\ntype CompareDataItem = string | number | boolean | CompareData;\ntype CompareData = CompareDataItem[];\n\nconst compare = (_array: CompareData): boolean => {\n  const array = _array.map((value) => {\n    if (Array.isArray(value)) {\n      return compare(value);\n    }\n    return value;\n  });\n  const [a, operator, b] = array;\n  if (operator === \"==\") {\n    return a === b;\n  }\n  if (operator === \"!=\") {\n    return a !== b;\n  }\n  if (operator === \">\") {\n    return Number(a) > Number(b);\n  }\n  if (operator === \">=\") {\n    return Number(a) >= Number(b);\n  }\n  if (operator === \"<\") {\n    return Number(a) < Number(b);\n  }\n  if (operator === \"<=\") {\n    return Number(a) <= Number(b);\n  }\n  if (operator === \"||\") {\n    return !!a || !!b;\n  }\n  if (operator === \"&&\") {\n    return !!a && !!b;\n  }\n  if (operator === \"XOR\") {\n    return !!a === !b;\n  }\n  throw new Error(`unknown compare operator`);\n};\n\n// TODO: move to agent_utils\nconst isNull = (data: unknown) => {\n  return data === null || data === undefined;\n};\n\nexport const compareAgent: AgentFunction<\n  { operator: string; value: Record<string, unknown> },\n  GraphAIResult,\n  Partial<GraphAIArray<CompareDataItem>> & { leftValue: CompareDataItem; rightValue: CompareDataItem }\n> = async ({ namedInputs, params }) => {\n  const { array: _array, leftValue, rightValue } = namedInputs;\n  const array = _array ?? [];\n  const inputs = (() => {\n    if (array.length === 2 && params.operator) {\n      return [array[0], params.operator, array[1]];\n    }\n    if (array.length === 3) {\n      return array;\n    }\n    if (array.length === 0 && !isNull(leftValue) && !isNull(rightValue) && params.operator) {\n      return [leftValue, params.operator, rightValue];\n    }\n    throw new Error(`compare inputs is wrong.`);\n  })();\n  const ret = compare(inputs);\n  if (params?.value) {\n    return {\n      result: params?.value[ret ? \"true\" : \"false\"] ?? ret,\n    };\n  }\n  return {\n    result: ret,\n  };\n};\n\nconst compareAgentInfo: AgentFunctionInfo = {\n  name: \"compareAgent\",\n  agent: compareAgent,\n  mock: compareAgent,\n  inputs: {},\n  output: {},\n  samples: [\n    {\n      inputs: { array: [\"abc\", \"==\", \"abc\"] },\n      params: { value: { true: \"a\", false: \"b\" } },\n      result: {\n        result: \"a\",\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"==\", \"abca\"] },\n      params: { value: { true: \"a\", false: \"b\" } },\n      result: {\n        result: \"b\",\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"==\", \"abc\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"==\", \"abcd\"] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"!=\", \"abc\"] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"!=\", \"abcd\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \">\", \"5\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \">\", \"15\"] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [10, \">\", 5] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, \">\", 15] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \">=\", \"5\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \">=\", \"10\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      // 10\n      inputs: { array: [\"10\", \">=\", \"19\"] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [10, \">=\", 5] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, \">=\", 10] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, \">=\", 19] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    //\n\n    {\n      inputs: { array: [\"10\", \"<\", \"5\"] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"<\", \"15\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, \"<\", 5] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [10, \"<\", 15] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"<=\", \"5\"] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"<=\", \"10\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      // 20\n      inputs: { array: [\"10\", \"<=\", \"19\"] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, \"<=\", 5] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [10, \"<=\", 10] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, \"<=\", 19] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n\n    {\n      inputs: { array: [true, \"||\", false] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [false, \"||\", false] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n\n    {\n      inputs: { array: [true, \"&&\", false] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [true, \"&&\", true] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [true, \"XOR\", false] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [false, \"XOR\", true] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [false, \"XOR\", false] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [true, \"XOR\", true] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    //\n    {\n      inputs: { array: [[\"aaa\", \"==\", \"aaa\"], \"||\", [\"aaa\", \"==\", \"bbb\"]] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [[\"aaa\", \"==\", \"aaa\"], \"&&\", [\"aaa\", \"==\", \"bbb\"]] },\n      params: {},\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [[[\"aaa\", \"==\", \"aaa\"], \"&&\", [\"bbb\", \"==\", \"bbb\"]], \"||\", [\"aaa\", \"&&\", \"bbb\"]] },\n      params: {},\n      result: {\n        result: true,\n      },\n    },\n\n    /// params.operator\n    {\n      inputs: { array: [\"abc\", \"abc\"] },\n      params: { value: { true: \"a\", false: \"b\" }, operator: \"==\" },\n      result: {\n        result: \"a\",\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"abca\"] },\n      params: { value: { true: \"a\", false: \"b\" }, operator: \"==\" },\n      result: {\n        result: \"b\",\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"abc\"] },\n      params: { operator: \"==\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"abcd\"] },\n      params: { operator: \"==\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"abc\"] },\n      params: { operator: \"!=\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"abc\", \"abcd\"] },\n      params: { operator: \"!=\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"5\"] },\n      params: { operator: \">\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"15\"] },\n      params: { operator: \">\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [10, 5] },\n      params: { operator: \">\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, 15] },\n      params: { operator: \">\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"5\"] },\n      params: { operator: \">=\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"10\"] },\n      params: { operator: \">=\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"19\"] },\n      params: { operator: \">=\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [10, 5] },\n      params: { operator: \">=\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, 10] },\n      params: { operator: \">=\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, 19] },\n      params: { operator: \">=\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"5\"] },\n      params: { operator: \"<\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [\"10\", \"15\"] },\n      params: { operator: \"<\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [10, 5] },\n      params: { operator: \"<\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [10, 15] },\n      params: { operator: \"<\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [true, false] },\n      params: { operator: \"||\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [false, false] },\n      params: { operator: \"||\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [true, false] },\n      params: { operator: \"&&\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [true, true] },\n      params: { operator: \"&&\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [true, false] },\n      params: { operator: \"XOR\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [false, true] },\n      params: { operator: \"XOR\" },\n      result: {\n        result: true,\n      },\n    },\n    {\n      inputs: { array: [false, false] },\n      params: { operator: \"XOR\" },\n      result: {\n        result: false,\n      },\n    },\n    {\n      inputs: { array: [true, true] },\n      params: { operator: \"XOR\" },\n      result: {\n        result: false,\n      },\n    },\n    /// left and right\n    {\n      inputs: { leftValue: \"abc\", rightValue: \"abc\" },\n      params: { value: { true: \"a\", false: \"b\" }, operator: \"==\" },\n      result: {\n        result: \"a\",\n      },\n    },\n    {\n      inputs: { leftValue: \"abc\", rightValue: \"abca\" },\n      params: { value: { true: \"a\", false: \"b\" }, operator: \"==\" },\n      result: {\n        result: \"b\",\n      },\n    },\n  ],\n  description: \"compare\",\n  category: [\"compare\"],\n  author: \"Receptron\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/compare_agents/compare_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default compareAgentInfo;\n","import { AgentFunction, AgentFunctionInfo, assert } from \"graphai\";\nimport { arrayValidate } from \"@graphai/agent_utils\";\n\n// https://platform.openai.com/docs/guides/vision\nconst getImageUrl = (data: string, imageType: string, detail?: string) => {\n  if (imageType === \"http\") {\n    return {\n      url: data,\n    };\n  }\n  const dataUrl = `data:image/${imageType};base64,${data}`;\n  return {\n    url: dataUrl,\n    detail: detail ?? \"auto\",\n  };\n};\n\ntype Content = { type: string; image_url: { url: string; detail?: string } } | { type: string; text: string };\n\nexport const images2messageAgent: AgentFunction<\n  {\n    imageType: string;\n    detail?: string;\n  },\n  {\n    message: {\n      role: \"user\";\n      content: Content[];\n    };\n  },\n  {\n    array: string[];\n    prompt?: string;\n  }\n> = async ({ namedInputs, params }) => {\n  const { imageType, detail } = params;\n  const { array, prompt } = namedInputs;\n  arrayValidate(\"images2messageAgent\", namedInputs);\n  assert(!!imageType, \"images2messageAgent: params.imageType is UNDEFINED! Set Type: png, jpg...\");\n\n  const contents: Content[] = array.map((base64ImageData) => {\n    const image_url = getImageUrl(base64ImageData, imageType, detail);\n    return {\n      type: \"image_url\",\n      image_url,\n    };\n  });\n\n  if (prompt) {\n    contents.unshift({ type: \"text\", text: prompt });\n  }\n\n  return {\n    message: {\n      role: \"user\",\n      content: contents,\n    },\n  };\n};\n\nconst images2messageAgentInfo: AgentFunctionInfo = {\n  name: \"images2messageAgent\",\n  agent: images2messageAgent,\n  mock: images2messageAgent,\n  inputs: {\n    type: \"object\",\n    properties: {\n      array: {\n        type: \"array\",\n        description: \"the array of base64 image data\",\n      },\n      prompt: {\n        type: \"string\",\n        description: \"prompt message\",\n      },\n    },\n    required: [\"array\"],\n  },\n  output: {\n    type: \"object\",\n  },\n  samples: [\n    {\n      inputs: { array: [\"abcabc\", \"122123\"] },\n      params: { imageType: \"png\" },\n      result: {\n        message: {\n          content: [\n            {\n              image_url: {\n                detail: \"auto\",\n                url: \"data:image/png;base64,abcabc\",\n              },\n              type: \"image_url\",\n            },\n            {\n              image_url: {\n                detail: \"auto\",\n                url: \"data:image/png;base64,122123\",\n              },\n              type: \"image_url\",\n            },\n          ],\n          role: \"user\",\n        },\n      },\n    },\n    {\n      inputs: { array: [\"abcabc\", \"122123\"], prompt: \"hello\" },\n      params: { imageType: \"jpg\", detail: \"high\" },\n      result: {\n        message: {\n          content: [\n            {\n              type: \"text\",\n              text: \"hello\",\n            },\n            {\n              image_url: {\n                detail: \"high\",\n                url: \"data:image/jpg;base64,abcabc\",\n              },\n              type: \"image_url\",\n            },\n            {\n              image_url: {\n                detail: \"high\",\n                url: \"data:image/jpg;base64,122123\",\n              },\n              type: \"image_url\",\n            },\n          ],\n          role: \"user\",\n        },\n      },\n    },\n    {\n      inputs: { array: [\"http://example.com/1.jpg\", \"http://example.com/2.jpg\"] },\n      params: { imageType: \"http\" },\n      result: {\n        message: {\n          content: [\n            {\n              image_url: {\n                url: \"http://example.com/1.jpg\",\n              },\n              type: \"image_url\",\n            },\n            {\n              image_url: {\n                url: \"http://example.com/2.jpg\",\n              },\n              type: \"image_url\",\n            },\n          ],\n          role: \"user\",\n        },\n      },\n    },\n  ],\n  description: \"Returns the message data for llm include image\",\n  category: [\"image\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/snakajima/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/images_agents/image_to_message_agent.ts\",\n  package: \"@graphai/vanilla\",\n  license: \"MIT\",\n};\nexport default images2messageAgentInfo;\n","import { AgentFunction, AgentFunctionInfo } from \"graphai\";\n\n// Type for OpenAI's Embedding API\ntype OpenAIEmbeddingResponse = {\n  object: string;\n  model: string;\n  usage: {\n    prompt_tokens: number;\n    total_tokens: number;\n  };\n  data: [\n    {\n      object: string;\n      index: number;\n      embedding: number[];\n    },\n  ];\n};\n\ntype OllamaEmbeddingResponse = {\n  model: string;\n  embeddings: number[][];\n  total_duration: number;\n  load_duration: number;\n  prompt_eval_count: number;\n};\n\n// https://ollama.com/blog/embedding-models\ntype EmbeddingAIParams = {\n  baseURL?: string;\n  apiKey?: string;\n  model?: string;\n};\n\nconst defaultEmbeddingModel = \"text-embedding-3-small\";\nconst OpenAI_embedding_API = \"https://api.openai.com/v1/embeddings\";\n\n// This agent retrieves embedding vectors for an array of strings using OpenAI's API\n//\n// Parameters:\n//   model: Specifies the model (default is \"text-embedding-3-small\")\n// NamedInputs:\n//   array: Array<string>\n//   item: string,\n// Result:\n//   contents: Array<Array<number>>\n//\nexport const stringEmbeddingsAgent: AgentFunction<EmbeddingAIParams, number[][], { array: Array<string>; item: string }, EmbeddingAIParams> = async ({\n  params,\n  namedInputs,\n  config,\n}) => {\n  const { array, item } = namedInputs;\n  const { apiKey, model, baseURL } = {\n    ...(config || {}),\n    ...params,\n  };\n\n  const url = baseURL ?? OpenAI_embedding_API;\n  const theModel = model ?? defaultEmbeddingModel;\n\n  const openAIKey = apiKey ?? process.env.OPENAI_API_KEY;\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    Authorization: openAIKey ? `Bearer ${openAIKey}` : \"\",\n  };\n\n  const sources = array ?? [item];\n\n  const response = await fetch(url, {\n    method: \"POST\",\n    headers,\n    body: JSON.stringify({\n      input: sources,\n      model: theModel,\n    }),\n  });\n  const jsonResponse: OpenAIEmbeddingResponse | OllamaEmbeddingResponse = await response.json();\n\n  if (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`);\n  }\n  if (\"data\" in jsonResponse) {\n    // maybe openAI\n    return jsonResponse.data.map((object) => {\n      return object.embedding;\n    });\n  }\n  if (\"embeddings\" in jsonResponse) {\n    // ollama\n    return jsonResponse.embeddings;\n  }\n};\n\nconst stringEmbeddingsAgentInfo: AgentFunctionInfo = {\n  name: \"stringEmbeddingsAgent\",\n  agent: stringEmbeddingsAgent,\n  mock: stringEmbeddingsAgent,\n  samples: [],\n  description: \"Embeddings Agent\",\n  category: [\"embedding\"],\n  author: \"Receptron team\",\n  repository: \"https://github.com/receptron/graphai\",\n  source: \"https://github.com/receptron/graphai/blob/main/agents/vanilla_agents/src/embedding_agent.ts\",\n  package: \"@graphai/vanilla\",\n  cacheType: \"pureAgent\",\n  license: \"MIT\",\n};\nexport default stringEmbeddingsAgentInfo;\n"],"names":["stringSplitterAgent","async","params","namedInputs","assert","source","text","chunkSize","overlap","Math","floor","count","length","contents","Array","fill","undefined","map","_","i","startIndex","substring","stringSplitterAgentInfo","name","agent","mock","inputs","type","properties","description","required","output","samples","result","category","author","repository","package","license","processTemplate","template","match","input","replace","isArray","item","isObject","Object","keys","reduce","tmp","key","stringTemplateAgent","console","warn","sampleNamedInput","message1","message2","stringTemplateAgentInfo","apple","lemon","row","version","nodes","ai","isResult","prompt","cacheType","jsonParserAgent","data","JSON","stringify","parse","sample_object","json_str","md_json1","join","md_json2","md_json3","jsonParserAgentInfo","anyOf","stringCaseVariantsAgent","suffix","normalizedArray","trim","toLowerCase","split","push","normalized","lowerCamelCase","word","index","charAt","toUpperCase","slice","snakeCase","kebabCase","stringCaseVariantsAgentInfo","nestedAgentGenerator","graphData","options","context","log","debugInfo","forNestedGraph","agents","graphOptions","onLogCallback","callbacks","taskManager","supressError","status","getStatus","concurrency","running","newNodes","node","value","update","nestedGraphData","graphDataLatestVersion","nodeIds","forEach","nodeId","graphAI","GraphAI","subGraphs","set","graphId","results","run","delete","transactionLogs","resultNodeId","error","Error","onError","message","nestedAgent","nestedAgentInfo","test","graph","namedKey","messages","stringUpdateTextAgent","newText","oldText","isNewText","if","isOldText","unless","updatedText","anyInput","resultText","stringUpdateTextAgentInfo","tools","hasGraphData","consoleAgent","info","consoleAgentInfo","pushAgent","extra_message","arrayValidate","items","array","pushAgentInfo","banana","popAgent","pop","popAgentInfo","array2","shiftAgent","shift","shiftAgentInfo","arrayFlatAgent","depth","flat","arrayFlatAgentInfo","arrayJoinAgent","separator","arrayJoinAgentInfo","arrayToObjectAgent","isNamedInputs","current","arrayToObjectAgentInfo","id","dotProductAgent","matrix","vector","vector0","dotProduct","dotProductAgentInfo","sortByValuesAgent","values","direction","assendant","sort","a","b","sortByValuesAgentInfo","echoAgent","filterParams","echoAgentInfo","countingAgent","list","countingAgentInfo","copyMessageAgent","copyMessageAgentInfo","copy2ArrayAgent","copy2ArrayAgentInfo","mergeNodeIdAgent","mergeNodeIdAgentInfo","streamMockAgent","token","streamTokenCallback","sleep","streamMockAgentInfo","stream","mapAgent","limit","resultAll","compositeResult","compositeResultKey","rowKey","expandKeys","rows","rowInputKey","mappedNodeId","graphs","injectValue","expandKey","runs","Promise","all","logs","mapIndex","_compositeResult","mapAgentInfo","color","node2","fruit","verb","__mapIndex","totalAgent","flatResponse","response","innerInput","totalAgentInfo","c","d","dataSumTemplateAgent","sum","dataSumTemplateAgentInfo","applyFilter","object","arrayInputs","include","exclude","alter","inject","swap","inspect","propIds","excludeSet","Set","propId","has","mapping","from","equal","notEqual","propertyFilterAgent","target","testInputs","model","maker","range","propertyFilterAgentInfo","red","blue","isTesla","isGM","copyAgent","copyAgentInfo","lookupDictionaryAgent","exampleParams","openai","temperature","groq","gemini","lookupDictionaryAgentInfo","mergeObjectAgent","assign","mergeObjectAgentInfo","allowedMethods","methodsRequiringBody","vanillaFetchAgent","config","url","method","queryParams","body","url0","URL","headers0","headers","authorization","_params","URLSearchParams","search","toString","fetchOptions","Headers","includes","debug","fetch","ok","json","vanillaFetchAgentInfo","quaryParams","foo","authentication","sleeperAgent","duration","sleeperAgentInfo","compare","_array","operator","Number","isNull","compareAgent","leftValue","rightValue","ret","compareAgentInfo","true","false","images2messageAgent","imageType","detail","base64ImageData","image_url","getImageUrl","unshift","role","content","images2messageAgentInfo","stringEmbeddingsAgent","apiKey","baseURL","theModel","openAIKey","process","env","OPENAI_API_KEY","Authorization","sources","jsonResponse","embedding","embeddings","stringEmbeddingsAgentInfo"],"mappings":"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"}